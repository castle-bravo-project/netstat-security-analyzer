(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function o(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerPolicy&&(p.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?p.credentials="include":c.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function l(c){if(c.ep)return;c.ep=!0;const p=o(c);fetch(c.href,p)}})();function Lh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Xu={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function p0(){if(Qm)return pl;Qm=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,c,p){var g=null;if(p!==void 0&&(g=""+p),c.key!==void 0&&(g=""+c.key),"key"in c){p={};for(var v in c)v!=="key"&&(p[v]=c[v])}else p=c;return c=p.ref,{$$typeof:i,type:l,key:g,ref:c!==void 0?c:null,props:p}}return pl.Fragment=e,pl.jsx=o,pl.jsxs=o,pl}var Zm;function h0(){return Zm||(Zm=1,Xu.exports=p0()),Xu.exports}var d=h0(),Qu={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function g0(){if(Wm)return we;Wm=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function M(w){return w===null||typeof w!="object"?null:(w=A&&w[A]||w["@@iterator"],typeof w=="function"?w:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,j={};function Q(w,K,ne){this.props=w,this.context=K,this.refs=j,this.updater=ne||V}Q.prototype.isReactComponent={},Q.prototype.setState=function(w,K){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,K,"setState")},Q.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function ae(){}ae.prototype=Q.prototype;function se(w,K,ne){this.props=w,this.context=K,this.refs=j,this.updater=ne||V}var ie=se.prototype=new ae;ie.constructor=se,$(ie,Q.prototype),ie.isPureReactComponent=!0;var ce=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},Ne=Object.prototype.hasOwnProperty;function Te(w,K,ne,ee,me,_e){return ne=_e.ref,{$$typeof:i,type:w,key:K,ref:ne!==void 0?ne:null,props:_e}}function ze(w,K){return Te(w.type,K,void 0,void 0,void 0,w.props)}function de(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function Ve(w){var K={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return K[ne]})}var Me=/\/+/g;function Ce(w,K){return typeof w=="object"&&w!==null&&w.key!=null?Ve(""+w.key):K.toString(36)}function Rt(){}function Wt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Rt,Rt):(w.status="pending",w.then(function(K){w.status==="pending"&&(w.status="fulfilled",w.value=K)},function(K){w.status==="pending"&&(w.status="rejected",w.reason=K)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function $e(w,K,ne,ee,me){var _e=typeof w;(_e==="undefined"||_e==="boolean")&&(w=null);var xe=!1;if(w===null)xe=!0;else switch(_e){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(w.$$typeof){case i:case e:xe=!0;break;case T:return xe=w._init,$e(xe(w._payload),K,ne,ee,me)}}if(xe)return me=me(w),xe=ee===""?"."+Ce(w,0):ee,ce(me)?(ne="",xe!=null&&(ne=xe.replace(Me,"$&/")+"/"),$e(me,K,ne,"",function(St){return St})):me!=null&&(de(me)&&(me=ze(me,ne+(me.key==null||w&&w.key===me.key?"":(""+me.key).replace(Me,"$&/")+"/")+xe)),K.push(me)),1;xe=0;var Vt=ee===""?".":ee+":";if(ce(w))for(var Qe=0;Qe<w.length;Qe++)ee=w[Qe],_e=Vt+Ce(ee,Qe),xe+=$e(ee,K,ne,_e,me);else if(Qe=M(w),typeof Qe=="function")for(w=Qe.call(w),Qe=0;!(ee=w.next()).done;)ee=ee.value,_e=Vt+Ce(ee,Qe++),xe+=$e(ee,K,ne,_e,me);else if(_e==="object"){if(typeof w.then=="function")return $e(Wt(w),K,ne,ee,me);throw K=String(w),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function q(w,K,ne){if(w==null)return w;var ee=[],me=0;return $e(w,ee,"","",function(_e){return K.call(ne,_e,me++)}),ee}function te(w){if(w._status===-1){var K=w._result;K=K(),K.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=K)}if(w._status===1)return w._result.default;throw w._result}var pe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ye(){}return we.Children={map:q,forEach:function(w,K,ne){q(w,function(){K.apply(this,arguments)},ne)},count:function(w){var K=0;return q(w,function(){K++}),K},toArray:function(w){return q(w,function(K){return K})||[]},only:function(w){if(!de(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},we.Component=Q,we.Fragment=o,we.Profiler=c,we.PureComponent=se,we.StrictMode=l,we.Suspense=x,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,we.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Z.H.useMemoCache(w)}},we.cache=function(w){return function(){return w.apply(null,arguments)}},we.cloneElement=function(w,K,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ee=$({},w.props),me=w.key,_e=void 0;if(K!=null)for(xe in K.ref!==void 0&&(_e=void 0),K.key!==void 0&&(me=""+K.key),K)!Ne.call(K,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&K.ref===void 0||(ee[xe]=K[xe]);var xe=arguments.length-2;if(xe===1)ee.children=ne;else if(1<xe){for(var Vt=Array(xe),Qe=0;Qe<xe;Qe++)Vt[Qe]=arguments[Qe+2];ee.children=Vt}return Te(w.type,me,void 0,void 0,_e,ee)},we.createContext=function(w){return w={$$typeof:g,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:p,_context:w},w},we.createElement=function(w,K,ne){var ee,me={},_e=null;if(K!=null)for(ee in K.key!==void 0&&(_e=""+K.key),K)Ne.call(K,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(me[ee]=K[ee]);var xe=arguments.length-2;if(xe===1)me.children=ne;else if(1<xe){for(var Vt=Array(xe),Qe=0;Qe<xe;Qe++)Vt[Qe]=arguments[Qe+2];me.children=Vt}if(w&&w.defaultProps)for(ee in xe=w.defaultProps,xe)me[ee]===void 0&&(me[ee]=xe[ee]);return Te(w,_e,void 0,void 0,null,me)},we.createRef=function(){return{current:null}},we.forwardRef=function(w){return{$$typeof:v,render:w}},we.isValidElement=de,we.lazy=function(w){return{$$typeof:T,_payload:{_status:-1,_result:w},_init:te}},we.memo=function(w,K){return{$$typeof:h,type:w,compare:K===void 0?null:K}},we.startTransition=function(w){var K=Z.T,ne={};Z.T=ne;try{var ee=w(),me=Z.S;me!==null&&me(ne,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ye,pe)}catch(_e){pe(_e)}finally{Z.T=K}},we.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},we.use=function(w){return Z.H.use(w)},we.useActionState=function(w,K,ne){return Z.H.useActionState(w,K,ne)},we.useCallback=function(w,K){return Z.H.useCallback(w,K)},we.useContext=function(w){return Z.H.useContext(w)},we.useDebugValue=function(){},we.useDeferredValue=function(w,K){return Z.H.useDeferredValue(w,K)},we.useEffect=function(w,K,ne){var ee=Z.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(w,K)},we.useId=function(){return Z.H.useId()},we.useImperativeHandle=function(w,K,ne){return Z.H.useImperativeHandle(w,K,ne)},we.useInsertionEffect=function(w,K){return Z.H.useInsertionEffect(w,K)},we.useLayoutEffect=function(w,K){return Z.H.useLayoutEffect(w,K)},we.useMemo=function(w,K){return Z.H.useMemo(w,K)},we.useOptimistic=function(w,K){return Z.H.useOptimistic(w,K)},we.useReducer=function(w,K,ne){return Z.H.useReducer(w,K,ne)},we.useRef=function(w){return Z.H.useRef(w)},we.useState=function(w){return Z.H.useState(w)},we.useSyncExternalStore=function(w,K,ne){return Z.H.useSyncExternalStore(w,K,ne)},we.useTransition=function(){return Z.H.useTransition()},we.version="19.1.0",we}var ep;function Ec(){return ep||(ep=1,Qu.exports=g0()),Qu.exports}var oe=Ec();const Vh=Lh(oe);var Zu={exports:{}},hl={},Wu={exports:{}},ec={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function y0(){return tp||(tp=1,function(i){function e(q,te){var pe=q.length;q.push(te);e:for(;0<pe;){var Ye=pe-1>>>1,w=q[Ye];if(0<c(w,te))q[Ye]=te,q[pe]=w,pe=Ye;else break e}}function o(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var te=q[0],pe=q.pop();if(pe!==te){q[0]=pe;e:for(var Ye=0,w=q.length,K=w>>>1;Ye<K;){var ne=2*(Ye+1)-1,ee=q[ne],me=ne+1,_e=q[me];if(0>c(ee,pe))me<w&&0>c(_e,ee)?(q[Ye]=_e,q[me]=pe,Ye=me):(q[Ye]=ee,q[ne]=pe,Ye=ne);else if(me<w&&0>c(_e,pe))q[Ye]=_e,q[me]=pe,Ye=me;else break e}}return te}function c(q,te){var pe=q.sortIndex-te.sortIndex;return pe!==0?pe:q.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var g=Date,v=g.now();i.unstable_now=function(){return g.now()-v}}var x=[],h=[],T=1,A=null,M=3,V=!1,$=!1,j=!1,Q=!1,ae=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ce(q){for(var te=o(h);te!==null;){if(te.callback===null)l(h);else if(te.startTime<=q)l(h),te.sortIndex=te.expirationTime,e(x,te);else break;te=o(h)}}function Z(q){if(j=!1,ce(q),!$)if(o(x)!==null)$=!0,Ne||(Ne=!0,Ce());else{var te=o(h);te!==null&&$e(Z,te.startTime-q)}}var Ne=!1,Te=-1,ze=5,de=-1;function Ve(){return Q?!0:!(i.unstable_now()-de<ze)}function Me(){if(Q=!1,Ne){var q=i.unstable_now();de=q;var te=!0;try{e:{$=!1,j&&(j=!1,se(Te),Te=-1),V=!0;var pe=M;try{t:{for(ce(q),A=o(x);A!==null&&!(A.expirationTime>q&&Ve());){var Ye=A.callback;if(typeof Ye=="function"){A.callback=null,M=A.priorityLevel;var w=Ye(A.expirationTime<=q);if(q=i.unstable_now(),typeof w=="function"){A.callback=w,ce(q),te=!0;break t}A===o(x)&&l(x),ce(q)}else l(x);A=o(x)}if(A!==null)te=!0;else{var K=o(h);K!==null&&$e(Z,K.startTime-q),te=!1}}break e}finally{A=null,M=pe,V=!1}te=void 0}}finally{te?Ce():Ne=!1}}}var Ce;if(typeof ie=="function")Ce=function(){ie(Me)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,Wt=Rt.port2;Rt.port1.onmessage=Me,Ce=function(){Wt.postMessage(null)}}else Ce=function(){ae(Me,0)};function $e(q,te){Te=ae(function(){q(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_next=function(q){switch(M){case 1:case 2:case 3:var te=3;break;default:te=M}var pe=M;M=te;try{return q()}finally{M=pe}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var pe=M;M=q;try{return te()}finally{M=pe}},i.unstable_scheduleCallback=function(q,te,pe){var Ye=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ye+pe:Ye):pe=Ye,q){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=pe+w,q={id:T++,callback:te,priorityLevel:q,startTime:pe,expirationTime:w,sortIndex:-1},pe>Ye?(q.sortIndex=pe,e(h,q),o(x)===null&&q===o(h)&&(j?(se(Te),Te=-1):j=!0,$e(Z,pe-Ye))):(q.sortIndex=w,e(x,q),$||V||($=!0,Ne||(Ne=!0,Ce()))),q},i.unstable_shouldYield=Ve,i.unstable_wrapCallback=function(q){var te=M;return function(){var pe=M;M=te;try{return q.apply(this,arguments)}finally{M=pe}}}}(ec)),ec}var np;function v0(){return np||(np=1,Wu.exports=y0()),Wu.exports}var tc={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function x0(){if(ip)return Ft;ip=1;var i=Ec();function e(x){var h="https://react.dev/errors/"+x;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)h+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+x+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function p(x,h,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:x,containerInfo:h,implementation:T}}var g=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(x,h){if(x==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ft.createPortal=function(x,h){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return p(x,h,null,T)},Ft.flushSync=function(x){var h=g.T,T=l.p;try{if(g.T=null,l.p=2,x)return x()}finally{g.T=h,l.p=T,l.d.f()}},Ft.preconnect=function(x,h){typeof x=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(x,h))},Ft.prefetchDNS=function(x){typeof x=="string"&&l.d.D(x)},Ft.preinit=function(x,h){if(typeof x=="string"&&h&&typeof h.as=="string"){var T=h.as,A=v(T,h.crossOrigin),M=typeof h.integrity=="string"?h.integrity:void 0,V=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;T==="style"?l.d.S(x,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:V}):T==="script"&&l.d.X(x,{crossOrigin:A,integrity:M,fetchPriority:V,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ft.preinitModule=function(x,h){if(typeof x=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var T=v(h.as,h.crossOrigin);l.d.M(x,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(x)},Ft.preload=function(x,h){if(typeof x=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var T=h.as,A=v(T,h.crossOrigin);l.d.L(x,T,{crossOrigin:A,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ft.preloadModule=function(x,h){if(typeof x=="string")if(h){var T=v(h.as,h.crossOrigin);l.d.m(x,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(x)},Ft.requestFormReset=function(x){l.d.r(x)},Ft.unstable_batchedUpdates=function(x,h){return x(h)},Ft.useFormState=function(x,h,T){return g.H.useFormState(x,h,T)},Ft.useFormStatus=function(){return g.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var op;function T0(){if(op)return tc.exports;op=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),tc.exports=x0(),tc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function C0(){if(sp)return hl;sp=1;var i=v0(),e=Ec(),o=T0();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function g(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(p(t)!==t)throw Error(l(188))}function x(t){var n=t.alternate;if(!n){if(n=p(t),n===null)throw Error(l(188));return n!==t?null:t}for(var s=t,u=n;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return v(f),t;if(m===u)return v(f),n;m=m.sibling}throw Error(l(188))}if(s.return!==u.return)s=f,u=m;else{for(var C=!1,S=f.child;S;){if(S===s){C=!0,s=f,u=m;break}if(S===u){C=!0,u=f,s=m;break}S=S.sibling}if(!C){for(S=m.child;S;){if(S===s){C=!0,s=m,u=f;break}if(S===u){C=!0,u=m,s=f;break}S=S.sibling}if(!C)throw Error(l(189))}}if(s.alternate!==u)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:n}function h(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=h(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Ve=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function Ce(t){return t===null||typeof t!="object"?null:(t=Me&&t[Me]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Symbol.for("react.client.reference");function Wt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Rt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Q:return"Profiler";case j:return"StrictMode";case Z:return"Suspense";case Ne:return"SuspenseList";case de:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Te:return n=t.displayName||null,n!==null?n:Wt(t.type)||"Memo";case ze:n=t._payload,t=t._init;try{return Wt(t(n))}catch{}}return null}var $e=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ye=[],w=-1;function K(t){return{current:t}}function ne(t){0>w||(t.current=Ye[w],Ye[w]=null,w--)}function ee(t,n){w++,Ye[w]=t.current,t.current=n}var me=K(null),_e=K(null),xe=K(null),Vt=K(null);function Qe(t,n){switch(ee(xe,n),ee(_e,t),ee(me,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Nm(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Nm(n),t=Mm(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(me),ee(me,t)}function St(){ne(me),ne(_e),ne(xe)}function ui(t){t.memoizedState!==null&&ee(Vt,t);var n=me.current,s=Mm(n,t.type);n!==s&&(ee(_e,t),ee(me,s))}function ci(t){_e.current===t&&(ne(me),ne(_e)),Vt.current===t&&(ne(Vt),ul._currentValue=pe)}var ho=Object.prototype.hasOwnProperty,qn=i.unstable_scheduleCallback,fi=i.unstable_cancelCallback,ms=i.unstable_shouldYield,Tl=i.unstable_requestPaint,vt=i.unstable_now,go=i.unstable_getCurrentPriorityLevel,Gn=i.unstable_ImmediatePriority,yo=i.unstable_UserBlockingPriority,Bi=i.unstable_NormalPriority,An=i.unstable_LowPriority,ps=i.unstable_IdlePriority,zi=i.log,cn=i.unstable_setDisableYieldValue,Hi=null,xt=null;function At(t){if(typeof zi=="function"&&cn(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Hi,t)}catch{}}var Dt=Math.clz32?Math.clz32:xo,vo=Math.log,Oi=Math.LN2;function xo(t){return t>>>=0,t===0?32:31-(vo(t)/Oi|0)|0}var bn=256,Fi=4194304;function qt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bn(t,n,s){var u=t.pendingLanes;if(u===0)return 0;var f=0,m=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=qt(u):(C&=S,C!==0?f=qt(C):s||(s=S&~t,s!==0&&(f=qt(s))))):(S=u&~m,S!==0?f=qt(S):C!==0?f=qt(C):s||(s=u&~t,s!==0&&(f=qt(s)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:f}function fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function hs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var t=bn;return bn<<=1,(bn&4194048)===0&&(bn=256),t}function Sl(){var t=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),t}function gs(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function dn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wa(t,n,s,u,f,m){var C=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,U=t.hiddenUpdates;for(s=C&~s;0<s;){var F=31-Dt(s),J=1<<F;S[F]=0,N[F]=-1;var G=U[F];if(G!==null)for(U[F]=null,F=0;F<G.length;F++){var z=G[F];z!==null&&(z.lane&=-536870913)}s&=~J}u!==0&&Al(t,u,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(C&~n))}function Al(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var u=31-Dt(n);t.entangledLanes|=n,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function El(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var u=31-Dt(s),f=1<<u;f&n|t[u]&n&&(t[u]|=n),s&=~f}}function ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function To(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:$m(t.type))}function Et(t,n){var s=te.p;try{return te.p=t,n()}finally{te.p=s}}var wn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+wn,Gt="__reactProps$"+wn,di="__reactContainer$"+wn,lt="__reactEvents$"+wn,pt="__reactListeners$"+wn,er="__reactHandles$"+wn,Co="__reactResources$"+wn,$i="__reactMarker$"+wn;function So(t){delete t[Nt],delete t[Gt],delete t[lt],delete t[pt],delete t[er]}function Se(t){var n=t[Nt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[di]||s[Nt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Rm(t);t!==null;){if(s=t[Nt])return s;t=Rm(t)}return n}t=s,s=t.parentNode}return null}function be(t){if(t=t[Nt]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function zn(t){var n=t[Co];return n||(n=t[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(t){t[$i]=!0}var xs=new Set,Nl={};function Hn(t,n){mi(t,n),mi(t+"Capture",n)}function mi(t,n){for(Nl[t]=n,t=0;t<n.length;t++)xs.add(n[t])}var tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},_l={};function nr(t){return ho.call(_l,t)?!0:ho.call(Ml,t)?!1:tr.test(t)?_l[t]=!0:(Ml[t]=!0,!1)}function Ao(t,n,s){if(nr(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Eo(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function qe(t,n,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+u)}}var No,bl;function pi(t){if(No===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);No=n&&n[1]||"",bl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+No+t+bl}var Ts=!1;function Cs(t,n){if(!t||Ts)return"";Ts=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(z){var G=z}Reflect.construct(t,[],J)}else{try{J.call()}catch(z){G=z}t.call(J.prototype)}}else{try{throw Error()}catch(z){G=z}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(z){if(z&&G&&typeof z.stack=="string")return[z.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),C=m[0],S=m[1];if(C&&S){var N=C.split(`
`),U=S.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===U.length)for(u=N.length-1,f=U.length-1;1<=u&&0<=f&&N[u]!==U[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==U[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==U[f]){var F=`
`+N[u].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=u&&0<=f);break}}}finally{Ts=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?pi(s):""}function Yt(t){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Cs(t.type,!1);case 11:return Cs(t.type.render,!1);case 1:return Cs(t.type,!0);case 31:return pi("Activity");default:return""}}function Yi(t){try{var n="";do n+=Yt(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ss(t){var n=wl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(C){u=""+C,m.call(this,C)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function zt(t){t._valueTracker||(t._valueTracker=Ss(t))}function Mo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return t&&(u=wl(t)?t.checked?"true":"false":t.value),t=u,t!==s?(n.setValue(t),!0):!1}function On(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var It=/[\n"\\]/g;function Ht(t){return t.replace(It,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ji(t,n,s,u,f,m,C,S){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),n!=null?C==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Bt(n)):t.value!==""+Bt(n)&&(t.value=""+Bt(n)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),n!=null?As(t,C,Bt(n)):s!=null?As(t,C,Bt(s)):u!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function En(t,n,s,u,f,m,C,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;s=s!=null?""+Bt(s):"",n=n!=null?""+Bt(n):s,S||n===t.value||(t.value=n),t.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=S?t.checked:!!u,t.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C)}function As(t,n,s){n==="number"&&On(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Rn(t,n,s,u){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Bt(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Ki(t,n,s){if(n!=null&&(n=""+Bt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Bt(s):""}function Rl(t,n,s,u){if(n==null){if(u!=null){if(s!=null)throw Error(l(92));if($e(u)){if(1<u.length)throw Error(l(93));u=u[0]}s=u}s==null&&(s=""),n=s}s=Bt(n),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function Fn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Dl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Es(t,n,s){var u=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":u?t.setProperty(n,s):typeof s!="number"||s===0||Dl.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Il(t,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&s[f]!==u&&Es(t,f,u)}else for(var m in n)n.hasOwnProperty(m)&&Es(t,m,n[m])}function Dn(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _(t){return y.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var E=null;function D(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var H=null,L=null;function P(t){var n=be(t);if(n&&(t=n.stateNode)){var s=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ji(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ht(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==t&&u.form===t.form){var f=u[Gt]||null;if(!f)throw Error(l(90));Ji(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)u=s[n],u.form===t.form&&Mo(u)}break e;case"textarea":Ki(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Rn(t,!!s.multiple,n,!1)}}}var O=!1;function b(t,n,s){if(O)return t(n,s);O=!0;try{var u=t(n);return u}finally{if(O=!1,(H!==null||L!==null)&&(pa(),H&&(n=H,t=L,L=H=null,P(n),t)))for(n=0;n<t.length;n++)P(t[n])}}function X(t,n){var s=t.stateNode;if(s===null)return null;var u=s[Gt]||null;if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var B=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W=!1;if(B)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){W=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch{W=!1}var De=null,rt=null,Mt=null;function en(){if(Mt)return Mt;var t,n=rt,s=n.length,u,f="value"in De?De.value:De.textContent,m=f.length;for(t=0;t<s&&n[t]===f[t];t++);var C=s-t;for(u=1;u<=C&&n[s-u]===f[m-u];u++);return Mt=f.slice(t,1<u?1-u:void 0)}function tn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $n(){return!0}function Yn(){return!1}function Pt(t){function n(s,u,f,m,C){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$n:Yn,this.isPropagationStopped=Yn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),n}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Pt(In),hi=T({},In,{view:0,detail:0}),kl=Pt(hi),_o,ge,he,Ie=T({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==he&&(he&&t.type==="mousemove"?(_o=t.screenX-he.screenX,ge=t.screenY-he.screenY):ge=_o=0,he=t),_o)},movementY:function(t){return"movementY"in t?t.movementY:ge}}),Jt=Pt(Ie),Ns=T({},Ie,{dataTransfer:0}),gg=Pt(Ns),yg=T({},hi,{relatedTarget:0}),ir=Pt(yg),vg=T({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=Pt(vg),Tg=T({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cg=Pt(Tg),Sg=T({},In,{data:0}),Dc=Pt(Sg),Ag={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mg(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ng[t])?!!n[t]:!1}function or(){return Mg}var _g=T({},hi,{key:function(t){if(t.key){var n=Ag[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=tn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(t){return t.type==="keypress"?tn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bg=Pt(_g),wg=T({},Ie,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=Pt(wg),Rg=T({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),Dg=Pt(Rg),Ig=T({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pg=Pt(Ig),kg=T({},Ie,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=Pt(kg),Lg=T({},In,{newState:0,oldState:0}),Vg=Pt(Lg),qg=[9,13,27,32],sr=B&&"CompositionEvent"in window,Ms=null;B&&"documentMode"in document&&(Ms=document.documentMode);var Gg=B&&"TextEvent"in window&&!Ms,Pc=B&&(!sr||Ms&&8<Ms&&11>=Ms),kc=" ",Uc=!1;function Lc(t,n){switch(t){case"keyup":return qg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bo=!1;function Bg(t,n){switch(t){case"compositionend":return Vc(n);case"keypress":return n.which!==32?null:(Uc=!0,kc);case"textInput":return t=n.data,t===kc&&Uc?null:t;default:return null}}function zg(t,n){if(bo)return t==="compositionend"||!sr&&Lc(t,n)?(t=en(),Mt=rt=De=null,bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pc&&n.locale!=="ko"?null:n.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Hg[t.type]:n==="textarea"}function Gc(t,n,s,u){H?L?L.push(u):L=[u]:H=u,n=Ta(n,"onChange"),0<n.length&&(s=new ji("onChange","change",null,s,u),t.push({event:s,listeners:n}))}var _s=null,bs=null;function Og(t){Tm(t,0)}function Ul(t){var n=jt(t);if(Mo(n))return t}function Bc(t,n){if(t==="change")return n}var zc=!1;if(B){var lr;if(B){var ar="oninput"in document;if(!ar){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),ar=typeof Hc.oninput=="function"}lr=ar}else lr=!1;zc=lr&&(!document.documentMode||9<document.documentMode)}function Oc(){_s&&(_s.detachEvent("onpropertychange",Fc),bs=_s=null)}function Fc(t){if(t.propertyName==="value"&&Ul(bs)){var n=[];Gc(n,bs,t,D(t)),b(Og,n)}}function Fg(t,n,s){t==="focusin"?(Oc(),_s=n,bs=s,_s.attachEvent("onpropertychange",Fc)):t==="focusout"&&Oc()}function $g(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ul(bs)}function Yg(t,n){if(t==="click")return Ul(n)}function Jg(t,n){if(t==="input"||t==="change")return Ul(n)}function Kg(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Kg;function ws(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!ho.call(n,f)||!nn(t[f],n[f]))return!1}return!0}function $c(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yc(t,n){var s=$c(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=n&&u>=n)return{node:s,offset:n-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=$c(s)}}function Jc(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jc(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=On(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=On(t.document)}return n}function rr(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var jg=B&&"documentMode"in document&&11>=document.documentMode,wo=null,ur=null,Rs=null,cr=!1;function jc(t,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;cr||wo==null||wo!==On(u)||(u=wo,"selectionStart"in u&&rr(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rs&&ws(Rs,u)||(Rs=u,u=Ta(ur,"onSelect"),0<u.length&&(n=new ji("onSelect","select",null,n,s),t.push({event:n,listeners:u}),n.target=wo)))}function Xi(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ro={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},fr={},Xc={};B&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Qi(t){if(fr[t])return fr[t];if(!Ro[t])return t;var n=Ro[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xc)return fr[t]=n[s];return t}var Qc=Qi("animationend"),Zc=Qi("animationiteration"),Wc=Qi("animationstart"),Xg=Qi("transitionrun"),Qg=Qi("transitionstart"),Zg=Qi("transitioncancel"),ef=Qi("transitionend"),tf=new Map,dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dr.push("scrollEnd");function Nn(t,n){tf.set(t,n),Hn(n,[t])}var nf=new WeakMap;function mn(t,n){if(typeof t=="object"&&t!==null){var s=nf.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Yi(n)},nf.set(t,n),n)}return{value:t,source:n,stack:Yi(n)}}var pn=[],Do=0,mr=0;function Ll(){for(var t=Do,n=mr=Do=0;n<t;){var s=pn[n];pn[n++]=null;var u=pn[n];pn[n++]=null;var f=pn[n];pn[n++]=null;var m=pn[n];if(pn[n++]=null,u!==null&&f!==null){var C=u.pending;C===null?f.next=f:(f.next=C.next,C.next=f),u.pending=f}m!==0&&of(s,f,m)}}function Vl(t,n,s,u){pn[Do++]=t,pn[Do++]=n,pn[Do++]=s,pn[Do++]=u,mr|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function pr(t,n,s,u){return Vl(t,n,s,u),ql(t)}function Io(t,n){return Vl(t,null,null,n),ql(t)}function of(t,n,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,u=m.alternate,u!==null&&(u.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&n!==null&&(f=31-Dt(s),t=m.hiddenUpdates,u=t[f],u===null?t[f]=[n]:u.push(n),n.lane=s|536870912),m):null}function ql(t){if(50<tl)throw tl=0,Tu=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Po={};function Wg(t,n,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,s,u){return new Wg(t,n,s,u)}function hr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jn(t,n){var s=t.alternate;return s===null?(s=on(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function sf(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gl(t,n,s,u,f,m){var C=0;if(u=t,typeof t=="function")hr(t)&&(C=1);else if(typeof t=="string")C=t0(t,s,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case de:return t=on(31,s,n,f),t.elementType=de,t.lanes=m,t;case $:return Zi(s.children,f,m,n);case j:C=8,f|=24;break;case Q:return t=on(12,s,n,f|2),t.elementType=Q,t.lanes=m,t;case Z:return t=on(13,s,n,f),t.elementType=Z,t.lanes=m,t;case Ne:return t=on(19,s,n,f),t.elementType=Ne,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:case ie:C=10;break e;case se:C=9;break e;case ce:C=11;break e;case Te:C=14;break e;case ze:C=16,u=null;break e}C=29,s=Error(l(130,t===null?"null":typeof t,"")),u=null}return n=on(C,s,n,f),n.elementType=t,n.type=u,n.lanes=m,n}function Zi(t,n,s,u){return t=on(7,t,u,n),t.lanes=s,t}function gr(t,n,s){return t=on(6,t,null,n),t.lanes=s,t}function yr(t,n,s){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ko=[],Uo=0,Bl=null,zl=0,hn=[],gn=0,Wi=null,Kn=1,jn="";function eo(t,n){ko[Uo++]=zl,ko[Uo++]=Bl,Bl=t,zl=n}function lf(t,n,s){hn[gn++]=Kn,hn[gn++]=jn,hn[gn++]=Wi,Wi=t;var u=Kn;t=jn;var f=32-Dt(u)-1;u&=~(1<<f),s+=1;var m=32-Dt(n)+f;if(30<m){var C=f-f%5;m=(u&(1<<C)-1).toString(32),u>>=C,f-=C,Kn=1<<32-Dt(n)+f|s<<f|u,jn=m+t}else Kn=1<<m|s<<f|u,jn=t}function vr(t){t.return!==null&&(eo(t,1),lf(t,1,0))}function xr(t){for(;t===Bl;)Bl=ko[--Uo],ko[Uo]=null,zl=ko[--Uo],ko[Uo]=null;for(;t===Wi;)Wi=hn[--gn],hn[gn]=null,jn=hn[--gn],hn[gn]=null,Kn=hn[--gn],hn[gn]=null}var Kt=null,ct=null,Fe=!1,to=null,Pn=!1,Tr=Error(l(519));function no(t){var n=Error(l(418,""));throw Ps(mn(n,t)),Tr}function af(t){var n=t.stateNode,s=t.type,u=t.memoizedProps;switch(n[Nt]=t,n[Gt]=u,s){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<il.length;s++)Le(il[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),En(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zt(n);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Rl(n,u.value,u.defaultValue,u.children),zt(n)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||u.suppressHydrationWarning===!0||Em(n.textContent,s)?(u.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),u.onScroll!=null&&Le("scroll",n),u.onScrollEnd!=null&&Le("scrollend",n),u.onClick!=null&&(n.onclick=Ca),n=!0):n=!1,n||no(t)}function rf(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Kt=Kt.return}}function Ds(t){if(t!==Kt)return!1;if(!Fe)return rf(t),Fe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Lu(t.type,t.memoizedProps)),s=!s),s&&ct&&no(t),rf(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ct=_n(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ct=null}}else n===27?(n=ct,Di(t.type)?(t=Bu,Bu=null,ct=t):ct=n):ct=Kt?_n(t.stateNode.nextSibling):null;return!0}function Is(){ct=Kt=null,Fe=!1}function uf(){var t=to;return t!==null&&(Zt===null?Zt=t:Zt.push.apply(Zt,t),to=null),t}function Ps(t){to===null?to=[t]:to.push(t)}var Cr=K(null),io=null,Xn=null;function gi(t,n,s){ee(Cr,n._currentValue),n._currentValue=s}function Qn(t){t._currentValue=Cr.current,ne(Cr)}function Sr(t,n,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===s)break;t=t.return}}function Ar(t,n,s,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var C=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var N=0;N<n.length;N++)if(S.context===n[N]){m.lanes|=s,S=m.alternate,S!==null&&(S.lanes|=s),Sr(m.return,s,t),u||(C=null);break e}m=S.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(l(341));C.lanes|=s,m=C.alternate,m!==null&&(m.lanes|=s),Sr(C,s,t),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===t){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function ks(t,n,s,u){t=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(l(387));if(C=C.memoizedProps,C!==null){var S=f.type;nn(f.pendingProps.value,C.value)||(t!==null?t.push(S):t=[S])}}else if(f===Vt.current){if(C=f.alternate,C===null)throw Error(l(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}f=f.return}t!==null&&Ar(n,t,s,u),n.flags|=262144}function Hl(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oo(t){io=t,Xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ot(t){return cf(io,t)}function Ol(t,n){return io===null&&oo(t),cf(t,n)}function cf(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xn===null){if(t===null)throw Error(l(308));Xn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xn=Xn.next=n;return s}var ey=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},ty=i.unstable_scheduleCallback,ny=i.unstable_NormalPriority,Tt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Er(){return{controller:new ey,data:new Map,refCount:0}}function Us(t){t.refCount--,t.refCount===0&&ty(ny,function(){t.controller.abort()})}var Ls=null,Nr=0,Lo=0,Vo=null;function iy(t,n){if(Ls===null){var s=Ls=[];Nr=0,Lo=_u(),Vo={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Nr++,n.then(ff,ff),n}function ff(){if(--Nr===0&&Ls!==null){Vo!==null&&(Vo.status="fulfilled");var t=Ls;Ls=null,Lo=0,Vo=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function oy(t,n){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var df=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&iy(t,n),df!==null&&df(t,n)};var so=K(null);function Mr(){var t=so.current;return t!==null?t:nt.pooledCache}function Fl(t,n){n===null?ee(so,so.current):ee(so,n.pool)}function mf(){var t=Mr();return t===null?null:{parent:Tt._currentValue,pool:t}}var Vs=Error(l(460)),pf=Error(l(474)),$l=Error(l(542)),_r={then:function(){}};function hf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yl(){}function gf(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Yl,Yl),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vf(t),t;default:if(typeof n.status=="string")n.then(Yl,Yl);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vf(t),t}throw qs=n,Vs}}var qs=null;function yf(){if(qs===null)throw Error(l(459));var t=qs;return qs=null,t}function vf(t){if(t===Vs||t===$l)throw Error(l(483))}var yi=!1;function br(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wr(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xi(t,n,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=ql(t),of(t,null,s),n}return Vl(t,u,n,s),ql(t)}function Gs(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,El(t,s)}}function Rr(t,n){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=C:m=m.next=C,s=s.next}while(s!==null);m===null?f=m=n:m=m.next=n}else f=m=n;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Dr=!1;function Bs(){if(Dr){var t=Vo;if(t!==null)throw t}}function zs(t,n,s,u){Dr=!1;var f=t.updateQueue;yi=!1;var m=f.firstBaseUpdate,C=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,U=N.next;N.next=null,C===null?m=U:C.next=U,C=N;var F=t.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==C&&(S===null?F.firstBaseUpdate=U:S.next=U,F.lastBaseUpdate=N))}if(m!==null){var J=f.baseState;C=0,F=U=N=null,S=m;do{var G=S.lane&-536870913,z=G!==S.lane;if(z?(Be&G)===G:(u&G)===G){G!==0&&G===Lo&&(Dr=!0),F!==null&&(F=F.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ee=t,ye=S;G=n;var et=s;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){J=Ee.call(et,J,G);break e}J=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,G=typeof Ee=="function"?Ee.call(et,J,G):Ee,G==null)break e;J=T({},J,G);break e;case 2:yi=!0}}G=S.callback,G!==null&&(t.flags|=64,z&&(t.flags|=8192),z=f.callbacks,z===null?f.callbacks=[G]:z.push(G))}else z={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?(U=F=z,N=J):F=F.next=z,C|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;z=S,S=z.next,z.next=null,f.lastBaseUpdate=z,f.shared.pending=null}}while(!0);F===null&&(N=J),f.baseState=N,f.firstBaseUpdate=U,f.lastBaseUpdate=F,m===null&&(f.shared.lanes=0),_i|=C,t.lanes=C,t.memoizedState=J}}function xf(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Tf(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)xf(s[t],n)}var qo=K(null),Jl=K(0);function Cf(t,n){t=oi,ee(Jl,t),ee(qo,n),oi=t|n.baseLanes}function Ir(){ee(Jl,oi),ee(qo,qo.current)}function Pr(){oi=Jl.current,ne(qo),ne(Jl)}var Ti=0,Pe=null,Ze=null,gt=null,Kl=!1,Go=!1,lo=!1,jl=0,Hs=0,Bo=null,sy=0;function dt(){throw Error(l(321))}function kr(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!nn(t[s],n[s]))return!1;return!0}function Ur(t,n,s,u,f,m){return Ti=m,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?od:sd,lo=!1,m=s(u,f),lo=!1,Go&&(m=Af(n,s,u,f)),Sf(t),m}function Sf(t){q.H=ta;var n=Ze!==null&&Ze.next!==null;if(Ti=0,gt=Ze=Pe=null,Kl=!1,Hs=0,Bo=null,n)throw Error(l(300));t===null||_t||(t=t.dependencies,t!==null&&Hl(t)&&(_t=!0))}function Af(t,n,s,u){Pe=t;var f=0;do{if(Go&&(Bo=null),Hs=0,Go=!1,25<=f)throw Error(l(301));if(f+=1,gt=Ze=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=dy,m=n(s,u)}while(Go);return m}function ly(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Os(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Pe.flags|=1024),n}function Lr(){var t=jl!==0;return jl=0,t}function Vr(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function qr(t){if(Kl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Kl=!1}Ti=0,gt=Ze=Pe=null,Go=!1,Hs=jl=0,Bo=null}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Pe.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ze===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=gt===null?Pe.memoizedState:gt.next;if(n!==null)gt=n,Ze=t;else{if(t===null)throw Pe.alternate===null?Error(l(467)):Error(l(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},gt===null?Pe.memoizedState=gt=t:gt=gt.next=t}return gt}function Gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Os(t){var n=Hs;return Hs+=1,Bo===null&&(Bo=[]),t=gf(Bo,t,n),n=Pe,(gt===null?n.memoizedState:gt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?od:sd),t}function Xl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Os(t);if(t.$$typeof===ie)return Ot(t)}throw Error(l(438,String(t)))}function Br(t){var n=null,s=Pe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gr(),Pe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),u=0;u<t;u++)s[u]=Ve;return n.index++,s}function Zn(t,n){return typeof n=="function"?n(t):n}function Ql(t){var n=yt();return zr(n,Ze,t)}function zr(t,n,s){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=s;var f=t.baseQueue,m=u.pending;if(m!==null){if(f!==null){var C=f.next;f.next=m.next,m.next=C}n.baseQueue=f=m,u.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var S=C=null,N=null,U=n,F=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Be&J)===J:(Ti&J)===J){var G=U.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===Lo&&(F=!0);else if((Ti&G)===G){U=U.next,G===Lo&&(F=!0);continue}else J={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(S=N=J,C=m):N=N.next=J,Pe.lanes|=G,_i|=G;J=U.action,lo&&s(m,J),m=U.hasEagerState?U.eagerState:s(m,J)}else G={lane:J,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(S=N=G,C=m):N=N.next=G,Pe.lanes|=J,_i|=J;U=U.next}while(U!==null&&U!==n);if(N===null?C=m:N.next=S,!nn(m,t.memoizedState)&&(_t=!0,F&&(s=Vo,s!==null)))throw s;t.memoizedState=m,t.baseState=C,t.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Hr(t){var n=yt(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var u=s.dispatch,f=s.pending,m=n.memoizedState;if(f!==null){s.pending=null;var C=f=f.next;do m=t(m,C.action),C=C.next;while(C!==f);nn(m,n.memoizedState)||(_t=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,u]}function Ef(t,n,s){var u=Pe,f=yt(),m=Fe;if(m){if(s===void 0)throw Error(l(407));s=s()}else s=n();var C=!nn((Ze||f).memoizedState,s);C&&(f.memoizedState=s,_t=!0),f=f.queue;var S=_f.bind(null,u,f,t);if(Fs(2048,8,S,[t]),f.getSnapshot!==n||C||gt!==null&&gt.memoizedState.tag&1){if(u.flags|=2048,zo(9,Zl(),Mf.bind(null,u,f,s,n),null),nt===null)throw Error(l(349));m||(Ti&124)!==0||Nf(u,n,s)}return s}function Nf(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Pe.updateQueue,n===null?(n=Gr(),Pe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Mf(t,n,s,u){n.value=s,n.getSnapshot=u,bf(n)&&wf(t)}function _f(t,n,s){return s(function(){bf(n)&&wf(t)})}function bf(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!nn(t,s)}catch{return!0}}function wf(t){var n=Io(t,2);n!==null&&un(n,t,2)}function Or(t){var n=Xt();if(typeof t=="function"){var s=t;if(t=s(),lo){At(!0);try{s()}finally{At(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:t},n}function Rf(t,n,s,u){return t.baseState=s,zr(t,Ze,typeof u=="function"?u:Zn)}function ay(t,n,s,u,f){if(ea(t))throw Error(l(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){m.listeners.push(C)}};q.T!==null?s(!0):m.isTransition=!1,u(m),s=n.pending,s===null?(m.next=n.pending=m,Df(n,m)):(m.next=s.next,n.pending=s.next=m)}}function Df(t,n){var s=n.action,u=n.payload,f=t.state;if(n.isTransition){var m=q.T,C={};q.T=C;try{var S=s(f,u),N=q.S;N!==null&&N(C,S),If(t,n,S)}catch(U){Fr(t,n,U)}finally{q.T=m}}else try{m=s(f,u),If(t,n,m)}catch(U){Fr(t,n,U)}}function If(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Pf(t,n,u)},function(u){return Fr(t,n,u)}):Pf(t,n,s)}function Pf(t,n,s){n.status="fulfilled",n.value=s,kf(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Df(t,s)))}function Fr(t,n,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=s,kf(n),n=n.next;while(n!==u)}t.action=null}function kf(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Uf(t,n){return n}function Lf(t,n){if(Fe){var s=nt.formState;if(s!==null){e:{var u=Pe;if(Fe){if(ct){t:{for(var f=ct,m=Pn;f.nodeType!==8;){if(!m){f=null;break t}if(f=_n(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ct=_n(f.nextSibling),u=f.data==="F!";break e}}no(u)}u=!1}u&&(n=s[0])}}return s=Xt(),s.memoizedState=s.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:n},s.queue=u,s=td.bind(null,Pe,u),u.dispatch=s,u=Or(!1),m=jr.bind(null,Pe,!1,u.queue),u=Xt(),f={state:n,dispatch:null,action:t,pending:null},u.queue=f,s=ay.bind(null,Pe,f,m,s),f.dispatch=s,u.memoizedState=t,[n,s,!1]}function Vf(t){var n=yt();return qf(n,Ze,t)}function qf(t,n,s){if(n=zr(t,n,Uf)[0],t=Ql(Zn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Os(n)}catch(C){throw C===Vs?$l:C}else u=n;n=yt();var f=n.queue,m=f.dispatch;return s!==n.memoizedState&&(Pe.flags|=2048,zo(9,Zl(),ry.bind(null,f,s),null)),[u,m,t]}function ry(t,n){t.action=n}function Gf(t){var n=yt(),s=Ze;if(s!==null)return qf(n,s,t);yt(),n=n.memoizedState,s=yt();var u=s.queue.dispatch;return s.memoizedState=t,[n,u,!1]}function zo(t,n,s,u){return t={tag:t,create:s,deps:u,inst:n,next:null},n=Pe.updateQueue,n===null&&(n=Gr(),Pe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,n.lastEffect=t),t}function Zl(){return{destroy:void 0,resource:void 0}}function Bf(){return yt().memoizedState}function Wl(t,n,s,u){var f=Xt();u=u===void 0?null:u,Pe.flags|=t,f.memoizedState=zo(1|n,Zl(),s,u)}function Fs(t,n,s,u){var f=yt();u=u===void 0?null:u;var m=f.memoizedState.inst;Ze!==null&&u!==null&&kr(u,Ze.memoizedState.deps)?f.memoizedState=zo(n,m,s,u):(Pe.flags|=t,f.memoizedState=zo(1|n,m,s,u))}function zf(t,n){Wl(8390656,8,t,n)}function Hf(t,n){Fs(2048,8,t,n)}function Of(t,n){return Fs(4,2,t,n)}function Ff(t,n){return Fs(4,4,t,n)}function $f(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yf(t,n,s){s=s!=null?s.concat([t]):null,Fs(4,4,$f.bind(null,n,t),s)}function $r(){}function Jf(t,n){var s=yt();n=n===void 0?null:n;var u=s.memoizedState;return n!==null&&kr(n,u[1])?u[0]:(s.memoizedState=[t,n],t)}function Kf(t,n){var s=yt();n=n===void 0?null:n;var u=s.memoizedState;if(n!==null&&kr(n,u[1]))return u[0];if(u=t(),lo){At(!0);try{t()}finally{At(!1)}}return s.memoizedState=[u,n],u}function Yr(t,n,s){return s===void 0||(Ti&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Qd(),Pe.lanes|=t,_i|=t,s)}function jf(t,n,s,u){return nn(s,n)?s:qo.current!==null?(t=Yr(t,s,u),nn(t,n)||(_t=!0),t):(Ti&42)===0?(_t=!0,t.memoizedState=s):(t=Qd(),Pe.lanes|=t,_i|=t,n)}function Xf(t,n,s,u,f){var m=te.p;te.p=m!==0&&8>m?m:8;var C=q.T,S={};q.T=S,jr(t,!1,n,s);try{var N=f(),U=q.S;if(U!==null&&U(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=oy(N,u);$s(t,n,F,rn(t))}else $s(t,n,u,rn(t))}catch(J){$s(t,n,{then:function(){},status:"rejected",reason:J},rn())}finally{te.p=m,q.T=C}}function uy(){}function Jr(t,n,s,u){if(t.tag!==5)throw Error(l(476));var f=Qf(t).queue;Xf(t,f,n,pe,s===null?uy:function(){return Zf(t),s(u)})}function Qf(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:pe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zf(t){var n=Qf(t).next.queue;$s(t,n,{},rn())}function Kr(){return Ot(ul)}function Wf(){return yt().memoizedState}function ed(){return yt().memoizedState}function cy(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=rn();t=vi(s);var u=xi(n,t,s);u!==null&&(un(u,n,s),Gs(u,n,s)),n={cache:Er()},t.payload=n;return}n=n.return}}function fy(t,n,s){var u=rn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ea(t)?nd(n,s):(s=pr(t,n,s,u),s!==null&&(un(s,t,u),id(s,n,u)))}function td(t,n,s){var u=rn();$s(t,n,s,u)}function $s(t,n,s,u){var f={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ea(t))nd(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var C=n.lastRenderedState,S=m(C,s);if(f.hasEagerState=!0,f.eagerState=S,nn(S,C))return Vl(t,n,f,0),nt===null&&Ll(),!1}catch{}finally{}if(s=pr(t,n,f,u),s!==null)return un(s,t,u),id(s,n,u),!0}return!1}function jr(t,n,s,u){if(u={lane:2,revertLane:_u(),action:u,hasEagerState:!1,eagerState:null,next:null},ea(t)){if(n)throw Error(l(479))}else n=pr(t,s,u,2),n!==null&&un(n,t,2)}function ea(t){var n=t.alternate;return t===Pe||n!==null&&n===Pe}function nd(t,n){Go=Kl=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function id(t,n,s){if((s&4194048)!==0){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,El(t,s)}}var ta={readContext:Ot,use:Xl,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},od={readContext:Ot,use:Xl,useCallback:function(t,n){return Xt().memoizedState=[t,n===void 0?null:n],t},useContext:Ot,useEffect:zf,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Wl(4194308,4,$f.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Wl(4194308,4,t,n)},useInsertionEffect:function(t,n){Wl(4,2,t,n)},useMemo:function(t,n){var s=Xt();n=n===void 0?null:n;var u=t();if(lo){At(!0);try{t()}finally{At(!1)}}return s.memoizedState=[u,n],u},useReducer:function(t,n,s){var u=Xt();if(s!==void 0){var f=s(n);if(lo){At(!0);try{s(n)}finally{At(!1)}}}else f=n;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=fy.bind(null,Pe,t),[u.memoizedState,t]},useRef:function(t){var n=Xt();return t={current:t},n.memoizedState=t},useState:function(t){t=Or(t);var n=t.queue,s=td.bind(null,Pe,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:$r,useDeferredValue:function(t,n){var s=Xt();return Yr(s,t,n)},useTransition:function(){var t=Or(!1);return t=Xf.bind(null,Pe,t.queue,!0,!1),Xt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var u=Pe,f=Xt();if(Fe){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),nt===null)throw Error(l(349));(Be&124)!==0||Nf(u,n,s)}f.memoizedState=s;var m={value:s,getSnapshot:n};return f.queue=m,zf(_f.bind(null,u,m,t),[t]),u.flags|=2048,zo(9,Zl(),Mf.bind(null,u,m,s,n),null),s},useId:function(){var t=Xt(),n=nt.identifierPrefix;if(Fe){var s=jn,u=Kn;s=(u&~(1<<32-Dt(u)-1)).toString(32)+s,n=""+n+"R"+s,s=jl++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=sy++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Kr,useFormState:Lf,useActionState:Lf,useOptimistic:function(t){var n=Xt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=jr.bind(null,Pe,!0,s),s.dispatch=n,[t,n]},useMemoCache:Br,useCacheRefresh:function(){return Xt().memoizedState=cy.bind(null,Pe)}},sd={readContext:Ot,use:Xl,useCallback:Jf,useContext:Ot,useEffect:Hf,useImperativeHandle:Yf,useInsertionEffect:Of,useLayoutEffect:Ff,useMemo:Kf,useReducer:Ql,useRef:Bf,useState:function(){return Ql(Zn)},useDebugValue:$r,useDeferredValue:function(t,n){var s=yt();return jf(s,Ze.memoizedState,t,n)},useTransition:function(){var t=Ql(Zn)[0],n=yt().memoizedState;return[typeof t=="boolean"?t:Os(t),n]},useSyncExternalStore:Ef,useId:Wf,useHostTransitionStatus:Kr,useFormState:Vf,useActionState:Vf,useOptimistic:function(t,n){var s=yt();return Rf(s,Ze,t,n)},useMemoCache:Br,useCacheRefresh:ed},dy={readContext:Ot,use:Xl,useCallback:Jf,useContext:Ot,useEffect:Hf,useImperativeHandle:Yf,useInsertionEffect:Of,useLayoutEffect:Ff,useMemo:Kf,useReducer:Hr,useRef:Bf,useState:function(){return Hr(Zn)},useDebugValue:$r,useDeferredValue:function(t,n){var s=yt();return Ze===null?Yr(s,t,n):jf(s,Ze.memoizedState,t,n)},useTransition:function(){var t=Hr(Zn)[0],n=yt().memoizedState;return[typeof t=="boolean"?t:Os(t),n]},useSyncExternalStore:Ef,useId:Wf,useHostTransitionStatus:Kr,useFormState:Gf,useActionState:Gf,useOptimistic:function(t,n){var s=yt();return Ze!==null?Rf(s,Ze,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Br,useCacheRefresh:ed},Ho=null,Ys=0;function na(t){var n=Ys;return Ys+=1,Ho===null&&(Ho=[]),gf(Ho,t,n)}function Js(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ia(t,n){throw n.$$typeof===A?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ld(t){var n=t._init;return n(t._payload)}function ad(t){function n(I,R){if(t){var k=I.deletions;k===null?(I.deletions=[R],I.flags|=16):k.push(R)}}function s(I,R){if(!t)return null;for(;R!==null;)n(I,R),R=R.sibling;return null}function u(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function f(I,R){return I=Jn(I,R),I.index=0,I.sibling=null,I}function m(I,R,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<R?(I.flags|=67108866,R):k):(I.flags|=67108866,R)):(I.flags|=1048576,R)}function C(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function S(I,R,k,Y){return R===null||R.tag!==6?(R=gr(k,I.mode,Y),R.return=I,R):(R=f(R,k),R.return=I,R)}function N(I,R,k,Y){var le=k.type;return le===$?F(I,R,k.props.children,Y,k.key):R!==null&&(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ze&&ld(le)===R.type)?(R=f(R,k.props),Js(R,k),R.return=I,R):(R=Gl(k.type,k.key,k.props,null,I.mode,Y),Js(R,k),R.return=I,R)}function U(I,R,k,Y){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=yr(k,I.mode,Y),R.return=I,R):(R=f(R,k.children||[]),R.return=I,R)}function F(I,R,k,Y,le){return R===null||R.tag!==7?(R=Zi(k,I.mode,Y,le),R.return=I,R):(R=f(R,k),R.return=I,R)}function J(I,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=gr(""+R,I.mode,k),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case M:return k=Gl(R.type,R.key,R.props,null,I.mode,k),Js(k,R),k.return=I,k;case V:return R=yr(R,I.mode,k),R.return=I,R;case ze:var Y=R._init;return R=Y(R._payload),J(I,R,k)}if($e(R)||Ce(R))return R=Zi(R,I.mode,k,null),R.return=I,R;if(typeof R.then=="function")return J(I,na(R),k);if(R.$$typeof===ie)return J(I,Ol(I,R),k);ia(I,R)}return null}function G(I,R,k,Y){var le=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return le!==null?null:S(I,R,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return k.key===le?N(I,R,k,Y):null;case V:return k.key===le?U(I,R,k,Y):null;case ze:return le=k._init,k=le(k._payload),G(I,R,k,Y)}if($e(k)||Ce(k))return le!==null?null:F(I,R,k,Y,null);if(typeof k.then=="function")return G(I,R,na(k),Y);if(k.$$typeof===ie)return G(I,R,Ol(I,k),Y);ia(I,k)}return null}function z(I,R,k,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return I=I.get(k)||null,S(R,I,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:return I=I.get(Y.key===null?k:Y.key)||null,N(R,I,Y,le);case V:return I=I.get(Y.key===null?k:Y.key)||null,U(R,I,Y,le);case ze:var ke=Y._init;return Y=ke(Y._payload),z(I,R,k,Y,le)}if($e(Y)||Ce(Y))return I=I.get(k)||null,F(R,I,Y,le,null);if(typeof Y.then=="function")return z(I,R,k,na(Y),le);if(Y.$$typeof===ie)return z(I,R,k,Ol(R,Y),le);ia(R,Y)}return null}function Ee(I,R,k,Y){for(var le=null,ke=null,ue=R,ve=R=0,wt=null;ue!==null&&ve<k.length;ve++){ue.index>ve?(wt=ue,ue=null):wt=ue.sibling;var He=G(I,ue,k[ve],Y);if(He===null){ue===null&&(ue=wt);break}t&&ue&&He.alternate===null&&n(I,ue),R=m(He,R,ve),ke===null?le=He:ke.sibling=He,ke=He,ue=wt}if(ve===k.length)return s(I,ue),Fe&&eo(I,ve),le;if(ue===null){for(;ve<k.length;ve++)ue=J(I,k[ve],Y),ue!==null&&(R=m(ue,R,ve),ke===null?le=ue:ke.sibling=ue,ke=ue);return Fe&&eo(I,ve),le}for(ue=u(ue);ve<k.length;ve++)wt=z(ue,I,ve,k[ve],Y),wt!==null&&(t&&wt.alternate!==null&&ue.delete(wt.key===null?ve:wt.key),R=m(wt,R,ve),ke===null?le=wt:ke.sibling=wt,ke=wt);return t&&ue.forEach(function(Li){return n(I,Li)}),Fe&&eo(I,ve),le}function ye(I,R,k,Y){if(k==null)throw Error(l(151));for(var le=null,ke=null,ue=R,ve=R=0,wt=null,He=k.next();ue!==null&&!He.done;ve++,He=k.next()){ue.index>ve?(wt=ue,ue=null):wt=ue.sibling;var Li=G(I,ue,He.value,Y);if(Li===null){ue===null&&(ue=wt);break}t&&ue&&Li.alternate===null&&n(I,ue),R=m(Li,R,ve),ke===null?le=Li:ke.sibling=Li,ke=Li,ue=wt}if(He.done)return s(I,ue),Fe&&eo(I,ve),le;if(ue===null){for(;!He.done;ve++,He=k.next())He=J(I,He.value,Y),He!==null&&(R=m(He,R,ve),ke===null?le=He:ke.sibling=He,ke=He);return Fe&&eo(I,ve),le}for(ue=u(ue);!He.done;ve++,He=k.next())He=z(ue,I,ve,He.value,Y),He!==null&&(t&&He.alternate!==null&&ue.delete(He.key===null?ve:He.key),R=m(He,R,ve),ke===null?le=He:ke.sibling=He,ke=He);return t&&ue.forEach(function(m0){return n(I,m0)}),Fe&&eo(I,ve),le}function et(I,R,k,Y){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case M:e:{for(var le=k.key;R!==null;){if(R.key===le){if(le=k.type,le===$){if(R.tag===7){s(I,R.sibling),Y=f(R,k.props.children),Y.return=I,I=Y;break e}}else if(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ze&&ld(le)===R.type){s(I,R.sibling),Y=f(R,k.props),Js(Y,k),Y.return=I,I=Y;break e}s(I,R);break}else n(I,R);R=R.sibling}k.type===$?(Y=Zi(k.props.children,I.mode,Y,k.key),Y.return=I,I=Y):(Y=Gl(k.type,k.key,k.props,null,I.mode,Y),Js(Y,k),Y.return=I,I=Y)}return C(I);case V:e:{for(le=k.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){s(I,R.sibling),Y=f(R,k.children||[]),Y.return=I,I=Y;break e}else{s(I,R);break}else n(I,R);R=R.sibling}Y=yr(k,I.mode,Y),Y.return=I,I=Y}return C(I);case ze:return le=k._init,k=le(k._payload),et(I,R,k,Y)}if($e(k))return Ee(I,R,k,Y);if(Ce(k)){if(le=Ce(k),typeof le!="function")throw Error(l(150));return k=le.call(k),ye(I,R,k,Y)}if(typeof k.then=="function")return et(I,R,na(k),Y);if(k.$$typeof===ie)return et(I,R,Ol(I,k),Y);ia(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(s(I,R.sibling),Y=f(R,k),Y.return=I,I=Y):(s(I,R),Y=gr(k,I.mode,Y),Y.return=I,I=Y),C(I)):s(I,R)}return function(I,R,k,Y){try{Ys=0;var le=et(I,R,k,Y);return Ho=null,le}catch(ue){if(ue===Vs||ue===$l)throw ue;var ke=on(29,ue,null,I.mode);return ke.lanes=Y,ke.return=I,ke}finally{}}}var Oo=ad(!0),rd=ad(!1),yn=K(null),kn=null;function Ci(t){var n=t.alternate;ee(Ct,Ct.current&1),ee(yn,t),kn===null&&(n===null||qo.current!==null||n.memoizedState!==null)&&(kn=t)}function ud(t){if(t.tag===22){if(ee(Ct,Ct.current),ee(yn,t),kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(kn=t)}}else Si()}function Si(){ee(Ct,Ct.current),ee(yn,yn.current)}function Wn(t){ne(yn),kn===t&&(kn=null),ne(Ct)}var Ct=K(0);function oa(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Gu(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Xr(t,n,s,u){n=t.memoizedState,s=s(u,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Qr={enqueueSetState:function(t,n,s){t=t._reactInternals;var u=rn(),f=vi(u);f.payload=n,s!=null&&(f.callback=s),n=xi(t,f,u),n!==null&&(un(n,t,u),Gs(n,t,u))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var u=rn(),f=vi(u);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=xi(t,f,u),n!==null&&(un(n,t,u),Gs(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=rn(),u=vi(s);u.tag=2,n!=null&&(u.callback=n),n=xi(t,u,s),n!==null&&(un(n,t,s),Gs(n,t,s))}};function cd(t,n,s,u,f,m,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,C):n.prototype&&n.prototype.isPureReactComponent?!ws(s,u)||!ws(f,m):!0}function fd(t,n,s,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==t&&Qr.enqueueReplaceState(n,n.state,null)}function ao(t,n){var s=n;if("ref"in n){s={};for(var u in n)u!=="ref"&&(s[u]=n[u])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var sa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dd(t){sa(t)}function md(t){console.error(t)}function pd(t){sa(t)}function la(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function hd(t,n,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Zr(t,n,s){return s=vi(s),s.tag=3,s.payload={element:null},s.callback=function(){la(t,n)},s}function gd(t){return t=vi(t),t.tag=3,t}function yd(t,n,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;t.payload=function(){return f(m)},t.callback=function(){hd(n,s,u)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){hd(n,s,u),typeof f!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function my(t,n,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=s.alternate,n!==null&&ks(n,s,f,!0),s=yn.current,s!==null){switch(s.tag){case 13:return kn===null?Su():s.alternate===null&&ft===0&&(ft=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===_r?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([u]):n.add(u),Eu(t,u,f)),!1;case 22:return s.flags|=65536,u===_r?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([u]):s.add(u)),Eu(t,u,f)),!1}throw Error(l(435,s.tag))}return Eu(t,u,f),Su(),!1}if(Fe)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Tr&&(t=Error(l(422),{cause:u}),Ps(mn(t,s)))):(u!==Tr&&(n=Error(l(423),{cause:u}),Ps(mn(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=mn(u,s),f=Zr(t.stateNode,u,f),Rr(t,f),ft!==4&&(ft=2)),!1;var m=Error(l(520),{cause:u});if(m=mn(m,s),el===null?el=[m]:el.push(m),ft!==4&&(ft=2),n===null)return!0;u=mn(u,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Zr(s.stateNode,u,t),Rr(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bi===null||!bi.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=gd(f),yd(f,t,s,u),Rr(s,f),!1}s=s.return}while(s!==null);return!1}var vd=Error(l(461)),_t=!1;function kt(t,n,s,u){n.child=t===null?rd(n,null,s,u):Oo(n,t.child,s,u)}function xd(t,n,s,u,f){s=s.render;var m=n.ref;if("ref"in u){var C={};for(var S in u)S!=="ref"&&(C[S]=u[S])}else C=u;return oo(n),u=Ur(t,n,s,C,m,f),S=Lr(),t!==null&&!_t?(Vr(t,n,f),ei(t,n,f)):(Fe&&S&&vr(n),n.flags|=1,kt(t,n,u,f),n.child)}function Td(t,n,s,u,f){if(t===null){var m=s.type;return typeof m=="function"&&!hr(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,Cd(t,n,m,u,f)):(t=Gl(s.type,null,u,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!lu(t,f)){var C=m.memoizedProps;if(s=s.compare,s=s!==null?s:ws,s(C,u)&&t.ref===n.ref)return ei(t,n,f)}return n.flags|=1,t=Jn(m,u),t.ref=n.ref,t.return=n,n.child=t}function Cd(t,n,s,u,f){if(t!==null){var m=t.memoizedProps;if(ws(m,u)&&t.ref===n.ref)if(_t=!1,n.pendingProps=u=m,lu(t,f))(t.flags&131072)!==0&&(_t=!0);else return n.lanes=t.lanes,ei(t,n,f)}return Wr(t,n,s,u,f)}function Sd(t,n,s){var u=n.pendingProps,f=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=m!==null?m.baseLanes|s:s,t!==null){for(f=n.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;n.childLanes=m&~u}else n.childLanes=0,n.child=null;return Ad(t,n,u,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fl(n,m!==null?m.cachePool:null),m!==null?Cf(n,m):Ir(),ud(n);else return n.lanes=n.childLanes=536870912,Ad(t,n,m!==null?m.baseLanes|s:s,s)}else m!==null?(Fl(n,m.cachePool),Cf(n,m),Si(),n.memoizedState=null):(t!==null&&Fl(n,null),Ir(),Si());return kt(t,n,f,s),n.child}function Ad(t,n,s,u){var f=Mr();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Fl(n,null),Ir(),ud(n),t!==null&&ks(t,n,u,!0),null}function aa(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Wr(t,n,s,u,f){return oo(n),s=Ur(t,n,s,u,void 0,f),u=Lr(),t!==null&&!_t?(Vr(t,n,f),ei(t,n,f)):(Fe&&u&&vr(n),n.flags|=1,kt(t,n,s,f),n.child)}function Ed(t,n,s,u,f,m){return oo(n),n.updateQueue=null,s=Af(n,u,s,f),Sf(t),u=Lr(),t!==null&&!_t?(Vr(t,n,m),ei(t,n,m)):(Fe&&u&&vr(n),n.flags|=1,kt(t,n,s,m),n.child)}function Nd(t,n,s,u,f){if(oo(n),n.stateNode===null){var m=Po,C=s.contextType;typeof C=="object"&&C!==null&&(m=Ot(C)),m=new s(u,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Qr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=u,m.state=n.memoizedState,m.refs={},br(n),C=s.contextType,m.context=typeof C=="object"&&C!==null?Ot(C):Po,m.state=n.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Xr(n,s,C,u),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(C=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),C!==m.state&&Qr.enqueueReplaceState(m,m.state,null),zs(n,u,m,f),Bs(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(t===null){m=n.stateNode;var S=n.memoizedProps,N=ao(s,S);m.props=N;var U=m.context,F=s.contextType;C=Po,typeof F=="object"&&F!==null&&(C=Ot(F));var J=s.getDerivedStateFromProps;F=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,F||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||U!==C)&&fd(n,m,u,C),yi=!1;var G=n.memoizedState;m.state=G,zs(n,u,m,f),Bs(),U=n.memoizedState,S||G!==U||yi?(typeof J=="function"&&(Xr(n,s,J,u),U=n.memoizedState),(N=yi||cd(n,s,N,u,G,U,C))?(F||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=U),m.props=u,m.state=U,m.context=C,u=N):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{m=n.stateNode,wr(t,n),C=n.memoizedProps,F=ao(s,C),m.props=F,J=n.pendingProps,G=m.context,U=s.contextType,N=Po,typeof U=="object"&&U!==null&&(N=Ot(U)),S=s.getDerivedStateFromProps,(U=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C!==J||G!==N)&&fd(n,m,u,N),yi=!1,G=n.memoizedState,m.state=G,zs(n,u,m,f),Bs();var z=n.memoizedState;C!==J||G!==z||yi||t!==null&&t.dependencies!==null&&Hl(t.dependencies)?(typeof S=="function"&&(Xr(n,s,S,u),z=n.memoizedState),(F=yi||cd(n,s,F,u,G,z,N)||t!==null&&t.dependencies!==null&&Hl(t.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,z,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,z,N)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||C===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=z),m.props=u,m.state=z,m.context=N,u=F):(typeof m.componentDidUpdate!="function"||C===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),u=!1)}return m=u,aa(t,n),u=(n.flags&128)!==0,m||u?(m=n.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&u?(n.child=Oo(n,t.child,null,f),n.child=Oo(n,null,s,f)):kt(t,n,s,f),n.memoizedState=m.state,t=n.child):t=ei(t,n,f),t}function Md(t,n,s,u){return Is(),n.flags|=256,kt(t,n,s,u),n.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tu(t){return{baseLanes:t,cachePool:mf()}}function nu(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=vn),t}function _d(t,n,s){var u=n.pendingProps,f=!1,m=(n.flags&128)!==0,C;if((C=m)||(C=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),C&&(f=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(f?Ci(n):Si(),Fe){var S=ct,N;if(N=S){e:{for(N=S,S=Pn;N.nodeType!==8;){if(!S){S=null;break e}if(N=_n(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(n.memoizedState={dehydrated:S,treeContext:Wi!==null?{id:Kn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},N=on(18,null,null,0),N.stateNode=S,N.return=n,n.child=N,Kt=n,ct=null,N=!0):N=!1}N||no(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Gu(S)?n.lanes=32:n.lanes=536870912,null;Wn(n)}return S=u.children,u=u.fallback,f?(Si(),f=n.mode,S=ra({mode:"hidden",children:S},f),u=Zi(u,f,s,null),S.return=n,u.return=n,S.sibling=u,n.child=S,f=n.child,f.memoizedState=tu(s),f.childLanes=nu(t,C,s),n.memoizedState=eu,u):(Ci(n),iu(n,S))}if(N=t.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(m)n.flags&256?(Ci(n),n.flags&=-257,n=ou(t,n,s)):n.memoizedState!==null?(Si(),n.child=t.child,n.flags|=128,n=null):(Si(),f=u.fallback,S=n.mode,u=ra({mode:"visible",children:u.children},S),f=Zi(f,S,s,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,Oo(n,t.child,null,s),u=n.child,u.memoizedState=tu(s),u.childLanes=nu(t,C,s),n.memoizedState=eu,n=f);else if(Ci(n),Gu(S)){if(C=S.nextSibling&&S.nextSibling.dataset,C)var U=C.dgst;C=U,u=Error(l(419)),u.stack="",u.digest=C,Ps({value:u,source:null,stack:null}),n=ou(t,n,s)}else if(_t||ks(t,n,s,!1),C=(s&t.childLanes)!==0,_t||C){if(C=nt,C!==null&&(u=s&-s,u=(u&42)!==0?1:ys(u),u=(u&(C.suspendedLanes|s))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,Io(t,u),un(C,t,u),vd;S.data==="$?"||Su(),n=ou(t,n,s)}else S.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ct=_n(S.nextSibling),Kt=n,Fe=!0,to=null,Pn=!1,t!==null&&(hn[gn++]=Kn,hn[gn++]=jn,hn[gn++]=Wi,Kn=t.id,jn=t.overflow,Wi=n),n=iu(n,u.children),n.flags|=4096);return n}return f?(Si(),f=u.fallback,S=n.mode,N=t.child,U=N.sibling,u=Jn(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,U!==null?f=Jn(U,f):(f=Zi(f,S,s,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,S=t.child.memoizedState,S===null?S=tu(s):(N=S.cachePool,N!==null?(U=Tt._currentValue,N=N.parent!==U?{parent:U,pool:U}:N):N=mf(),S={baseLanes:S.baseLanes|s,cachePool:N}),f.memoizedState=S,f.childLanes=nu(t,C,s),n.memoizedState=eu,u):(Ci(n),s=t.child,t=s.sibling,s=Jn(s,{mode:"visible",children:u.children}),s.return=n,s.sibling=null,t!==null&&(C=n.deletions,C===null?(n.deletions=[t],n.flags|=16):C.push(t)),n.child=s,n.memoizedState=null,s)}function iu(t,n){return n=ra({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ra(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ou(t,n,s){return Oo(n,t.child,null,s),t=iu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function bd(t,n,s){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Sr(t.return,n,s)}function su(t,n,s,u,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=s,m.tailMode=f)}function wd(t,n,s){var u=n.pendingProps,f=u.revealOrder,m=u.tail;if(kt(t,n,u.children,s),u=Ct.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bd(t,s,n);else if(t.tag===19)bd(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(ee(Ct,u),f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&oa(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),su(n,!1,f,s,m);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&oa(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}su(n,!0,s,null,m);break;case"together":su(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ei(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),_i|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ks(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,s=Jn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Jn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function lu(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Hl(t)))}function py(t,n,s){switch(n.tag){case 3:Qe(n,n.stateNode.containerInfo),gi(n,Tt,t.memoizedState.cache),Is();break;case 27:case 5:ui(n);break;case 4:Qe(n,n.stateNode.containerInfo);break;case 10:gi(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ci(n),n.flags|=128,null):(s&n.child.childLanes)!==0?_d(t,n,s):(Ci(n),t=ei(t,n,s),t!==null?t.sibling:null);Ci(n);break;case 19:var f=(t.flags&128)!==0;if(u=(s&n.childLanes)!==0,u||(ks(t,n,s,!1),u=(s&n.childLanes)!==0),f){if(u)return wd(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee(Ct,Ct.current),u)break;return null;case 22:case 23:return n.lanes=0,Sd(t,n,s);case 24:gi(n,Tt,t.memoizedState.cache)}return ei(t,n,s)}function Rd(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)_t=!0;else{if(!lu(t,s)&&(n.flags&128)===0)return _t=!1,py(t,n,s);_t=(t.flags&131072)!==0}else _t=!1,Fe&&(n.flags&1048576)!==0&&lf(n,zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")hr(u)?(t=ao(u,t),n.tag=1,n=Nd(null,n,u,t,s)):(n.tag=0,n=Wr(null,n,u,t,s));else{if(u!=null){if(f=u.$$typeof,f===ce){n.tag=11,n=xd(null,n,u,t,s);break e}else if(f===Te){n.tag=14,n=Td(null,n,u,t,s);break e}}throw n=Wt(u)||u,Error(l(306,n,""))}}return n;case 0:return Wr(t,n,n.type,n.pendingProps,s);case 1:return u=n.type,f=ao(u,n.pendingProps),Nd(t,n,u,f,s);case 3:e:{if(Qe(n,n.stateNode.containerInfo),t===null)throw Error(l(387));u=n.pendingProps;var m=n.memoizedState;f=m.element,wr(t,n),zs(n,u,null,s);var C=n.memoizedState;if(u=C.cache,gi(n,Tt,u),u!==m.cache&&Ar(n,[Tt],s,!0),Bs(),u=C.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Md(t,n,u,s);break e}else if(u!==f){f=mn(Error(l(424)),n),Ps(f),n=Md(t,n,u,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=_n(t.firstChild),Kt=n,Fe=!0,to=null,Pn=!0,s=rd(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Is(),u===f){n=ei(t,n,s);break e}kt(t,n,u,s)}n=n.child}return n;case 26:return aa(t,n),t===null?(s=km(n.type,null,n.pendingProps,null))?n.memoizedState=s:Fe||(s=n.type,t=n.pendingProps,u=Sa(xe.current).createElement(s),u[Nt]=n,u[Gt]=t,Lt(u,s,t),ht(u),n.stateNode=u):n.memoizedState=km(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ui(n),t===null&&Fe&&(u=n.stateNode=Dm(n.type,n.pendingProps,xe.current),Kt=n,Pn=!0,f=ct,Di(n.type)?(Bu=f,ct=_n(u.firstChild)):ct=f),kt(t,n,n.pendingProps.children,s),aa(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((f=u=ct)&&(u=Hy(u,n.type,n.pendingProps,Pn),u!==null?(n.stateNode=u,Kt=n,ct=_n(u.firstChild),Pn=!1,f=!0):f=!1),f||no(n)),ui(n),f=n.type,m=n.pendingProps,C=t!==null?t.memoizedProps:null,u=m.children,Lu(f,m)?u=null:C!==null&&Lu(f,C)&&(n.flags|=32),n.memoizedState!==null&&(f=Ur(t,n,ly,null,null,s),ul._currentValue=f),aa(t,n),kt(t,n,u,s),n.child;case 6:return t===null&&Fe&&((t=s=ct)&&(s=Oy(s,n.pendingProps,Pn),s!==null?(n.stateNode=s,Kt=n,ct=null,t=!0):t=!1),t||no(n)),null;case 13:return _d(t,n,s);case 4:return Qe(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=Oo(n,null,u,s):kt(t,n,u,s),n.child;case 11:return xd(t,n,n.type,n.pendingProps,s);case 7:return kt(t,n,n.pendingProps,s),n.child;case 8:return kt(t,n,n.pendingProps.children,s),n.child;case 12:return kt(t,n,n.pendingProps.children,s),n.child;case 10:return u=n.pendingProps,gi(n,n.type,u.value),kt(t,n,u.children,s),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,oo(n),f=Ot(f),u=u(f),n.flags|=1,kt(t,n,u,s),n.child;case 14:return Td(t,n,n.type,n.pendingProps,s);case 15:return Cd(t,n,n.type,n.pendingProps,s);case 19:return wd(t,n,s);case 31:return u=n.pendingProps,s=n.mode,u={mode:u.mode,children:u.children},t===null?(s=ra(u,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Jn(t.child,u),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Sd(t,n,s);case 24:return oo(n),u=Ot(Tt),t===null?(f=Mr(),f===null&&(f=nt,m=Er(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),n.memoizedState={parent:u,cache:f},br(n),gi(n,Tt,f)):((t.lanes&s)!==0&&(wr(t,n),zs(n,null,null,s),Bs()),f=t.memoizedState,m=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),gi(n,Tt,u)):(u=m.cache,gi(n,Tt,u),u!==f.cache&&Ar(n,[Tt],s,!0))),kt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ti(t){t.flags|=4}function Dd(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gm(n)){if(n=yn.current,n!==null&&((Be&4194048)===Be?kn!==null:(Be&62914560)!==Be&&(Be&536870912)===0||n!==kn))throw qs=_r,pf;t.flags|=8192}}function ua(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Sl():536870912,t.lanes|=n,Jo|=n)}function Ks(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ut(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=s,n}function hy(t,n,s){var u=n.pendingProps;switch(xr(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return s=n.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Qn(Tt),St(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ds(n)?ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),ut(n),null;case 26:return s=n.memoizedState,t===null?(ti(n),s!==null?(ut(n),Dd(n,s)):(ut(n),n.flags&=-16777217)):s?s!==t.memoizedState?(ti(n),ut(n),Dd(n,s)):(ut(n),n.flags&=-16777217):(t.memoizedProps!==u&&ti(n),ut(n),n.flags&=-16777217),null;case 27:ci(n),s=xe.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==u&&ti(n);else{if(!u){if(n.stateNode===null)throw Error(l(166));return ut(n),null}t=me.current,Ds(n)?af(n):(t=Dm(f,u,s),n.stateNode=t,ti(n))}return ut(n),null;case 5:if(ci(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&ti(n);else{if(!u){if(n.stateNode===null)throw Error(l(166));return ut(n),null}if(t=me.current,Ds(n))af(n);else{switch(f=Sa(xe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(s,{is:u.is}):f.createElement(s)}}t[Nt]=n,t[Gt]=u;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;e:switch(Lt(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ti(n)}}return ut(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==u&&ti(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(l(166));if(t=xe.current,Ds(n)){if(t=n.stateNode,s=n.memoizedProps,u=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Em(t.nodeValue,s)),t||no(n)}else t=Sa(t).createTextNode(u),t[Nt]=n,n.stateNode=t}return ut(n),null;case 13:if(u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ds(n),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(l(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[Nt]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),f=!1}else f=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Wn(n),n):(Wn(n),null)}if(Wn(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),ua(n,n.updateQueue),ut(n),null;case 4:return St(),t===null&&Du(n.stateNode.containerInfo),ut(n),null;case 10:return Qn(n.type),ut(n),null;case 19:if(ne(Ct),f=n.memoizedState,f===null)return ut(n),null;if(u=(n.flags&128)!==0,m=f.rendering,m===null)if(u)Ks(f,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=oa(t),m!==null){for(n.flags|=128,Ks(f,!1),t=m.updateQueue,n.updateQueue=t,ua(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)sf(s,t),s=s.sibling;return ee(Ct,Ct.current&1|2),n.child}t=t.sibling}f.tail!==null&&vt()>da&&(n.flags|=128,u=!0,Ks(f,!1),n.lanes=4194304)}else{if(!u)if(t=oa(m),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,ua(n,t),Ks(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Fe)return ut(n),null}else 2*vt()-f.renderingStartTime>da&&s!==536870912&&(n.flags|=128,u=!0,Ks(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(t=f.last,t!==null?t.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=vt(),n.sibling=null,t=Ct.current,ee(Ct,u?t&1|2:t&1),n):(ut(n),null);case 22:case 23:return Wn(n),Pr(),u=n.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(s&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),s=n.updateQueue,s!==null&&ua(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==s&&(n.flags|=2048),t!==null&&ne(so),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qn(Tt),ut(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function gy(t,n){switch(xr(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qn(Tt),St(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ci(n),null;case 13:if(Wn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ne(Ct),null;case 4:return St(),null;case 10:return Qn(n.type),null;case 22:case 23:return Wn(n),Pr(),t!==null&&ne(so),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qn(Tt),null;case 25:return null;default:return null}}function Id(t,n){switch(xr(n),n.tag){case 3:Qn(Tt),St();break;case 26:case 27:case 5:ci(n);break;case 4:St();break;case 13:Wn(n);break;case 19:ne(Ct);break;case 10:Qn(n.type);break;case 22:case 23:Wn(n),Pr(),t!==null&&ne(so);break;case 24:Qn(Tt)}}function js(t,n){try{var s=n.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&t)===t){u=void 0;var m=s.create,C=s.inst;u=m(),C.destroy=u}s=s.next}while(s!==f)}}catch(S){tt(n,n.return,S)}}function Ai(t,n,s){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&t)===t){var C=u.inst,S=C.destroy;if(S!==void 0){C.destroy=void 0,f=n;var N=s,U=S;try{U()}catch(F){tt(f,N,F)}}}u=u.next}while(u!==m)}}catch(F){tt(n,n.return,F)}}function Pd(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Tf(n,s)}catch(u){tt(t,t.return,u)}}}function kd(t,n,s){s.props=ao(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){tt(t,n,u)}}function Xs(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(f){tt(t,n,f)}}function Un(t,n){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){tt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){tt(t,n,f)}else s.current=null}function Ud(t){var n=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){tt(t,t.return,f)}}function au(t,n,s){try{var u=t.stateNode;Vy(u,t.type,s,n),u[Gt]=n}catch(f){tt(t,t.return,f)}}function Ld(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Di(t.type)||t.tag===4}function ru(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ld(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Di(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uu(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ca));else if(u!==4&&(u===27&&Di(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(uu(t,n,s),t=t.sibling;t!==null;)uu(t,n,s),t=t.sibling}function ca(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(u!==4&&(u===27&&Di(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ca(t,n,s),t=t.sibling;t!==null;)ca(t,n,s),t=t.sibling}function Vd(t){var n=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Lt(n,u,s),n[Nt]=t,n[Gt]=s}catch(m){tt(t,t.return,m)}}var ni=!1,mt=!1,cu=!1,qd=typeof WeakSet=="function"?WeakSet:Set,bt=null;function yy(t,n){if(t=t.containerInfo,ku=ba,t=Kc(t),rr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var C=0,S=-1,N=-1,U=0,F=0,J=t,G=null;t:for(;;){for(var z;J!==s||f!==0&&J.nodeType!==3||(S=C+f),J!==m||u!==0&&J.nodeType!==3||(N=C+u),J.nodeType===3&&(C+=J.nodeValue.length),(z=J.firstChild)!==null;)G=J,J=z;for(;;){if(J===t)break t;if(G===s&&++U===f&&(S=C),G===m&&++F===u&&(N=C),(z=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=z}s=S===-1||N===-1?null:{start:S,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Uu={focusedElem:t,selectionRange:s},ba=!1,bt=n;bt!==null;)if(n=bt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,bt=t;else for(;bt!==null;){switch(n=bt,m=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,f=m.memoizedProps,m=m.memoizedState,u=s.stateNode;try{var Ee=ao(s.type,f,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(Ee,m),u.__reactInternalSnapshotBeforeUpdate=t}catch(ye){tt(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)qu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,bt=t;break}bt=n.return}}function Gd(t,n,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Ei(t,s),u&4&&js(5,s);break;case 1:if(Ei(t,s),u&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(C){tt(s,s.return,C)}else{var f=ao(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(C){tt(s,s.return,C)}}u&64&&Pd(s),u&512&&Xs(s,s.return);break;case 3:if(Ei(t,s),u&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Tf(t,n)}catch(C){tt(s,s.return,C)}}break;case 27:n===null&&u&4&&Vd(s);case 26:case 5:Ei(t,s),n===null&&u&4&&Ud(s),u&512&&Xs(s,s.return);break;case 12:Ei(t,s);break;case 13:Ei(t,s),u&4&&Hd(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=My.bind(null,s),Fy(t,s))));break;case 22:if(u=s.memoizedState!==null||ni,!u){n=n!==null&&n.memoizedState!==null||mt,f=ni;var m=mt;ni=u,(mt=n)&&!m?Ni(t,s,(s.subtreeFlags&8772)!==0):Ei(t,s),ni=f,mt=m}break;case 30:break;default:Ei(t,s)}}function Bd(t){var n=t.alternate;n!==null&&(t.alternate=null,Bd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&So(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,Qt=!1;function ii(t,n,s){for(s=s.child;s!==null;)zd(t,n,s),s=s.sibling}function zd(t,n,s){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Hi,s)}catch{}switch(s.tag){case 26:mt||Un(s,n),ii(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:mt||Un(s,n);var u=at,f=Qt;Di(s.type)&&(at=s.stateNode,Qt=!1),ii(t,n,s),sl(s.stateNode),at=u,Qt=f;break;case 5:mt||Un(s,n);case 6:if(u=at,f=Qt,at=null,ii(t,n,s),at=u,Qt=f,at!==null)if(Qt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(s.stateNode)}catch(m){tt(s,n,m)}else try{at.removeChild(s.stateNode)}catch(m){tt(s,n,m)}break;case 18:at!==null&&(Qt?(t=at,wm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ml(t)):wm(at,s.stateNode));break;case 4:u=at,f=Qt,at=s.stateNode.containerInfo,Qt=!0,ii(t,n,s),at=u,Qt=f;break;case 0:case 11:case 14:case 15:mt||Ai(2,s,n),mt||Ai(4,s,n),ii(t,n,s);break;case 1:mt||(Un(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"&&kd(s,n,u)),ii(t,n,s);break;case 21:ii(t,n,s);break;case 22:mt=(u=mt)||s.memoizedState!==null,ii(t,n,s),mt=u;break;default:ii(t,n,s)}}function Hd(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ml(t)}catch(s){tt(n,n.return,s)}}function vy(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qd),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qd),n;default:throw Error(l(435,t.tag))}}function fu(t,n){var s=vy(t);n.forEach(function(u){var f=_y.bind(null,t,u);s.has(u)||(s.add(u),u.then(f,f))})}function sn(t,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],m=t,C=n,S=C;e:for(;S!==null;){switch(S.tag){case 27:if(Di(S.type)){at=S.stateNode,Qt=!1;break e}break;case 5:at=S.stateNode,Qt=!1;break e;case 3:case 4:at=S.stateNode.containerInfo,Qt=!0;break e}S=S.return}if(at===null)throw Error(l(160));zd(m,C,f),at=null,Qt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Od(n,t),n=n.sibling}var Mn=null;function Od(t,n){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),ln(t),u&4&&(Ai(3,t,t.return),js(3,t),Ai(5,t,t.return));break;case 1:sn(n,t),ln(t),u&512&&(mt||s===null||Un(s,s.return)),u&64&&ni&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=Mn;if(sn(n,t),ln(t),u&512&&(mt||s===null||Un(s,s.return)),u&4){var m=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[$i]||m[Nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Lt(m,u,s),m[Nt]=t,ht(m),u=m;break e;case"link":var C=Vm("link","href",f).get(u+(s.href||""));if(C){for(var S=0;S<C.length;S++)if(m=C[S],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(S,1);break t}}m=f.createElement(u),Lt(m,u,s),f.head.appendChild(m);break;case"meta":if(C=Vm("meta","content",f).get(u+(s.content||""))){for(S=0;S<C.length;S++)if(m=C[S],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(S,1);break t}}m=f.createElement(u),Lt(m,u,s),f.head.appendChild(m);break;default:throw Error(l(468,u))}m[Nt]=t,ht(m),u=m}t.stateNode=u}else qm(f,t.type,t.stateNode);else t.stateNode=Lm(f,u,t.memoizedProps);else m!==u?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,u===null?qm(f,t.type,t.stateNode):Lm(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&au(t,t.memoizedProps,s.memoizedProps)}break;case 27:sn(n,t),ln(t),u&512&&(mt||s===null||Un(s,s.return)),s!==null&&u&4&&au(t,t.memoizedProps,s.memoizedProps);break;case 5:if(sn(n,t),ln(t),u&512&&(mt||s===null||Un(s,s.return)),t.flags&32){f=t.stateNode;try{Fn(f,"")}catch(z){tt(t,t.return,z)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,au(t,f,s!==null?s.memoizedProps:f)),u&1024&&(cu=!0);break;case 6:if(sn(n,t),ln(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(z){tt(t,t.return,z)}}break;case 3:if(Na=null,f=Mn,Mn=Aa(n.containerInfo),sn(n,t),Mn=f,ln(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{ml(n.containerInfo)}catch(z){tt(t,t.return,z)}cu&&(cu=!1,Fd(t));break;case 4:u=Mn,Mn=Aa(t.stateNode.containerInfo),sn(n,t),ln(t),Mn=u;break;case 12:sn(n,t),ln(t);break;case 13:sn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(yu=vt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,fu(t,u)));break;case 22:f=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,U=ni,F=mt;if(ni=U||f,mt=F||N,sn(n,t),mt=F,ni=U,ln(t),u&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||N||ni||mt||ro(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(m=N.stateNode,f)C=m.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{S=N.stateNode;var J=N.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(z){tt(N,N.return,z)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(z){tt(N,N.return,z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,fu(t,s))));break;case 19:sn(n,t),ln(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,fu(t,u)));break;case 30:break;case 21:break;default:sn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var s,u=t.return;u!==null;){if(Ld(u)){s=u;break}u=u.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var f=s.stateNode,m=ru(t);ca(t,m,f);break;case 5:var C=s.stateNode;s.flags&32&&(Fn(C,""),s.flags&=-33);var S=ru(t);ca(t,S,C);break;case 3:case 4:var N=s.stateNode.containerInfo,U=ru(t);uu(t,U,N);break;default:throw Error(l(161))}}catch(F){tt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ei(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gd(t,n.alternate,n),n=n.sibling}function ro(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),ro(n);break;case 1:Un(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&kd(n,n.return,s),ro(n);break;case 27:sl(n.stateNode);case 26:case 5:Un(n,n.return),ro(n);break;case 22:n.memoizedState===null&&ro(n);break;case 30:ro(n);break;default:ro(n)}t=t.sibling}}function Ni(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=t,m=n,C=m.flags;switch(m.tag){case 0:case 11:case 15:Ni(f,m,s),js(4,m);break;case 1:if(Ni(f,m,s),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){tt(u,u.return,U)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)xf(N[f],S)}catch(U){tt(u,u.return,U)}}s&&C&64&&Pd(m),Xs(m,m.return);break;case 27:Vd(m);case 26:case 5:Ni(f,m,s),s&&u===null&&C&4&&Ud(m),Xs(m,m.return);break;case 12:Ni(f,m,s);break;case 13:Ni(f,m,s),s&&C&4&&Hd(f,m);break;case 22:m.memoizedState===null&&Ni(f,m,s),Xs(m,m.return);break;case 30:break;default:Ni(f,m,s)}n=n.sibling}}function du(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Us(s))}function mu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Us(t))}function Ln(t,n,s,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$d(t,n,s,u),n=n.sibling}function $d(t,n,s,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ln(t,n,s,u),f&2048&&js(9,n);break;case 1:Ln(t,n,s,u);break;case 3:Ln(t,n,s,u),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Us(t)));break;case 12:if(f&2048){Ln(t,n,s,u),t=n.stateNode;try{var m=n.memoizedProps,C=m.id,S=m.onPostCommit;typeof S=="function"&&S(C,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){tt(n,n.return,N)}}else Ln(t,n,s,u);break;case 13:Ln(t,n,s,u);break;case 23:break;case 22:m=n.stateNode,C=n.alternate,n.memoizedState!==null?m._visibility&2?Ln(t,n,s,u):Qs(t,n):m._visibility&2?Ln(t,n,s,u):(m._visibility|=2,Fo(t,n,s,u,(n.subtreeFlags&10256)!==0)),f&2048&&du(C,n);break;case 24:Ln(t,n,s,u),f&2048&&mu(n.alternate,n);break;default:Ln(t,n,s,u)}}function Fo(t,n,s,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=t,C=n,S=s,N=u,U=C.flags;switch(C.tag){case 0:case 11:case 15:Fo(m,C,S,N,f),js(8,C);break;case 23:break;case 22:var F=C.stateNode;C.memoizedState!==null?F._visibility&2?Fo(m,C,S,N,f):Qs(m,C):(F._visibility|=2,Fo(m,C,S,N,f)),f&&U&2048&&du(C.alternate,C);break;case 24:Fo(m,C,S,N,f),f&&U&2048&&mu(C.alternate,C);break;default:Fo(m,C,S,N,f)}n=n.sibling}}function Qs(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,u=n,f=u.flags;switch(u.tag){case 22:Qs(s,u),f&2048&&du(u.alternate,u);break;case 24:Qs(s,u),f&2048&&mu(u.alternate,u);break;default:Qs(s,u)}n=n.sibling}}var Zs=8192;function $o(t){if(t.subtreeFlags&Zs)for(t=t.child;t!==null;)Yd(t),t=t.sibling}function Yd(t){switch(t.tag){case 26:$o(t),t.flags&Zs&&t.memoizedState!==null&&i0(Mn,t.memoizedState,t.memoizedProps);break;case 5:$o(t);break;case 3:case 4:var n=Mn;Mn=Aa(t.stateNode.containerInfo),$o(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Zs,Zs=16777216,$o(t),Zs=n):$o(t));break;default:$o(t)}}function Jd(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ws(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];bt=u,jd(u,t)}Jd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kd(t),t=t.sibling}function Kd(t){switch(t.tag){case 0:case 11:case 15:Ws(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:Ws(t);break;case 12:Ws(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fa(t)):Ws(t);break;default:Ws(t)}}function fa(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];bt=u,jd(u,t)}Jd(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),fa(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,fa(n));break;default:fa(n)}t=t.sibling}}function jd(t,n){for(;bt!==null;){var s=bt;switch(s.tag){case 0:case 11:case 15:Ai(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Us(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,bt=u;else e:for(s=t;bt!==null;){u=bt;var f=u.sibling,m=u.return;if(Bd(u),u===s){bt=null;break e}if(f!==null){f.return=m,bt=f;break e}bt=m}}}var xy={getCacheForType:function(t){var n=Ot(Tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},Ty=typeof WeakMap=="function"?WeakMap:Map,Je=0,nt=null,Ue=null,Be=0,Ke=0,an=null,Mi=!1,Yo=!1,pu=!1,oi=0,ft=0,_i=0,uo=0,hu=0,vn=0,Jo=0,el=null,Zt=null,gu=!1,yu=0,da=1/0,ma=null,bi=null,Ut=0,wi=null,Ko=null,jo=0,vu=0,xu=null,Xd=null,tl=0,Tu=null;function rn(){if((Je&2)!==0&&Be!==0)return Be&-Be;if(q.T!==null){var t=Lo;return t!==0?t:_u()}return To()}function Qd(){vn===0&&(vn=(Be&536870912)===0||Fe?Cl():536870912);var t=yn.current;return t!==null&&(t.flags|=32),vn}function un(t,n,s){(t===nt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Xo(t,0),Ri(t,Be,vn,!1)),dn(t,s),((Je&2)===0||t!==nt)&&(t===nt&&((Je&2)===0&&(uo|=s),ft===4&&Ri(t,Be,vn,!1)),Vn(t))}function Zd(t,n,s){if((Je&6)!==0)throw Error(l(327));var u=!s&&(n&124)===0&&(n&t.expiredLanes)===0||fn(t,n),f=u?Ay(t,n):Au(t,n,!0),m=u;do{if(f===0){Yo&&!u&&Ri(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!Cy(s)){f=Au(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var S=t;f=el;var N=S.current.memoizedState.isDehydrated;if(N&&(Xo(S,C).flags|=256),C=Au(S,C,!1),C!==2){if(pu&&!N){S.errorRecoveryDisabledLanes|=m,uo|=m,f=4;break e}m=Zt,Zt=f,m!==null&&(Zt===null?Zt=m:Zt.push.apply(Zt,m))}f=C}if(m=!1,f!==2)continue}}if(f===1){Xo(t,0),Ri(t,n,0,!0);break}e:{switch(u=t,m=f,m){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ri(u,n,vn,!Mi);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(f=yu+300-vt(),10<f)){if(Ri(u,n,vn,!Mi),Bn(u,0,!0)!==0)break e;u.timeoutHandle=_m(Wd.bind(null,u,s,Zt,ma,gu,n,vn,uo,Jo,Mi,m,2,-0,0),f);break e}Wd(u,s,Zt,ma,gu,n,vn,uo,Jo,Mi,m,0,-0,0)}}break}while(!0);Vn(t)}function Wd(t,n,s,u,f,m,C,S,N,U,F,J,G,z){if(t.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:n0},Yd(n),J=o0(),J!==null)){t.cancelPendingCommit=J(lm.bind(null,t,n,m,s,u,f,C,S,N,F,1,G,z)),Ri(t,m,C,!U);return}lm(t,n,m,s,u,f,C,S,N)}function Cy(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],m=f.getSnapshot;f=f.value;try{if(!nn(m(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ri(t,n,s,u){n&=~hu,n&=~uo,t.suspendedLanes|=n,t.pingedLanes&=~n,u&&(t.warmLanes|=n),u=t.expirationTimes;for(var f=n;0<f;){var m=31-Dt(f),C=1<<m;u[m]=-1,f&=~C}s!==0&&Al(t,s,n)}function pa(){return(Je&6)===0?(nl(0),!1):!0}function Cu(){if(Ue!==null){if(Ke===0)var t=Ue.return;else t=Ue,Xn=io=null,qr(t),Ho=null,Ys=0,t=Ue;for(;t!==null;)Id(t.alternate,t),t=t.return;Ue=null}}function Xo(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Gy(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Cu(),nt=t,Ue=s=Jn(t.current,null),Be=n,Ke=0,an=null,Mi=!1,Yo=fn(t,n),pu=!1,Jo=vn=hu=uo=_i=ft=0,Zt=el=null,gu=!1,(n&8)!==0&&(n|=n&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=n;0<u;){var f=31-Dt(u),m=1<<f;n|=t[f],u&=~m}return oi=n,Ll(),s}function em(t,n){Pe=null,q.H=ta,n===Vs||n===$l?(n=yf(),Ke=3):n===pf?(n=yf(),Ke=4):Ke=n===vd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,an=n,Ue===null&&(ft=1,la(t,mn(n,t.current)))}function tm(){var t=q.H;return q.H=ta,t===null?ta:t}function nm(){var t=q.A;return q.A=xy,t}function Su(){ft=4,Mi||(Be&4194048)!==Be&&yn.current!==null||(Yo=!0),(_i&134217727)===0&&(uo&134217727)===0||nt===null||Ri(nt,Be,vn,!1)}function Au(t,n,s){var u=Je;Je|=2;var f=tm(),m=nm();(nt!==t||Be!==n)&&(ma=null,Xo(t,n)),n=!1;var C=ft;e:do try{if(Ke!==0&&Ue!==null){var S=Ue,N=an;switch(Ke){case 8:Cu(),C=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var U=Ke;if(Ke=0,an=null,Qo(t,S,N,U),s&&Yo){C=0;break e}break;default:U=Ke,Ke=0,an=null,Qo(t,S,N,U)}}Sy(),C=ft;break}catch(F){em(t,F)}while(!0);return n&&t.shellSuspendCounter++,Xn=io=null,Je=u,q.H=f,q.A=m,Ue===null&&(nt=null,Be=0,Ll()),C}function Sy(){for(;Ue!==null;)im(Ue)}function Ay(t,n){var s=Je;Je|=2;var u=tm(),f=nm();nt!==t||Be!==n?(ma=null,da=vt()+500,Xo(t,n)):Yo=fn(t,n);e:do try{if(Ke!==0&&Ue!==null){n=Ue;var m=an;t:switch(Ke){case 1:Ke=0,an=null,Qo(t,n,m,1);break;case 2:case 9:if(hf(m)){Ke=0,an=null,om(n);break}n=function(){Ke!==2&&Ke!==9||nt!==t||(Ke=7),Vn(t)},m.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:hf(m)?(Ke=0,an=null,om(n)):(Ke=0,an=null,Qo(t,n,m,7));break;case 5:var C=null;switch(Ue.tag){case 26:C=Ue.memoizedState;case 5:case 27:var S=Ue;if(!C||Gm(C)){Ke=0,an=null;var N=S.sibling;if(N!==null)Ue=N;else{var U=S.return;U!==null?(Ue=U,ha(U)):Ue=null}break t}}Ke=0,an=null,Qo(t,n,m,5);break;case 6:Ke=0,an=null,Qo(t,n,m,6);break;case 8:Cu(),ft=6;break e;default:throw Error(l(462))}}Ey();break}catch(F){em(t,F)}while(!0);return Xn=io=null,q.H=u,q.A=f,Je=s,Ue!==null?0:(nt=null,Be=0,Ll(),ft)}function Ey(){for(;Ue!==null&&!ms();)im(Ue)}function im(t){var n=Rd(t.alternate,t,oi);t.memoizedProps=t.pendingProps,n===null?ha(t):Ue=n}function om(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Ed(s,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=Ed(s,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:qr(n);default:Id(s,n),n=Ue=sf(n,oi),n=Rd(s,n,oi)}t.memoizedProps=t.pendingProps,n===null?ha(t):Ue=n}function Qo(t,n,s,u){Xn=io=null,qr(n),Ho=null,Ys=0;var f=n.return;try{if(my(t,f,n,s,Be)){ft=1,la(t,mn(s,t.current)),Ue=null;return}}catch(m){if(f!==null)throw Ue=f,m;ft=1,la(t,mn(s,t.current)),Ue=null;return}n.flags&32768?(Fe||u===1?t=!0:Yo||(Be&536870912)!==0?t=!1:(Mi=t=!0,(u===2||u===9||u===3||u===6)&&(u=yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),sm(n,t)):ha(n)}function ha(t){var n=t;do{if((n.flags&32768)!==0){sm(n,Mi);return}t=n.return;var s=hy(n.alternate,n,oi);if(s!==null){Ue=s;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);ft===0&&(ft=5)}function sm(t,n){do{var s=gy(t.alternate,t);if(s!==null){s.flags&=32767,Ue=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=s}while(t!==null);ft=6,Ue=null}function lm(t,n,s,u,f,m,C,S,N){t.cancelPendingCommit=null;do ga();while(Ut!==0);if((Je&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(m=n.lanes|n.childLanes,m|=mr,Wa(t,s,m,C,S,N),t===nt&&(Ue=nt=null,Be=0),Ko=n,wi=t,jo=s,vu=m,xu=f,Xd=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,by(Bi,function(){return fm(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=te.p,te.p=2,C=Je,Je|=4;try{yy(t,n,s)}finally{Je=C,te.p=f,q.T=u}}Ut=1,am(),rm(),um()}}function am(){if(Ut===1){Ut=0;var t=wi,n=Ko,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var u=te.p;te.p=2;var f=Je;Je|=4;try{Od(n,t);var m=Uu,C=Kc(t.containerInfo),S=m.focusedElem,N=m.selectionRange;if(C!==S&&S&&S.ownerDocument&&Jc(S.ownerDocument.documentElement,S)){if(N!==null&&rr(S)){var U=N.start,F=N.end;if(F===void 0&&(F=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(F,S.value.length);else{var J=S.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var z=G.getSelection(),Ee=S.textContent.length,ye=Math.min(N.start,Ee),et=N.end===void 0?ye:Math.min(N.end,Ee);!z.extend&&ye>et&&(C=et,et=ye,ye=C);var I=Yc(S,ye),R=Yc(S,et);if(I&&R&&(z.rangeCount!==1||z.anchorNode!==I.node||z.anchorOffset!==I.offset||z.focusNode!==R.node||z.focusOffset!==R.offset)){var k=J.createRange();k.setStart(I.node,I.offset),z.removeAllRanges(),ye>et?(z.addRange(k),z.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),z.addRange(k))}}}}for(J=[],z=S;z=z.parentNode;)z.nodeType===1&&J.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var Y=J[S];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}ba=!!ku,Uu=ku=null}finally{Je=f,te.p=u,q.T=s}}t.current=n,Ut=2}}function rm(){if(Ut===2){Ut=0;var t=wi,n=Ko,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var u=te.p;te.p=2;var f=Je;Je|=4;try{Gd(t,n.alternate,n)}finally{Je=f,te.p=u,q.T=s}}Ut=3}}function um(){if(Ut===4||Ut===3){Ut=0,Tl();var t=wi,n=Ko,s=jo,u=Xd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,Ko=wi=null,cm(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(bi=null),vs(s),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Hi,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=q.T,f=te.p,te.p=2,q.T=null;try{for(var m=t.onRecoverableError,C=0;C<u.length;C++){var S=u[C];m(S.value,{componentStack:S.stack})}}finally{q.T=n,te.p=f}}(jo&3)!==0&&ga(),Vn(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===Tu?tl++:(tl=0,Tu=t):tl=0,nl(0)}}function cm(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Us(n)))}function ga(t){return am(),rm(),um(),fm()}function fm(){if(Ut!==5)return!1;var t=wi,n=vu;vu=0;var s=vs(jo),u=q.T,f=te.p;try{te.p=32>s?32:s,q.T=null,s=xu,xu=null;var m=wi,C=jo;if(Ut=0,Ko=wi=null,jo=0,(Je&6)!==0)throw Error(l(331));var S=Je;if(Je|=4,Kd(m.current),$d(m,m.current,C,s),Je=S,nl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Hi,m)}catch{}return!0}finally{te.p=f,q.T=u,cm(t,n)}}function dm(t,n,s){n=mn(s,n),n=Zr(t.stateNode,n,2),t=xi(t,n,2),t!==null&&(dn(t,2),Vn(t))}function tt(t,n,s){if(t.tag===3)dm(t,t,s);else for(;n!==null;){if(n.tag===3){dm(n,t,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(bi===null||!bi.has(u))){t=mn(s,t),s=gd(2),u=xi(n,s,2),u!==null&&(yd(s,u,n,t),dn(u,2),Vn(u));break}}n=n.return}}function Eu(t,n,s){var u=t.pingCache;if(u===null){u=t.pingCache=new Ty;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(s)||(pu=!0,f.add(s),t=Ny.bind(null,t,n,s),n.then(t,t))}function Ny(t,n,s){var u=t.pingCache;u!==null&&u.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,nt===t&&(Be&s)===s&&(ft===4||ft===3&&(Be&62914560)===Be&&300>vt()-yu?(Je&2)===0&&Xo(t,0):hu|=s,Jo===Be&&(Jo=0)),Vn(t)}function mm(t,n){n===0&&(n=Sl()),t=Io(t,n),t!==null&&(dn(t,n),Vn(t))}function My(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),mm(t,s)}function _y(t,n){var s=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(n),mm(t,s)}function by(t,n){return qn(t,n)}var ya=null,Zo=null,Nu=!1,va=!1,Mu=!1,co=0;function Vn(t){t!==Zo&&t.next===null&&(Zo===null?ya=Zo=t:Zo=Zo.next=t),va=!0,Nu||(Nu=!0,Ry())}function nl(t,n){if(!Mu&&va){Mu=!0;do for(var s=!1,u=ya;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var C=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Dt(42|t)+1)-1,m&=f&~(C&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,ym(u,m))}else m=Be,m=Bn(u,u===nt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||fn(u,m)||(s=!0,ym(u,m));u=u.next}while(s);Mu=!1}}function wy(){pm()}function pm(){va=Nu=!1;var t=0;co!==0&&(qy()&&(t=co),co=0);for(var n=vt(),s=null,u=ya;u!==null;){var f=u.next,m=hm(u,n);m===0?(u.next=null,s===null?ya=f:s.next=f,f===null&&(Zo=s)):(s=u,(t!==0||(m&3)!==0)&&(va=!0)),u=f}nl(t)}function hm(t,n){for(var s=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var C=31-Dt(m),S=1<<C,N=f[C];N===-1?((S&s)===0||(S&u)!==0)&&(f[C]=hs(S,n)):N<=n&&(t.expiredLanes|=S),m&=~S}if(n=nt,s=Be,s=Bn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&fi(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||fn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(u!==null&&fi(u),vs(s)){case 2:case 8:s=yo;break;case 32:s=Bi;break;case 268435456:s=ps;break;default:s=Bi}return u=gm.bind(null,t),s=qn(s,u),t.callbackPriority=n,t.callbackNode=s,n}return u!==null&&u!==null&&fi(u),t.callbackPriority=2,t.callbackNode=null,2}function gm(t,n){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ga()&&t.callbackNode!==s)return null;var u=Be;return u=Bn(t,t===nt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Zd(t,u,n),hm(t,vt()),t.callbackNode!=null&&t.callbackNode===s?gm.bind(null,t):null)}function ym(t,n){if(ga())return null;Zd(t,n,!0)}function Ry(){By(function(){(Je&6)!==0?qn(Gn,wy):pm()})}function _u(){return co===0&&(co=Cl()),co}function vm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_(""+t)}function xm(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Dy(t,n,s,u,f){if(n==="submit"&&s&&s.stateNode===f){var m=vm((f[Gt]||null).action),C=u.submitter;C&&(n=(n=C[Gt]||null)?vm(n.formAction):C.getAttribute("formAction"),n!==null&&(m=n,C=null));var S=new ji("action","action",null,u,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(co!==0){var N=C?xm(f,C):new FormData(f);Jr(s,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=C?xm(f,C):new FormData(f),Jr(s,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var bu=0;bu<dr.length;bu++){var wu=dr[bu],Iy=wu.toLowerCase(),Py=wu[0].toUpperCase()+wu.slice(1);Nn(Iy,"on"+Py)}Nn(Qc,"onAnimationEnd"),Nn(Zc,"onAnimationIteration"),Nn(Wc,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Xg,"onTransitionRun"),Nn(Qg,"onTransitionStart"),Nn(Zg,"onTransitionCancel"),Nn(ef,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ky=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Tm(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],f=u.event;u=u.listeners;e:{var m=void 0;if(n)for(var C=u.length-1;0<=C;C--){var S=u[C],N=S.instance,U=S.currentTarget;if(S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=U;try{m(f)}catch(F){sa(F)}f.currentTarget=null,m=N}else for(C=0;C<u.length;C++){if(S=u[C],N=S.instance,U=S.currentTarget,S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=U;try{m(f)}catch(F){sa(F)}f.currentTarget=null,m=N}}}}function Le(t,n){var s=n[lt];s===void 0&&(s=n[lt]=new Set);var u=t+"__bubble";s.has(u)||(Cm(n,t,2,!1),s.add(u))}function Ru(t,n,s){var u=0;n&&(u|=4),Cm(s,t,u,n)}var xa="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[xa]){t[xa]=!0,xs.forEach(function(s){s!=="selectionchange"&&(ky.has(s)||Ru(s,!1,t),Ru(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xa]||(n[xa]=!0,Ru("selectionchange",!1,n))}}function Cm(t,n,s,u){switch($m(n)){case 2:var f=a0;break;case 8:f=r0;break;default:f=$u}s=f.bind(null,n,s,t),f=void 0,!W||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Iu(t,n,s,u,f){var m=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var S=u.stateNode.containerInfo;if(S===f)break;if(C===4)for(C=u.return;C!==null;){var N=C.tag;if((N===3||N===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;S!==null;){if(C=Se(S),C===null)return;if(N=C.tag,N===5||N===6||N===26||N===27){u=m=C;continue e}S=S.parentNode}}u=u.return}b(function(){var U=m,F=D(s),J=[];e:{var G=tf.get(t);if(G!==void 0){var z=ji,Ee=t;switch(t){case"keypress":if(tn(s)===0)break e;case"keydown":case"keyup":z=bg;break;case"focusin":Ee="focus",z=ir;break;case"focusout":Ee="blur",z=ir;break;case"beforeblur":case"afterblur":z=ir;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Jt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Dg;break;case Qc:case Zc:case Wc:z=xg;break;case ef:z=Pg;break;case"scroll":case"scrollend":z=kl;break;case"wheel":z=Ug;break;case"copy":case"cut":case"paste":z=Cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Ic;break;case"toggle":case"beforetoggle":z=Vg}var ye=(n&4)!==0,et=!ye&&(t==="scroll"||t==="scrollend"),I=ye?G!==null?G+"Capture":null:G;ye=[];for(var R=U,k;R!==null;){var Y=R;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||I===null||(Y=X(R,I),Y!=null&&ye.push(ol(R,Y,k))),et)break;R=R.return}0<ye.length&&(G=new z(G,Ee,null,s,F),J.push({event:G,listeners:ye}))}}if((n&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",G&&s!==E&&(Ee=s.relatedTarget||s.fromElement)&&(Se(Ee)||Ee[di]))break e;if((z||G)&&(G=F.window===F?F:(G=F.ownerDocument)?G.defaultView||G.parentWindow:window,z?(Ee=s.relatedTarget||s.toElement,z=U,Ee=Ee?Se(Ee):null,Ee!==null&&(et=p(Ee),ye=Ee.tag,Ee!==et||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(z=null,Ee=U),z!==Ee)){if(ye=Jt,Y="onMouseLeave",I="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ic,Y="onPointerLeave",I="onPointerEnter",R="pointer"),et=z==null?G:jt(z),k=Ee==null?G:jt(Ee),G=new ye(Y,R+"leave",z,s,F),G.target=et,G.relatedTarget=k,Y=null,Se(F)===U&&(ye=new ye(I,R+"enter",Ee,s,F),ye.target=k,ye.relatedTarget=et,Y=ye),et=Y,z&&Ee)t:{for(ye=z,I=Ee,R=0,k=ye;k;k=Wo(k))R++;for(k=0,Y=I;Y;Y=Wo(Y))k++;for(;0<R-k;)ye=Wo(ye),R--;for(;0<k-R;)I=Wo(I),k--;for(;R--;){if(ye===I||I!==null&&ye===I.alternate)break t;ye=Wo(ye),I=Wo(I)}ye=null}else ye=null;z!==null&&Sm(J,G,z,ye,!1),Ee!==null&&et!==null&&Sm(J,et,Ee,ye,!0)}}e:{if(G=U?jt(U):window,z=G.nodeName&&G.nodeName.toLowerCase(),z==="select"||z==="input"&&G.type==="file")var le=Bc;else if(qc(G))if(zc)le=Jg;else{le=$g;var ke=Fg}else z=G.nodeName,!z||z.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Dn(U.elementType)&&(le=Bc):le=Yg;if(le&&(le=le(t,U))){Gc(J,le,s,F);break e}ke&&ke(t,G,U),t==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&As(G,"number",G.value)}switch(ke=U?jt(U):window,t){case"focusin":(qc(ke)||ke.contentEditable==="true")&&(wo=ke,ur=U,Rs=null);break;case"focusout":Rs=ur=wo=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,jc(J,s,F);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":jc(J,s,F)}var ue;if(sr)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else bo?Lc(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(Pc&&s.locale!=="ko"&&(bo||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&bo&&(ue=en()):(De=F,rt="value"in De?De.value:De.textContent,bo=!0)),ke=Ta(U,ve),0<ke.length&&(ve=new Dc(ve,t,null,s,F),J.push({event:ve,listeners:ke}),ue?ve.data=ue:(ue=Vc(s),ue!==null&&(ve.data=ue)))),(ue=Gg?Bg(t,s):zg(t,s))&&(ve=Ta(U,"onBeforeInput"),0<ve.length&&(ke=new Dc("onBeforeInput","beforeinput",null,s,F),J.push({event:ke,listeners:ve}),ke.data=ue)),Dy(J,t,U,s,F)}Tm(J,n)})}function ol(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ta(t,n){for(var s=n+"Capture",u=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=X(t,s),f!=null&&u.unshift(ol(t,f,m)),f=X(t,n),f!=null&&u.push(ol(t,f,m))),t.tag===3)return u;t=t.return}return[]}function Wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sm(t,n,s,u,f){for(var m=n._reactName,C=[];s!==null&&s!==u;){var S=s,N=S.alternate,U=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||U===null||(N=U,f?(U=X(s,m),U!=null&&C.unshift(ol(s,U,N))):f||(U=X(s,m),U!=null&&C.push(ol(s,U,N)))),s=s.return}C.length!==0&&t.push({event:n,listeners:C})}var Uy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function Am(t){return(typeof t=="string"?t:""+t).replace(Uy,`
`).replace(Ly,"")}function Em(t,n){return n=Am(n),Am(t)===n}function Ca(){}function We(t,n,s,u,f,m){switch(s){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Fn(t,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Fn(t,""+u);break;case"className":Eo(t,"class",u);break;case"tabIndex":Eo(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(t,s,u);break;case"style":Il(t,u,m);break;case"data":if(n!=="object"){Eo(t,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=_(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&We(t,n,"name",f.name,f,null),We(t,n,"formEncType",f.formEncType,f,null),We(t,n,"formMethod",f.formMethod,f,null),We(t,n,"formTarget",f.formTarget,f,null)):(We(t,n,"encType",f.encType,f,null),We(t,n,"method",f.method,f,null),We(t,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=_(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Ca);break;case"onScroll":u!=null&&Le("scroll",t);break;case"onScrollEnd":u!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=_(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ao(t,"popover",u);break;case"xlinkActuate":qe(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ao(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Pl.get(s)||s,Ao(t,s,u))}}function Pu(t,n,s,u,f,m){switch(s){case"style":Il(t,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof u=="string"?Fn(t,u):(typeof u=="number"||typeof u=="bigint")&&Fn(t,""+u);break;case"onScroll":u!=null&&Le("scroll",t);break;case"onScrollEnd":u!=null&&Le("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Ca);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),m=t[Gt]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,u,f);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):Ao(t,s,u)}}}function Lt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var u=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var C=s[m];if(C!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:We(t,n,m,C,s,null)}}f&&We(t,n,"srcSet",s.srcSet,s,null),u&&We(t,n,"src",s.src,s,null);return;case"input":Le("invalid",t);var S=m=C=f=null,N=null,U=null;for(u in s)if(s.hasOwnProperty(u)){var F=s[u];if(F!=null)switch(u){case"name":f=F;break;case"type":C=F;break;case"checked":N=F;break;case"defaultChecked":U=F;break;case"value":m=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(137,n));break;default:We(t,n,u,F,s,null)}}En(t,m,S,N,U,C,f,!1),zt(t);return;case"select":Le("invalid",t),u=C=m=null;for(f in s)if(s.hasOwnProperty(f)&&(S=s[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":C=S;break;case"multiple":u=S;default:We(t,n,f,S,s,null)}n=m,s=C,t.multiple=!!u,n!=null?Rn(t,!!u,n,!1):s!=null&&Rn(t,!!u,s,!0);return;case"textarea":Le("invalid",t),m=f=u=null;for(C in s)if(s.hasOwnProperty(C)&&(S=s[C],S!=null))switch(C){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:We(t,n,C,S,s,null)}Rl(t,u,f,m),zt(t);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(u=s[N],u!=null))switch(N){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(t,n,N,u,s,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(u=0;u<il.length;u++)Le(il[u],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(u=s[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:We(t,n,U,u,s,null)}return;default:if(Dn(n)){for(F in s)s.hasOwnProperty(F)&&(u=s[F],u!==void 0&&Pu(t,n,F,u,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(u=s[S],u!=null&&We(t,n,S,u,s,null))}function Vy(t,n,s,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,C=null,S=null,N=null,U=null,F=null;for(z in s){var J=s[z];if(s.hasOwnProperty(z)&&J!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":N=J;default:u.hasOwnProperty(z)||We(t,n,z,null,u,J)}}for(var G in u){var z=u[G];if(J=s[G],u.hasOwnProperty(G)&&(z!=null||J!=null))switch(G){case"type":m=z;break;case"name":f=z;break;case"checked":U=z;break;case"defaultChecked":F=z;break;case"value":C=z;break;case"defaultValue":S=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,n));break;default:z!==J&&We(t,n,G,z,u,J)}}Ji(t,C,S,N,U,F,m,f);return;case"select":z=C=S=G=null;for(m in s)if(N=s[m],s.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":z=N;default:u.hasOwnProperty(m)||We(t,n,m,null,u,N)}for(f in u)if(m=u[f],N=s[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":C=m;default:m!==N&&We(t,n,f,m,u,N)}n=S,s=C,u=z,G!=null?Rn(t,!!s,G,!1):!!u!=!!s&&(n!=null?Rn(t,!!s,n,!0):Rn(t,!!s,s?[]:"",!1));return;case"textarea":z=G=null;for(S in s)if(f=s[S],s.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,n,S,null,u,f)}for(C in u)if(f=u[C],m=s[C],u.hasOwnProperty(C)&&(f!=null||m!=null))switch(C){case"value":G=f;break;case"defaultValue":z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==m&&We(t,n,C,f,u,m)}Ki(t,G,z);return;case"option":for(var Ee in s)if(G=s[Ee],s.hasOwnProperty(Ee)&&G!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:We(t,n,Ee,null,u,G)}for(N in u)if(G=u[N],z=s[N],u.hasOwnProperty(N)&&G!==z&&(G!=null||z!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(t,n,N,G,u,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)G=s[ye],s.hasOwnProperty(ye)&&G!=null&&!u.hasOwnProperty(ye)&&We(t,n,ye,null,u,G);for(U in u)if(G=u[U],z=s[U],u.hasOwnProperty(U)&&G!==z&&(G!=null||z!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,n));break;default:We(t,n,U,G,u,z)}return;default:if(Dn(n)){for(var et in s)G=s[et],s.hasOwnProperty(et)&&G!==void 0&&!u.hasOwnProperty(et)&&Pu(t,n,et,void 0,u,G);for(F in u)G=u[F],z=s[F],!u.hasOwnProperty(F)||G===z||G===void 0&&z===void 0||Pu(t,n,F,G,u,z);return}}for(var I in s)G=s[I],s.hasOwnProperty(I)&&G!=null&&!u.hasOwnProperty(I)&&We(t,n,I,null,u,G);for(J in u)G=u[J],z=s[J],!u.hasOwnProperty(J)||G===z||G==null&&z==null||We(t,n,J,G,u,z)}var ku=null,Uu=null;function Sa(t){return t.nodeType===9?t:t.ownerDocument}function Nm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Lu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vu=null;function qy(){var t=window.event;return t&&t.type==="popstate"?t===Vu?!1:(Vu=t,!0):(Vu=null,!1)}var _m=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,By=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(t){return bm.resolve(null).then(t).catch(zy)}:_m;function zy(t){setTimeout(function(){throw t})}function Di(t){return t==="head"}function wm(t,n){var s=n,u=0,f=0;do{var m=s.nextSibling;if(t.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<u&&8>u){s=u;var C=t.ownerDocument;if(s&1&&sl(C.documentElement),s&2&&sl(C.body),s&4)for(s=C.head,sl(s),C=s.firstChild;C;){var S=C.nextSibling,N=C.nodeName;C[$i]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&C.rel.toLowerCase()==="stylesheet"||s.removeChild(C),C=S}}if(f===0){t.removeChild(m),ml(n);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:u=s.charCodeAt(0)-48;else u=0;s=m}while(s);ml(n)}function qu(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":qu(s),So(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Hy(t,n,s,u){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[$i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=_n(t.nextSibling),t===null)break}return null}function Oy(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=_n(t.nextSibling),t===null))return null;return t}function Gu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Fy(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var u=function(){n(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function _n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Bu=null;function Rm(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Dm(t,n,s){switch(n=Sa(s),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);So(t)}var xn=new Map,Im=new Set;function Aa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var si=te.d;te.d={f:$y,r:Yy,D:Jy,C:Ky,L:jy,m:Xy,X:Zy,S:Qy,M:Wy};function $y(){var t=si.f(),n=pa();return t||n}function Yy(t){var n=be(t);n!==null&&n.tag===5&&n.type==="form"?Zf(n):si.r(t)}var es=typeof document>"u"?null:document;function Pm(t,n,s){var u=es;if(u&&typeof n=="string"&&n){var f=Ht(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Im.has(f)||(Im.add(f),t={rel:t,crossOrigin:s,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),Lt(n,"link",t),ht(n),u.head.appendChild(n)))}}function Jy(t){si.D(t),Pm("dns-prefetch",t,null)}function Ky(t,n){si.C(t,n),Pm("preconnect",t,n)}function jy(t,n,s){si.L(t,n,s);var u=es;if(u&&t&&n){var f='link[rel="preload"][as="'+Ht(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ht(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ht(s.imageSizes)+'"]')):f+='[href="'+Ht(t)+'"]';var m=f;switch(n){case"style":m=ts(t);break;case"script":m=ns(t)}xn.has(m)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),xn.set(m,t),u.querySelector(f)!==null||n==="style"&&u.querySelector(ll(m))||n==="script"&&u.querySelector(al(m))||(n=u.createElement("link"),Lt(n,"link",t),ht(n),u.head.appendChild(n)))}}function Xy(t,n){si.m(t,n);var s=es;if(s&&t){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ht(u)+'"][href="'+Ht(t)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ns(t)}if(!xn.has(m)&&(t=T({rel:"modulepreload",href:t},n),xn.set(m,t),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(m)))return}u=s.createElement("link"),Lt(u,"link",t),ht(u),s.head.appendChild(u)}}}function Qy(t,n,s){si.S(t,n,s);var u=es;if(u&&t){var f=zn(u).hoistableStyles,m=ts(t);n=n||"default";var C=f.get(m);if(!C){var S={loading:0,preload:null};if(C=u.querySelector(ll(m)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=xn.get(m))&&zu(t,s);var N=C=u.createElement("link");ht(N),Lt(N,"link",t),N._p=new Promise(function(U,F){N.onload=U,N.onerror=F}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ea(C,n,u)}C={type:"stylesheet",instance:C,count:1,state:S},f.set(m,C)}}}function Zy(t,n){si.X(t,n);var s=es;if(s&&t){var u=zn(s).hoistableScripts,f=ns(t),m=u.get(f);m||(m=s.querySelector(al(f)),m||(t=T({src:t,async:!0},n),(n=xn.get(f))&&Hu(t,n),m=s.createElement("script"),ht(m),Lt(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Wy(t,n){si.M(t,n);var s=es;if(s&&t){var u=zn(s).hoistableScripts,f=ns(t),m=u.get(f);m||(m=s.querySelector(al(f)),m||(t=T({src:t,async:!0,type:"module"},n),(n=xn.get(f))&&Hu(t,n),m=s.createElement("script"),ht(m),Lt(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function km(t,n,s,u){var f=(f=xe.current)?Aa(f):null;if(!f)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ts(s.href),s=zn(f).hoistableStyles,u=s.get(n),u||(u={type:"style",instance:null,count:0,state:null},s.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ts(s.href);var m=zn(f).hoistableStyles,C=m.get(t);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,C),(m=f.querySelector(ll(t)))&&!m._p&&(C.instance=m,C.state.loading=5),xn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(t,s),m||e0(f,t,s,C.state))),n&&u===null)throw Error(l(528,""));return C}if(n&&u!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(s),s=zn(f).hoistableScripts,u=s.get(n),u||(u={type:"script",instance:null,count:0,state:null},s.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ts(t){return'href="'+Ht(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function Um(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function e0(t,n,s,u){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=t.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Lt(n,"link",s),ht(n),t.head.appendChild(n))}function ns(t){return'[src="'+Ht(t)+'"]'}function al(t){return"script[async]"+t}function Lm(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var u=t.querySelector('style[data-href~="'+Ht(s.href)+'"]');if(u)return n.instance=u,ht(u),u;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ht(u),Lt(u,"style",f),Ea(u,s.precedence,t),n.instance=u;case"stylesheet":f=ts(s.href);var m=t.querySelector(ll(f));if(m)return n.state.loading|=4,n.instance=m,ht(m),m;u=Um(s),(f=xn.get(f))&&zu(u,f),m=(t.ownerDocument||t).createElement("link"),ht(m);var C=m;return C._p=new Promise(function(S,N){C.onload=S,C.onerror=N}),Lt(m,"link",u),n.state.loading|=4,Ea(m,s.precedence,t),n.instance=m;case"script":return m=ns(s.src),(f=t.querySelector(al(m)))?(n.instance=f,ht(f),f):(u=s,(f=xn.get(m))&&(u=T({},s),Hu(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),ht(f),Lt(f,"link",u),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Ea(u,s.precedence,t));return n.instance}function Ea(t,n,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,C=0;C<u.length;C++){var S=u[C];if(S.dataset.precedence===n)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function zu(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Hu(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Na=null;function Vm(t,n,s){if(Na===null){var u=new Map,f=Na=new Map;f.set(s,u)}else f=Na,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[$i]||m[Nt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var C=m.getAttribute(n)||"";C=t+C;var S=u.get(C);S?S.push(m):u.set(C,[m])}}return u}function qm(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function t0(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var rl=null;function n0(){}function i0(t,n,s){if(rl===null)throw Error(l(475));var u=rl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=ts(s.href),m=t.querySelector(ll(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Ma.bind(u),t.then(u,u)),n.state.loading|=4,n.instance=m,ht(m);return}m=t.ownerDocument||t,s=Um(s),(f=xn.get(f))&&zu(s,f),m=m.createElement("link"),ht(m);var C=m;C._p=new Promise(function(S,N){C.onload=S,C.onerror=N}),Lt(m,"link",s),n.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Ma.bind(u),t.addEventListener("load",n),t.addEventListener("error",n))}}function o0(){if(rl===null)throw Error(l(475));var t=rl;return t.stylesheets&&t.count===0&&Ou(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Ou(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Ma(){if(this.count--,this.count===0){if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _a=null;function Ou(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_a=new Map,n.forEach(s0,t),_a=null,Ma.call(t))}function s0(t,n){if(!(n.state.loading&4)){var s=_a.get(t);if(s)var u=s.get(null);else{s=new Map,_a.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var C=f[m];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),u=C)}u&&s.set(null,u)}f=n.instance,C=f.getAttribute("data-precedence"),m=s.get(C)||u,m===u&&s.set(null,f),s.set(C,f),this.count++,u=Ma.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var ul={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function l0(t,n,s,u,f,m,C,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.hiddenUpdates=gs(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Bm(t,n,s,u,f,m,C,S,N,U,F,J){return t=new l0(t,n,s,C,S,N,U,J),n=1,m===!0&&(n|=24),m=on(3,null,null,n),t.current=m,m.stateNode=t,n=Er(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:u,isDehydrated:s,cache:n},br(m),t}function zm(t){return t?(t=Po,t):Po}function Hm(t,n,s,u,f,m){f=zm(f),u.context===null?u.context=f:u.pendingContext=f,u=vi(n),u.payload={element:s},m=m===void 0?null:m,m!==null&&(u.callback=m),s=xi(t,u,n),s!==null&&(un(s,t,n),Gs(s,t,n))}function Om(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Fu(t,n){Om(t,n),(t=t.alternate)&&Om(t,n)}function Fm(t){if(t.tag===13){var n=Io(t,67108864);n!==null&&un(n,t,67108864),Fu(t,67108864)}}var ba=!0;function a0(t,n,s,u){var f=q.T;q.T=null;var m=te.p;try{te.p=2,$u(t,n,s,u)}finally{te.p=m,q.T=f}}function r0(t,n,s,u){var f=q.T;q.T=null;var m=te.p;try{te.p=8,$u(t,n,s,u)}finally{te.p=m,q.T=f}}function $u(t,n,s,u){if(ba){var f=Yu(u);if(f===null)Iu(t,n,u,wa,s),Ym(t,u);else if(c0(f,t,n,s,u))u.stopPropagation();else if(Ym(t,u),n&4&&-1<u0.indexOf(t)){for(;f!==null;){var m=be(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var C=qt(m.pendingLanes);if(C!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;C;){var N=1<<31-Dt(C);S.entanglements[1]|=N,C&=~N}Vn(m),(Je&6)===0&&(da=vt()+500,nl(0))}}break;case 13:S=Io(m,2),S!==null&&un(S,m,2),pa(),Fu(m,2)}if(m=Yu(u),m===null&&Iu(t,n,u,wa,s),m===f)break;f=m}f!==null&&u.stopPropagation()}else Iu(t,n,u,null,s)}}function Yu(t){return t=D(t),Ju(t)}var wa=null;function Ju(t){if(wa=null,t=Se(t),t!==null){var n=p(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wa=t,null}function $m(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(go()){case Gn:return 2;case yo:return 8;case Bi:case An:return 32;case ps:return 268435456;default:return 32}default:return 32}}var Ku=!1,Ii=null,Pi=null,ki=null,cl=new Map,fl=new Map,Ui=[],u0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ym(t,n){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(t,n,s,u,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},n!==null&&(n=be(n),n!==null&&Fm(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function c0(t,n,s,u,f){switch(n){case"focusin":return Ii=dl(Ii,t,n,s,u,f),!0;case"dragenter":return Pi=dl(Pi,t,n,s,u,f),!0;case"mouseover":return ki=dl(ki,t,n,s,u,f),!0;case"pointerover":var m=f.pointerId;return cl.set(m,dl(cl.get(m)||null,t,n,s,u,f)),!0;case"gotpointercapture":return m=f.pointerId,fl.set(m,dl(fl.get(m)||null,t,n,s,u,f)),!0}return!1}function Jm(t){var n=Se(t.target);if(n!==null){var s=p(n);if(s!==null){if(n=s.tag,n===13){if(n=g(s),n!==null){t.blockedOn=n,Et(t.priority,function(){if(s.tag===13){var u=rn();u=ys(u);var f=Io(s,u);f!==null&&un(f,s,u),Fu(s,u)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ra(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Yu(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);E=u,s.target.dispatchEvent(u),E=null}else return n=be(s),n!==null&&Fm(n),t.blockedOn=s,!1;n.shift()}return!0}function Km(t,n,s){Ra(t)&&s.delete(n)}function f0(){Ku=!1,Ii!==null&&Ra(Ii)&&(Ii=null),Pi!==null&&Ra(Pi)&&(Pi=null),ki!==null&&Ra(ki)&&(ki=null),cl.forEach(Km),fl.forEach(Km)}function Da(t,n){t.blockedOn===n&&(t.blockedOn=null,Ku||(Ku=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,f0)))}var Ia=null;function jm(t){Ia!==t&&(Ia=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ia===t&&(Ia=null);for(var n=0;n<t.length;n+=3){var s=t[n],u=t[n+1],f=t[n+2];if(typeof u!="function"){if(Ju(u||s)===null)continue;break}var m=be(s);m!==null&&(t.splice(n,3),n-=3,Jr(m,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function ml(t){function n(N){return Da(N,t)}Ii!==null&&Da(Ii,t),Pi!==null&&Da(Pi,t),ki!==null&&Da(ki,t),cl.forEach(n),fl.forEach(n);for(var s=0;s<Ui.length;s++){var u=Ui[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ui.length&&(s=Ui[0],s.blockedOn===null);)Jm(s),s.blockedOn===null&&Ui.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],m=s[u+1],C=f[Gt]||null;if(typeof m=="function")C||jm(s);else if(C){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,C=m[Gt]||null)S=C.formAction;else if(Ju(f)!==null)continue}else S=C.action;typeof S=="function"?s[u+1]=S:(s.splice(u,3),u-=3),jm(s)}}}function ju(t){this._internalRoot=t}Pa.prototype.render=ju.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,u=rn();Hm(s,u,t,n,null,null)},Pa.prototype.unmount=ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Hm(t.current,2,null,t,null,null),pa(),n[di]=null}};function Pa(t){this._internalRoot=t}Pa.prototype.unstable_scheduleHydration=function(t){if(t){var n=To();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ui.length&&n!==0&&n<Ui[s].priority;s++);Ui.splice(s,0,t),s===0&&Jm(t)}};var Xm=e.version;if(Xm!=="19.1.0")throw Error(l(527,Xm,"19.1.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=x(n),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var d0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Hi=ka.inject(d0),xt=ka}catch{}}return hl.createRoot=function(t,n){if(!c(t))throw Error(l(299));var s=!1,u="",f=dd,m=md,C=pd,S=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Bm(t,1,!1,null,null,s,u,f,m,C,S,null),t[di]=n.current,Du(t),new ju(n)},hl.hydrateRoot=function(t,n,s){if(!c(t))throw Error(l(299));var u=!1,f="",m=dd,C=md,S=pd,N=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),n=Bm(t,1,!0,n,s??null,u,f,m,C,S,N,U),n.context=zm(null),s=n.current,u=rn(),u=ys(u),f=vi(u),f.callback=null,xi(s,f,u),s=u,n.current.lanes=s,dn(n,s),Vn(n),t[di]=n.current,Du(t),new Pa(n)},hl.version="19.1.0",hl}var lp;function S0(){if(lp)return Zu.exports;lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zu.exports=C0(),Zu.exports}var A0=S0();const E0=Lh(A0),Oe=({children:i,className:e,variant:o="default",size:l="default",...c})=>{const p="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",g={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-slate-200 text-slate-900 hover:bg-slate-300",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},v={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return d.jsx("button",{className:`${p} ${g[o]} ${v[l]} ${e||""}`,...c,children:i})},Ge=({children:i,className:e,...o})=>d.jsx("div",{className:`rounded-lg border bg-white text-gray-900 shadow-sm ${e||""}`,...o,children:i}),it=({children:i,className:e,...o})=>d.jsx("div",{className:`flex flex-col space-y-1.5 p-6 ${e||""}`,...o,children:i}),ot=({children:i,className:e,...o})=>d.jsx("h3",{className:`text-2xl font-semibold leading-none tracking-tight ${e||""}`,...o,children:i}),Tn=({children:i,className:e,...o})=>d.jsx("p",{className:`text-sm text-gray-500 ${e||""}`,...o,children:i}),je=({children:i,className:e,...o})=>d.jsx("div",{className:`p-6 pt-0 ${e||""}`,...o,children:i});/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M0=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,l)=>l?l.toUpperCase():o.toLowerCase()),ap=i=>{const e=M0(i);return e.charAt(0).toUpperCase()+e.slice(1)},qh=(...i)=>i.filter((e,o,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===o).join(" ").trim(),_0=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=oe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:p,iconNode:g,...v},x)=>oe.createElement("svg",{ref:x,...b0,width:e,height:e,stroke:i,strokeWidth:l?Number(o)*24/Number(e):o,className:qh("lucide",c),...!p&&!_0(v)&&{"aria-hidden":"true"},...v},[...g.map(([h,T])=>oe.createElement(h,T)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(i,e)=>{const o=oe.forwardRef(({className:l,...c},p)=>oe.createElement(w0,{ref:p,iconNode:e,className:qh(`lucide-${N0(ap(i))}`,`lucide-${i}`,l),...c}));return o.displayName=ap(i),o};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nc=Re("activity",R0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rp=Re("chart-column",D0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ic=Re("chevron-down",I0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oc=Re("chevron-up",P0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],up=Re("circle-check-big",k0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L0=Re("circle-question-mark",U0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dc=Re("circle-x",V0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cp=Re("download",q0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],B0=Re("eye-off",G0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ua=Re("eye",z0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],O0=Re("file-down",H0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],La=Re("file-text",F0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],fp=Re("gauge",$0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sc=Re("globe",Y0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],lc=Re("hard-drive",J0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dp=Re("history",K0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ac=Re("info",j0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Q0=Re("key",X0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Vi=Re("lightbulb",Z0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],Va=Re("list-tree",W0);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],li=Re("loader-circle",ev);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v2",key:"stiyo7"}],["path",{d:"M12 13h.01",key:"y0uutt"}]],nv=Re("message-square-warning",tv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],mp=Re("network",iv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pp=Re("plus",ov);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M4.9 16.1C1 12.2 1 5.8 4.9 1.9",key:"s0qx1y"}],["path",{d:"M7.8 4.7a6.14 6.14 0 0 0-.8 7.5",key:"1idnkw"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}],["path",{d:"M16.2 4.8c2 2 2.26 5.11.8 7.47",key:"ojru2q"}],["path",{d:"M19.1 1.9a9.96 9.96 0 0 1 0 14.1",key:"rhi7fg"}],["path",{d:"M9.5 18h5",key:"mfy3pd"}],["path",{d:"m8 22 4-11 4 11",key:"25yftu"}]],hp=Re("radio-tower",sv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rc=Re("save",lv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gl=Re("search",av);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],uv=Re("server",rv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fv=Re("settings",cv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],uc=Re("shield-alert",dv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qa=Re("shield-check",mv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],is=Re("shield",pv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fo=Re("sparkles",hv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yv=Re("square-pen",gv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],cc=Re("table-properties",vv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],gp=Re("trash-2",xv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],yp=Re("trash",Tv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sv=Re("trending-up",Cv);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cn=Re("triangle-alert",Av);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vp=Re("upload",Ev),Ga=({children:i,className:e,variant:o="default",...l})=>{const c="relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4",p={default:"bg-background text-foreground",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 bg-red-50"},g="border-yellow-500/50 text-yellow-700 dark:border-yellow-500 [&>svg]:text-yellow-500 bg-yellow-50";let v,x=`${c} ${p[o]}`;return e!=null&&e.includes("bg-yellow-50")||e!=null&&e.includes("border-yellow-200")?(v=Cn,x=`${c} ${g}`):o==="destructive"||e!=null&&e.includes("bg-red-50")||e!=null&&e.includes("border-red-200")?(v=dc,x=`${c} ${p.destructive}`):v=Cn,d.jsxs("div",{role:"alert",className:`${x} ${e||""}`,...l,children:[v&&d.jsx(v,{className:"h-4 w-4"}),i]})},Ba=({children:i,className:e,...o})=>d.jsx("h5",{className:`mb-1 font-medium leading-none tracking-tight ${e||""}`,...o,children:i}),za=({children:i,className:e,...o})=>d.jsx("div",{className:`text-sm [&_p]:leading-relaxed ${e||""}`,...o,children:i}),qi=({children:i,className:e,variant:o="default",...l})=>{const c="inline-flex items-center border rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",p={default:"bg-blue-600 text-white border-transparent hover:bg-blue-600/80",secondary:"bg-slate-200 text-slate-900 border-transparent hover:bg-slate-200/80",destructive:"bg-red-500 text-white border-transparent hover:bg-red-500/80",outline:"text-foreground"};return d.jsx("span",{className:`${c} ${p[o]} ${e||""}`,...l,children:i})},os=({className:i,variant:e="default",...o})=>{const l="flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",c={default:"border-input bg-background",error:"border-red-500 bg-red-50 focus-visible:ring-red-500"};return d.jsx("input",{className:`${l} ${c[e]} ${i||""}`,...o})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nv,Mv;function _v(){return{geminiUrl:Nv,vertexUrl:Mv}}function bv(i,e,o){var l,c,p;if(!(!((l=i.httpOptions)===null||l===void 0)&&l.baseUrl)){const g=_v();return i.vertexai?(c=g.vertexUrl)!==null&&c!==void 0?c:e:(p=g.geminiUrl)!==null&&p!==void 0?p:o}return i.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class po{}function re(i,e){const o=/\{([^}]+)\}/g;return i.replace(o,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const p=e[c];return p!=null?String(p):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(i,e,o){for(let p=0;p<e.length-1;p++){const g=e[p];if(g.endsWith("[]")){const v=g.slice(0,-2);if(!(v in i))if(Array.isArray(o))i[v]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${g}`);if(Array.isArray(i[v])){const x=i[v];if(Array.isArray(o))for(let h=0;h<x.length;h++){const T=x[h];r(T,e.slice(p+1),o[h])}else for(const h of x)r(h,e.slice(p+1),o)}return}else if(g.endsWith("[0]")){const v=g.slice(0,-3);v in i||(i[v]=[{}]);const x=i[v];r(x[0],e.slice(p+1),o);return}(!i[g]||typeof i[g]!="object")&&(i[g]={}),i=i[g]}const l=e[e.length-1],c=i[l];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else i[l]=o}function a(i,e){try{if(e.length===1&&e[0]==="_self")return i;for(let o=0;o<e.length;o++){if(typeof i!="object"||i===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in i){const p=i[c];return Array.isArray(p)?p.map(g=>a(g,e.slice(o+1))):void 0}else return}else i=i[l]}return i}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xp||(xp={}));var Tp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Tp||(Tp={}));var Gi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Gi||(Gi={}));var Cp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Cp||(Cp={}));var Sp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Sp||(Sp={}));var Ap;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Ap||(Ap={}));var Ep;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ep||(Ep={}));var Np;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Np||(Np={}));var Mp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mp||(Mp={}));var _p;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_p||(_p={}));var bp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(bp||(bp={}));var wp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(wp||(wp={}));var Rp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Rp||(Rp={}));var Dp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dp||(Dp={}));var Ip;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY"})(Ip||(Ip={}));var Pp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pp||(Pp={}));var Ka;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ka||(Ka={}));var kp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kp||(kp={}));var mc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mc||(mc={}));var Up;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Up||(Up={}));var Lp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Lp||(Lp={}));var Vp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Vp||(Vp={}));var qp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(qp||(qp={}));var Gp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(Gp||(Gp={}));var Bp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Bp||(Bp={}));var zp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(zp||(zp={}));var Hp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Hp||(Hp={}));var Op;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Op||(Op={}));var Fp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fp||(Fp={}));var $p;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($p||($p={}));var Yp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yp||(Yp={}));var Jp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Jp||(Jp={}));var Kp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Kp||(Kp={}));var jp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(jp||(jp={}));var Xp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Xp||(Xp={}));var Qp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qp||(Qp={}));var Zp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zp||(Zp={}));var Wp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Wp||(Wp={}));var eh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(eh||(eh={}));var th;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(th||(th={}));var nh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(nh||(nh={}));var ls;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(ls||(ls={}));class pc{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class yl{get text(){var e,o,l,c,p,g,v,x;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",T=!1;const A=[];for(const M of(x=(v=(g=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)!==null&&x!==void 0?x:[]){for(const[V,$]of Object.entries(M))V!=="text"&&V!=="thought"&&($!==null||$!==void 0)&&A.push(V);if(typeof M.text=="string"){if(typeof M.thought=="boolean"&&M.thought)continue;T=!0,h+=M.text}}return A.length>0&&console.warn(`there are non-text parts ${A} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?h:void 0}get data(){var e,o,l,c,p,g,v,x;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const T=[];for(const A of(x=(v=(g=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)!==null&&x!==void 0?x:[]){for(const[M,V]of Object.entries(A))M!=="inlineData"&&(V!==null||V!==void 0)&&T.push(M);A.inlineData&&typeof A.inlineData.data=="string"&&(h+=atob(A.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,l,c,p,g,v,x;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(x=(v=(g=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)===null||x===void 0?void 0:x.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,o,l,c,p,g,v,x,h;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(x=(v=(g=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)===null||x===void 0?void 0:x.filter(A=>A.executableCode).map(A=>A.executableCode).filter(A=>A!==void 0);if((T==null?void 0:T.length)!==0)return(h=T==null?void 0:T[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,l,c,p,g,v,x,h;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(x=(v=(g=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)===null||x===void 0?void 0:x.filter(A=>A.codeExecutionResult).map(A=>A.codeExecutionResult).filter(A=>A!==void 0);if((T==null?void 0:T.length)!==0)return(h=T==null?void 0:T[0])===null||h===void 0?void 0:h.output}}class ih{}class oh{}class wv{}class Rv{}class sh{}class lh{}class ah{}class Dv{}class rh{}class uh{}class ch{}class Iv{}class Pv{}class kv{}class fh{}class Uv{get text(){var e,o,l;let c="",p=!1;const g=[];for(const v of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[x,h]of Object.entries(v))x!=="text"&&x!=="thought"&&h!==null&&g.push(x);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;p=!0,c+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?c:void 0}get data(){var e,o,l;let c="";const p=[];for(const g of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,x]of Object.entries(g))v!=="inlineData"&&x!==null&&p.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(c+=atob(g.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class Lv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xe(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Gh(i,e){const o=Xe(i,e);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Bh(i){return Array.isArray(i)?i.map(e=>ja(e)):[ja(i)]}function ja(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function zh(i){const e=ja(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Hh(i){const e=ja(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Oh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>dh(e)):[dh(i)]}function hc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function mh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function ph(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function $t(i){if(i==null)throw new Error("ContentUnion is required");return hc(i)?i:{role:"user",parts:Oh(i)}}function Fh(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=$t(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(i.isVertexAI()){const o=$t(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>$t(o)):[$t(e)]}function Sn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(mh(i)||ph(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$t(i)]}const e=[],o=[],l=hc(i[0]);for(const c of i){const p=hc(c);if(p!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)e.push(c);else{if(mh(c)||ph(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return l||e.push({role:"user",parts:Oh(o)}),e}function Vv(i,e){i.includes("null")&&(e.nullable=!0);const o=i.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(Gi).includes(o[0].toUpperCase())?o[0].toUpperCase():Gi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(Gi).includes(l.toUpperCase())?l.toUpperCase():Gi.TYPE_UNSPECIFIED})}}function as(i){const e={},o=["items"],l=["anyOf"],c=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const p=i.anyOf;p!=null&&p.length==2&&(p[0].type==="null"?(e.nullable=!0,i=p[1]):p[1].type==="null"&&(e.nullable=!0,i=p[0])),i.type instanceof Array&&Vv(i.type,e);for(const[g,v]of Object.entries(i))if(v!=null)if(g=="type"){if(v==="null")throw new Error("type: null can not be the only possible type for the field.");if(v instanceof Array)continue;e.type=Object.values(Gi).includes(v.toUpperCase())?v.toUpperCase():Gi.TYPE_UNSPECIFIED}else if(o.includes(g))e[g]=as(v);else if(l.includes(g)){const x=[];for(const h of v){if(h.type=="null"){e.nullable=!0;continue}x.push(as(h))}e[g]=x}else if(c.includes(g)){const x={};for(const[h,T]of Object.entries(v))x[h]=as(T);e[g]=x}else{if(g==="additionalProperties")continue;e[g]=v}return e}function Nc(i){return as(i)}function Mc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function _c(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function us(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=as(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=as(e.response));return i}function cs(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of i)e.push(o);return e}function qv(i,e,o,l=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===l;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:c?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function ai(i,e){if(typeof e!="string")throw new Error("name must be a string");return qv(i,e,"cachedContents")}function $h(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ri(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function Gv(i){return i!=null&&typeof i=="object"&&"name"in i}function Bv(i){return i!=null&&typeof i=="object"&&"video"in i}function zv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Yh(i){var e;let o;if(Gv(i)&&(o=i.name),!(zv(i)&&(o=i.uri,o===void 0))&&!(Bv(i)&&(o=(e=i.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Jh(i,e){let o;return i.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Kh(i){for(const e of["models","tunedModels","publisherModels"])if(Hv(i,e))return i[e];return[]}function Hv(i,e){return i!==null&&typeof i=="object"&&e in i}function Ov(i,e={}){const o=i,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function Fv(i,e={}){const o=[],l=new Set;for(const c of i){const p=c.name;if(l.has(p))throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);l.add(p);const g=Ov(c,e);g.functionDeclarations&&o.push(...g.functionDeclarations)}return{functionDeclarations:o}}function jh(i,e){if(typeof e!="string"&&!Array.isArray(e)){if(i&&i.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function $v(i){const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fs(i,e){const o=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Xh(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yv(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Jv(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Kv(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function jv(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Yv(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],Jv(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],Kv(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function Qh(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>jv(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function Xv(i){const e={},o=a(i,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(i,["default"]);l!=null&&r(e,["default"],l);const c=a(i,["description"]);c!=null&&r(e,["description"],c);const p=a(i,["enum"]);p!=null&&r(e,["enum"],p);const g=a(i,["example"]);g!=null&&r(e,["example"],g);const v=a(i,["format"]);v!=null&&r(e,["format"],v);const x=a(i,["items"]);x!=null&&r(e,["items"],x);const h=a(i,["maxItems"]);h!=null&&r(e,["maxItems"],h);const T=a(i,["maxLength"]);T!=null&&r(e,["maxLength"],T);const A=a(i,["maxProperties"]);A!=null&&r(e,["maxProperties"],A);const M=a(i,["maximum"]);M!=null&&r(e,["maximum"],M);const V=a(i,["minItems"]);V!=null&&r(e,["minItems"],V);const $=a(i,["minLength"]);$!=null&&r(e,["minLength"],$);const j=a(i,["minProperties"]);j!=null&&r(e,["minProperties"],j);const Q=a(i,["minimum"]);Q!=null&&r(e,["minimum"],Q);const ae=a(i,["nullable"]);ae!=null&&r(e,["nullable"],ae);const se=a(i,["pattern"]);se!=null&&r(e,["pattern"],se);const ie=a(i,["properties"]);ie!=null&&r(e,["properties"],ie);const ce=a(i,["propertyOrdering"]);ce!=null&&r(e,["propertyOrdering"],ce);const Z=a(i,["required"]);Z!=null&&r(e,["required"],Z);const Ne=a(i,["title"]);Ne!=null&&r(e,["title"],Ne);const Te=a(i,["type"]);return Te!=null&&r(e,["type"],Te),e}function Qv(i){const e={};if(a(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(i,["category"]);o!=null&&r(e,["category"],o);const l=a(i,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function Zv(i){const e={},o=a(i,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(i,["description"]);l!=null&&r(e,["description"],l);const c=a(i,["name"]);c!=null&&r(e,["name"],c);const p=a(i,["parameters"]);p!=null&&r(e,["parameters"],p);const g=a(i,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=a(i,["response"]);v!=null&&r(e,["response"],v);const x=a(i,["responseJsonSchema"]);return x!=null&&r(e,["responseJsonSchema"],x),e}function Wv(i){const e={},o=a(i,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(i,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function ex(i){const e={},o=a(i,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],Wv(o)),e}function tx(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function nx(i){const e={},o=a(i,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],tx(o)),e}function ix(){return{}}function ox(i){const e={},o=a(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(h=>Zv(h))),r(e,["functionDeclarations"],x)}if(a(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(i,["googleSearch"]);l!=null&&r(e,["googleSearch"],ex(l));const c=a(i,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],nx(c)),a(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(i,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(i,["urlContext"])!=null&&r(e,["urlContext"],ix());const g=a(i,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=a(i,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function sx(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function lx(i){const e={},o=a(i,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(i,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function ax(i){const e={},o=a(i,["latLng"]);o!=null&&r(e,["latLng"],lx(o));const l=a(i,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function rx(i){const e={},o=a(i,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],sx(o));const l=a(i,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],ax(l)),e}function ux(i){const e={},o=a(i,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Zh(i){const e={},o=a(i,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],ux(o)),e}function cx(i){const e={},o=a(i,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(i,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Zh(l)),e}function fx(i){const e={},o=a(i,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>cx(c))),r(e,["speakerVoiceConfigs"],l)}return e}function dx(i){const e={},o=a(i,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Zh(o));const l=a(i,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],fx(l));const c=a(i,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function mx(i){const e={},o=a(i,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(i,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function px(i,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Qh($t(c)));const p=a(e,["temperature"]);p!=null&&r(l,["temperature"],p);const g=a(e,["topP"]);g!=null&&r(l,["topP"],g);const v=a(e,["topK"]);v!=null&&r(l,["topK"],v);const x=a(e,["candidateCount"]);x!=null&&r(l,["candidateCount"],x);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const T=a(e,["stopSequences"]);T!=null&&r(l,["stopSequences"],T);const A=a(e,["responseLogprobs"]);A!=null&&r(l,["responseLogprobs"],A);const M=a(e,["logprobs"]);M!=null&&r(l,["logprobs"],M);const V=a(e,["presencePenalty"]);V!=null&&r(l,["presencePenalty"],V);const $=a(e,["frequencyPenalty"]);$!=null&&r(l,["frequencyPenalty"],$);const j=a(e,["seed"]);j!=null&&r(l,["seed"],j);const Q=a(e,["responseMimeType"]);Q!=null&&r(l,["responseMimeType"],Q);const ae=a(e,["responseSchema"]);ae!=null&&r(l,["responseSchema"],Xv(Nc(ae)));const se=a(e,["responseJsonSchema"]);if(se!=null&&r(l,["responseJsonSchema"],se),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ie=a(e,["safetySettings"]);if(o!==void 0&&ie!=null){let Me=ie;Array.isArray(Me)&&(Me=Me.map(Ce=>Qv(Ce))),r(o,["safetySettings"],Me)}const ce=a(e,["tools"]);if(o!==void 0&&ce!=null){let Me=cs(ce);Array.isArray(Me)&&(Me=Me.map(Ce=>ox(us(Ce)))),r(o,["tools"],Me)}const Z=a(e,["toolConfig"]);if(o!==void 0&&Z!=null&&r(o,["toolConfig"],rx(Z)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Ne=a(e,["cachedContent"]);o!==void 0&&Ne!=null&&r(o,["cachedContent"],ai(i,Ne));const Te=a(e,["responseModalities"]);Te!=null&&r(l,["responseModalities"],Te);const ze=a(e,["mediaResolution"]);ze!=null&&r(l,["mediaResolution"],ze);const de=a(e,["speechConfig"]);if(de!=null&&r(l,["speechConfig"],dx(Mc(de))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ve=a(e,["thinkingConfig"]);return Ve!=null&&r(l,["thinkingConfig"],mx(Ve)),l}function hx(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["request","model"],Xe(i,l));const c=a(e,["contents"]);if(c!=null){let g=Sn(c);Array.isArray(g)&&(g=g.map(v=>Qh(v))),r(o,["request","contents"],g)}const p=a(e,["config"]);return p!=null&&r(o,["request","generationConfig"],px(i,p,o)),o}function gx(i,e){const o={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=a(e,["fileName"]);l!=null&&r(o,["fileName"],l);const c=a(e,["inlinedRequests"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>hx(i,g))),r(o,["requests","requests"],p)}return o}function yx(i,e){const o={},l=a(i,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),a(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function vx(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["src"]);c!=null&&r(o,["batch","inputConfig"],gx(i,jh(i,c)));const p=a(e,["config"]);return p!=null&&r(o,["config"],yx(p,o)),o}function xx(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],fs(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function Tx(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],fs(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function Cx(i,e){const o={},l=a(i,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(i,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),a(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Sx(i){const e={},o=a(i,["config"]);return o!=null&&r(e,["config"],Cx(o,e)),e}function Ax(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],fs(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function Ex(i){const e={},o=a(i,["format"]);o!=null&&r(e,["instancesFormat"],o);const l=a(i,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const c=a(i,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),a(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Nx(i){const e={},o=a(i,["format"]);o!=null&&r(e,["predictionsFormat"],o);const l=a(i,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const c=a(i,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),a(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Mx(i,e){const o={},l=a(i,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(i,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],Nx($v(c))),o}function _x(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Xe(i,l));const c=a(e,["src"]);c!=null&&r(o,["inputConfig"],Ex(jh(i,c)));const p=a(e,["config"]);return p!=null&&r(o,["config"],Mx(p,o)),o}function bx(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],fs(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function wx(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],fs(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function Rx(i,e){const o={},l=a(i,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(i,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const p=a(i,["filter"]);return e!==void 0&&p!=null&&r(e,["_query","filter"],p),o}function Dx(i){const e={},o=a(i,["config"]);return o!=null&&r(e,["config"],Rx(o,e)),e}function Ix(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],fs(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function Wh(){return{}}function Px(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function kx(i){const e={},o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Ux(i){const e={},o=a(i,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Lx(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Px(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],kx(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],Ux(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function Vx(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>Lx(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function qx(i){const e={},o=a(i,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function Gx(i){const e={},o=a(i,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(i,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function Bx(i){const e={},o=a(i,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Gx(c))),r(e,["urlMetadata"],l)}return e}function zx(i){const e={},o=a(i,["content"]);o!=null&&r(e,["content"],Vx(o));const l=a(i,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],qx(l));const c=a(i,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const p=a(i,["finishReason"]);p!=null&&r(e,["finishReason"],p);const g=a(i,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],Bx(g));const v=a(i,["avgLogprobs"]);v!=null&&r(e,["avgLogprobs"],v);const x=a(i,["groundingMetadata"]);x!=null&&r(e,["groundingMetadata"],x);const h=a(i,["index"]);h!=null&&r(e,["index"],h);const T=a(i,["logprobsResult"]);T!=null&&r(e,["logprobsResult"],T);const A=a(i,["safetyRatings"]);return A!=null&&r(e,["safetyRatings"],A),e}function Hx(i){const e={},o=a(i,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>zx(v))),r(e,["candidates"],g)}const l=a(i,["modelVersion"]);l!=null&&r(e,["modelVersion"],l);const c=a(i,["promptFeedback"]);c!=null&&r(e,["promptFeedback"],c);const p=a(i,["usageMetadata"]);return p!=null&&r(e,["usageMetadata"],p),e}function Ox(i){const e={},o=a(i,["response"]);return o!=null&&r(e,["response"],Hx(o)),a(i,["error"])!=null&&r(e,["error"],Wh()),e}function Fx(i){const e={},o=a(i,["responsesFile"]);o!=null&&r(e,["fileName"],o);const l=a(i,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>Ox(p))),r(e,["inlinedResponses"],c)}return e}function gc(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const c=a(i,["metadata","state"]);c!=null&&r(e,["state"],Xh(c));const p=a(i,["metadata","createTime"]);p!=null&&r(e,["createTime"],p);const g=a(i,["metadata","endTime"]);g!=null&&r(e,["endTime"],g);const v=a(i,["metadata","updateTime"]);v!=null&&r(e,["updateTime"],v);const x=a(i,["metadata","model"]);x!=null&&r(e,["model"],x);const h=a(i,["metadata","output"]);return h!=null&&r(e,["dest"],Fx(h)),e}function $x(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["operations"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>gc(p))),r(e,["batchJobs"],c)}return e}function Yx(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["done"]);return l!=null&&r(e,["done"],l),a(i,["error"])!=null&&r(e,["error"],Wh()),e}function eg(i){const e={},o=a(i,["details"]);o!=null&&r(e,["details"],o);const l=a(i,["code"]);l!=null&&r(e,["code"],l);const c=a(i,["message"]);return c!=null&&r(e,["message"],c),e}function Jx(i){const e={},o=a(i,["instancesFormat"]);o!=null&&r(e,["format"],o);const l=a(i,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const c=a(i,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function Kx(i){const e={},o=a(i,["predictionsFormat"]);o!=null&&r(e,["format"],o);const l=a(i,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const c=a(i,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function yc(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(i,["state"]);c!=null&&r(e,["state"],Xh(c));const p=a(i,["error"]);p!=null&&r(e,["error"],eg(p));const g=a(i,["createTime"]);g!=null&&r(e,["createTime"],g);const v=a(i,["startTime"]);v!=null&&r(e,["startTime"],v);const x=a(i,["endTime"]);x!=null&&r(e,["endTime"],x);const h=a(i,["updateTime"]);h!=null&&r(e,["updateTime"],h);const T=a(i,["model"]);T!=null&&r(e,["model"],T);const A=a(i,["inputConfig"]);A!=null&&r(e,["src"],Jx(A));const M=a(i,["outputConfig"]);return M!=null&&r(e,["dest"],Kx(M)),e}function jx(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["batchPredictionJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>yc(p))),r(e,["batchJobs"],c)}return e}function Xx(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["done"]);l!=null&&r(e,["done"],l);const c=a(i,["error"]);return c!=null&&r(e,["error"],eg(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mo;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(mo||(mo={}));class xl{constructor(e,o,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,c)}init(e,o,l){var c,p;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.idxInternal=0;let g={config:{}};l?typeof l=="object"?g=Object.assign({},l):g=l:g={config:{}},g.config&&(g.config.pageToken=o.nextPageToken),this.paramsInternal=g,this.pageInternalSize=(p=(c=g.config)===null||c===void 0?void 0:c.pageSize)!==null&&p!==void 0?p:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx extends po{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${c}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new xl(mo.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}async createInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=_x(this.apiClient,e);return v=re("batchPredictionJobs",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>yc(T))}else{const h=vx(this.apiClient,e);return v=re("{model}:batchGenerateContent",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>gc(T))}}async get(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=bx(this.apiClient,e);return v=re("batchPredictionJobs/{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>yc(T))}else{const h=xx(this.apiClient,e);return v=re("batches/{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>gc(T))}}async cancel(e){var o,l,c,p;let g="",v={};if(this.apiClient.isVertexAI()){const x=wx(this.apiClient,e);g=re("batchPredictionJobs/{name}:cancel",x._url),v=x._query,delete x.config,delete x._url,delete x._query,await this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const x=Tx(this.apiClient,e);g=re("batches/{name}:cancel",x._url),v=x._query,delete x.config,delete x._url,delete x._query,await this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal})}}async listInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=Dx(e);return v=re("batchPredictionJobs",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>{const A=jx(T),M=new fh;return Object.assign(M,A),M})}else{const h=Sx(e);return v=re("batches",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>{const A=$x(T),M=new fh;return Object.assign(M,A),M})}}async delete(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=Ix(this.apiClient,e);return v=re("batchPredictionJobs/{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>Xx(T))}else{const h=Ax(this.apiClient,e);return v=re("batches/{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>Yx(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zx(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Wx(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function e1(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function t1(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Zx(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],Wx(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],e1(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function hh(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>t1(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function n1(i){const e={},o=a(i,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(i,["description"]);l!=null&&r(e,["description"],l);const c=a(i,["name"]);c!=null&&r(e,["name"],c);const p=a(i,["parameters"]);p!=null&&r(e,["parameters"],p);const g=a(i,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=a(i,["response"]);v!=null&&r(e,["response"],v);const x=a(i,["responseJsonSchema"]);return x!=null&&r(e,["responseJsonSchema"],x),e}function i1(i){const e={},o=a(i,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(i,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function o1(i){const e={},o=a(i,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],i1(o)),e}function s1(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function l1(i){const e={},o=a(i,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],s1(o)),e}function a1(){return{}}function r1(i){const e={},o=a(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(h=>n1(h))),r(e,["functionDeclarations"],x)}if(a(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(i,["googleSearch"]);l!=null&&r(e,["googleSearch"],o1(l));const c=a(i,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],l1(c)),a(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(i,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(i,["urlContext"])!=null&&r(e,["urlContext"],a1());const g=a(i,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=a(i,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function u1(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function c1(i){const e={},o=a(i,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(i,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function f1(i){const e={},o=a(i,["latLng"]);o!=null&&r(e,["latLng"],c1(o));const l=a(i,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function d1(i){const e={},o=a(i,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],u1(o));const l=a(i,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],f1(l)),e}function m1(i,e){const o={},l=a(i,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(i,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const p=a(i,["displayName"]);e!==void 0&&p!=null&&r(e,["displayName"],p);const g=a(i,["contents"]);if(e!==void 0&&g!=null){let T=Sn(g);Array.isArray(T)&&(T=T.map(A=>hh(A))),r(e,["contents"],T)}const v=a(i,["systemInstruction"]);e!==void 0&&v!=null&&r(e,["systemInstruction"],hh($t(v)));const x=a(i,["tools"]);if(e!==void 0&&x!=null){let T=x;Array.isArray(T)&&(T=T.map(A=>r1(A))),r(e,["tools"],T)}const h=a(i,["toolConfig"]);if(e!==void 0&&h!=null&&r(e,["toolConfig"],d1(h)),a(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function p1(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Gh(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],m1(c,o)),o}function h1(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],ai(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function g1(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],ai(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function y1(i,e){const o={},l=a(i,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(i,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function v1(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],ai(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],y1(c,o)),o}function x1(i,e){const o={},l=a(i,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(i,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function T1(i){const e={},o=a(i,["config"]);return o!=null&&r(e,["config"],x1(o,e)),e}function C1(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function S1(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["data"]);l!=null&&r(e,["data"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function A1(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function E1(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],C1(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],S1(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],A1(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function gh(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>E1(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function N1(i){const e={};if(a(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(i,["description"]);o!=null&&r(e,["description"],o);const l=a(i,["name"]);l!=null&&r(e,["name"],l);const c=a(i,["parameters"]);c!=null&&r(e,["parameters"],c);const p=a(i,["parametersJsonSchema"]);p!=null&&r(e,["parametersJsonSchema"],p);const g=a(i,["response"]);g!=null&&r(e,["response"],g);const v=a(i,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function M1(i){const e={},o=a(i,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(i,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function _1(i){const e={},o=a(i,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],M1(o)),e}function b1(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function w1(i){const e={},o=a(i,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],b1(o)),e}function R1(){return{}}function D1(i){const e={},o=a(i,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function I1(i){const e={},o=a(i,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],D1(o));const l=a(i,["authType"]);l!=null&&r(e,["authType"],l);const c=a(i,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const p=a(i,["httpBasicAuthConfig"]);p!=null&&r(e,["httpBasicAuthConfig"],p);const g=a(i,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const v=a(i,["oidcConfig"]);return v!=null&&r(e,["oidcConfig"],v),e}function P1(i){const e={},o=a(i,["authConfig"]);return o!=null&&r(e,["authConfig"],I1(o)),e}function k1(){return{}}function U1(i){const e={},o=a(i,["functionDeclarations"]);if(o!=null){let A=o;Array.isArray(A)&&(A=A.map(M=>N1(M))),r(e,["functionDeclarations"],A)}const l=a(i,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(i,["googleSearch"]);c!=null&&r(e,["googleSearch"],_1(c));const p=a(i,["googleSearchRetrieval"]);p!=null&&r(e,["googleSearchRetrieval"],w1(p)),a(i,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],R1());const v=a(i,["googleMaps"]);v!=null&&r(e,["googleMaps"],P1(v)),a(i,["urlContext"])!=null&&r(e,["urlContext"],k1());const h=a(i,["codeExecution"]);h!=null&&r(e,["codeExecution"],h);const T=a(i,["computerUse"]);return T!=null&&r(e,["computerUse"],T),e}function L1(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function V1(i){const e={},o=a(i,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(i,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function q1(i){const e={},o=a(i,["latLng"]);o!=null&&r(e,["latLng"],V1(o));const l=a(i,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function G1(i){const e={},o=a(i,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],L1(o));const l=a(i,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],q1(l)),e}function B1(i,e){const o={},l=a(i,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(i,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const p=a(i,["displayName"]);e!==void 0&&p!=null&&r(e,["displayName"],p);const g=a(i,["contents"]);if(e!==void 0&&g!=null){let A=Sn(g);Array.isArray(A)&&(A=A.map(M=>gh(M))),r(e,["contents"],A)}const v=a(i,["systemInstruction"]);e!==void 0&&v!=null&&r(e,["systemInstruction"],gh($t(v)));const x=a(i,["tools"]);if(e!==void 0&&x!=null){let A=x;Array.isArray(A)&&(A=A.map(M=>U1(M))),r(e,["tools"],A)}const h=a(i,["toolConfig"]);e!==void 0&&h!=null&&r(e,["toolConfig"],G1(h));const T=a(i,["kmsKeyName"]);return e!==void 0&&T!=null&&r(e,["encryption_spec","kmsKeyName"],T),o}function z1(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Gh(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],B1(c,o)),o}function H1(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],ai(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function O1(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],ai(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function F1(i,e){const o={},l=a(i,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(i,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function $1(i,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],ai(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],F1(c,o)),o}function Y1(i,e){const o={},l=a(i,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(i,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function J1(i){const e={},o=a(i,["config"]);return o!=null&&r(e,["config"],Y1(o,e)),e}function Fa(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(i,["model"]);c!=null&&r(e,["model"],c);const p=a(i,["createTime"]);p!=null&&r(e,["createTime"],p);const g=a(i,["updateTime"]);g!=null&&r(e,["updateTime"],g);const v=a(i,["expireTime"]);v!=null&&r(e,["expireTime"],v);const x=a(i,["usageMetadata"]);return x!=null&&r(e,["usageMetadata"],x),e}function K1(){return{}}function j1(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>Fa(p))),r(e,["cachedContents"],c)}return e}function $a(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(i,["model"]);c!=null&&r(e,["model"],c);const p=a(i,["createTime"]);p!=null&&r(e,["createTime"],p);const g=a(i,["updateTime"]);g!=null&&r(e,["updateTime"],g);const v=a(i,["expireTime"]);v!=null&&r(e,["expireTime"],v);const x=a(i,["usageMetadata"]);return x!=null&&r(e,["usageMetadata"],x),e}function X1(){return{}}function Q1(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>$a(p))),r(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z1 extends po{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new xl(mo.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=z1(this.apiClient,e);return v=re("cachedContents",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>$a(T))}else{const h=p1(this.apiClient,e);return v=re("cachedContents",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>Fa(T))}}async get(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=H1(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>$a(T))}else{const h=h1(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>Fa(T))}}async delete(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=O1(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(()=>{const T=X1(),A=new uh;return Object.assign(A,T),A})}else{const h=g1(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(()=>{const T=K1(),A=new uh;return Object.assign(A,T),A})}}async update(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=$1(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>$a(T))}else{const h=v1(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>Fa(T))}}async listInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=J1(e);return v=re("cachedContents",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>{const A=Q1(T),M=new ch;return Object.assign(M,A),M})}else{const h=T1(e);return v=re("cachedContents",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>{const A=j1(T),M=new ch;return Object.assign(M,A),M})}}}function yh(i){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&i[e],l=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function st(i){return this instanceof st?(this.v=i,this):new st(i)}function rs(i,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(i,e||[]),c,p=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(V){return function($){return Promise.resolve($).then(V,A)}}function v(V,$){l[V]&&(c[V]=function(j){return new Promise(function(Q,ae){p.push([V,j,Q,ae])>1||x(V,j)})},$&&(c[V]=$(c[V])))}function x(V,$){try{h(l[V]($))}catch(j){M(p[0][3],j)}}function h(V){V.value instanceof st?Promise.resolve(V.value.v).then(T,A):M(p[0][2],V)}function T(V){x("next",V)}function A(V){x("throw",V)}function M(V,$){V($),p.shift(),p.length&&x(p[0][0],p[0][1])}}function vl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],o;return e?e.call(i):(i=typeof yh=="function"?yh(i):i[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(p){o[p]=i[p]&&function(g){return new Promise(function(v,x){g=i[p](g),c(v,x,g.done,g.value)})}}function c(p,g,v,x){Promise.resolve(x).then(function(h){p({value:h,done:v})},g)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W1(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const o=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:tg(o)}function tg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function eT(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vh(i){if(i===void 0||i.length===0)return[];const e=[],o=i.length;let l=0;for(;l<o;)if(i[l].role==="user")e.push(i[l]),l++;else{const c=[];let p=!0;for(;l<o&&i[l].role==="model";)c.push(i[l]),p&&!tg(i[l])&&(p=!1),l++;p?e.push(...c):e.pop()}return e}class tT{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new nT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class nT{constructor(e,o,l,c={},p=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=c,this.history=p,this.sendPromise=Promise.resolve(),eT(p)}async sendMessage(e){var o;await this.sendPromise;const l=$t(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var p,g,v;const x=await c,h=(g=(p=x.candidates)===null||p===void 0?void 0:p[0])===null||g===void 0?void 0:g.content,T=x.automaticFunctionCallingHistory,A=this.getHistory(!0).length;let M=[];T!=null&&(M=(v=T.slice(A))!==null&&v!==void 0?v:[]);const V=h?[h]:[];this.recordHistory(l,V,M)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const l=$t(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const p=await c;return this.processStreamResponse(p,l)}getHistory(e=!1){const o=e?vh(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,c;return rs(this,arguments,function*(){var g,v,x,h;const T=[];try{for(var A=!0,M=vl(e),V;V=yield st(M.next()),g=V.done,!g;A=!0){h=V.value,A=!1;const $=h;if(W1($)){const j=(c=(l=$.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;j!==void 0&&T.push(j)}yield yield st($)}}catch($){v={error:$}}finally{try{!A&&!g&&(x=M.return)&&(yield st(x.call(M)))}finally{if(v)throw v.error}}this.recordHistory(o,T)})}recordHistory(e,o,l){let c=[];o.length>0&&o.every(p=>p.role!==void 0)?c=o:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...vh(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iT(i,e){const o={},l=a(i,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(i,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function oT(i){const e={},o=a(i,["config"]);return o!=null&&r(e,["config"],iT(o,e)),e}function sT(i){const e={},o=a(i,["details"]);o!=null&&r(e,["details"],o);const l=a(i,["message"]);l!=null&&r(e,["message"],l);const c=a(i,["code"]);return c!=null&&r(e,["code"],c),e}function lT(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(i,["mimeType"]);c!=null&&r(e,["mimeType"],c);const p=a(i,["sizeBytes"]);p!=null&&r(e,["sizeBytes"],p);const g=a(i,["createTime"]);g!=null&&r(e,["createTime"],g);const v=a(i,["expirationTime"]);v!=null&&r(e,["expirationTime"],v);const x=a(i,["updateTime"]);x!=null&&r(e,["updateTime"],x);const h=a(i,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const T=a(i,["uri"]);T!=null&&r(e,["uri"],T);const A=a(i,["downloadUri"]);A!=null&&r(e,["downloadUri"],A);const M=a(i,["state"]);M!=null&&r(e,["state"],M);const V=a(i,["source"]);V!=null&&r(e,["source"],V);const $=a(i,["videoMetadata"]);$!=null&&r(e,["videoMetadata"],$);const j=a(i,["error"]);return j!=null&&r(e,["error"],sT(j)),e}function aT(i){const e={},o=a(i,["file"]);o!=null&&r(e,["file"],lT(o));const l=a(i,["config"]);return l!=null&&r(e,["config"],l),e}function rT(i){const e={},o=a(i,["name"]);o!=null&&r(e,["_url","file"],Yh(o));const l=a(i,["config"]);return l!=null&&r(e,["config"],l),e}function uT(i){const e={},o=a(i,["name"]);o!=null&&r(e,["_url","file"],Yh(o));const l=a(i,["config"]);return l!=null&&r(e,["config"],l),e}function cT(i){const e={},o=a(i,["details"]);o!=null&&r(e,["details"],o);const l=a(i,["message"]);l!=null&&r(e,["message"],l);const c=a(i,["code"]);return c!=null&&r(e,["code"],c),e}function vc(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(i,["mimeType"]);c!=null&&r(e,["mimeType"],c);const p=a(i,["sizeBytes"]);p!=null&&r(e,["sizeBytes"],p);const g=a(i,["createTime"]);g!=null&&r(e,["createTime"],g);const v=a(i,["expirationTime"]);v!=null&&r(e,["expirationTime"],v);const x=a(i,["updateTime"]);x!=null&&r(e,["updateTime"],x);const h=a(i,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const T=a(i,["uri"]);T!=null&&r(e,["uri"],T);const A=a(i,["downloadUri"]);A!=null&&r(e,["downloadUri"],A);const M=a(i,["state"]);M!=null&&r(e,["state"],M);const V=a(i,["source"]);V!=null&&r(e,["source"],V);const $=a(i,["videoMetadata"]);$!=null&&r(e,["videoMetadata"],$);const j=a(i,["error"]);return j!=null&&r(e,["error"],cT(j)),e}function fT(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["files"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>vc(p))),r(e,["files"],c)}return e}function dT(){return{}}function mT(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pT extends po{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new xl(mo.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>vc(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=oT(e);return p=re("files",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const h=fT(x),T=new Iv;return Object.assign(T,h),T})}}async createInternal(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=aT(e);return p=re("upload/v1beta/files",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(()=>{const x=dT(),h=new Pv;return Object.assign(h,x),h})}}async get(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=rT(e);return p=re("files/{file}",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>vc(x))}}async delete(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=uT(e);return p=re("files/{file}",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(()=>{const x=mT(),h=new kv;return Object.assign(h,x),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hT(i){const e={},o=a(i,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function gT(i){const e={},o=a(i,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function ng(i){const e={},o=a(i,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],hT(o)),e}function yT(i){const e={},o=a(i,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],gT(o)),e}function vT(i){const e={},o=a(i,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(i,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],ng(l)),e}function xT(i){const e={},o=a(i,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>vT(c))),r(e,["speakerVoiceConfigs"],l)}return e}function TT(i){const e={},o=a(i,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],ng(o));const l=a(i,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],xT(l));const c=a(i,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function CT(i){const e={},o=a(i,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],yT(o)),a(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(i,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function ST(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function AT(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ET(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function NT(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["data"]);l!=null&&r(e,["data"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function MT(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function _T(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function bT(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],ST(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],ET(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],MT(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function wT(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],AT(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],NT(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],_T(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function RT(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>bT(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function DT(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>wT(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function IT(i){const e={},o=a(i,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(i,["description"]);l!=null&&r(e,["description"],l);const c=a(i,["name"]);c!=null&&r(e,["name"],c);const p=a(i,["parameters"]);p!=null&&r(e,["parameters"],p);const g=a(i,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=a(i,["response"]);v!=null&&r(e,["response"],v);const x=a(i,["responseJsonSchema"]);return x!=null&&r(e,["responseJsonSchema"],x),e}function PT(i){const e={};if(a(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(i,["description"]);o!=null&&r(e,["description"],o);const l=a(i,["name"]);l!=null&&r(e,["name"],l);const c=a(i,["parameters"]);c!=null&&r(e,["parameters"],c);const p=a(i,["parametersJsonSchema"]);p!=null&&r(e,["parametersJsonSchema"],p);const g=a(i,["response"]);g!=null&&r(e,["response"],g);const v=a(i,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function kT(i){const e={},o=a(i,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(i,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function UT(i){const e={},o=a(i,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(i,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function LT(i){const e={},o=a(i,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],kT(o)),e}function VT(i){const e={},o=a(i,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],UT(o)),e}function qT(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function GT(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function BT(i){const e={},o=a(i,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],qT(o)),e}function zT(i){const e={},o=a(i,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],GT(o)),e}function HT(){return{}}function OT(i){const e={},o=a(i,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function FT(i){const e={},o=a(i,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],OT(o));const l=a(i,["authType"]);l!=null&&r(e,["authType"],l);const c=a(i,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const p=a(i,["httpBasicAuthConfig"]);p!=null&&r(e,["httpBasicAuthConfig"],p);const g=a(i,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const v=a(i,["oidcConfig"]);return v!=null&&r(e,["oidcConfig"],v),e}function $T(i){const e={},o=a(i,["authConfig"]);return o!=null&&r(e,["authConfig"],FT(o)),e}function YT(){return{}}function JT(){return{}}function KT(i){const e={},o=a(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(h=>IT(h))),r(e,["functionDeclarations"],x)}if(a(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(i,["googleSearch"]);l!=null&&r(e,["googleSearch"],LT(l));const c=a(i,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],BT(c)),a(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(i,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(i,["urlContext"])!=null&&r(e,["urlContext"],YT());const g=a(i,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=a(i,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function jT(i){const e={},o=a(i,["functionDeclarations"]);if(o!=null){let A=o;Array.isArray(A)&&(A=A.map(M=>PT(M))),r(e,["functionDeclarations"],A)}const l=a(i,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(i,["googleSearch"]);c!=null&&r(e,["googleSearch"],VT(c));const p=a(i,["googleSearchRetrieval"]);p!=null&&r(e,["googleSearchRetrieval"],zT(p)),a(i,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],HT());const v=a(i,["googleMaps"]);v!=null&&r(e,["googleMaps"],$T(v)),a(i,["urlContext"])!=null&&r(e,["urlContext"],JT());const h=a(i,["codeExecution"]);h!=null&&r(e,["codeExecution"],h);const T=a(i,["computerUse"]);return T!=null&&r(e,["computerUse"],T),e}function XT(i){const e={},o=a(i,["handle"]);if(o!=null&&r(e,["handle"],o),a(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QT(i){const e={},o=a(i,["handle"]);o!=null&&r(e,["handle"],o);const l=a(i,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function xh(){return{}}function Th(){return{}}function ZT(i){const e={},o=a(i,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(i,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(i,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const p=a(i,["prefixPaddingMs"]);p!=null&&r(e,["prefixPaddingMs"],p);const g=a(i,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function WT(i){const e={},o=a(i,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(i,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(i,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const p=a(i,["prefixPaddingMs"]);p!=null&&r(e,["prefixPaddingMs"],p);const g=a(i,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function eC(i){const e={},o=a(i,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],ZT(o));const l=a(i,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(i,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function tC(i){const e={},o=a(i,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],WT(o));const l=a(i,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(i,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function nC(i){const e={},o=a(i,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function iC(i){const e={},o=a(i,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function oC(i){const e={},o=a(i,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(i,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],nC(l)),e}function sC(i){const e={},o=a(i,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(i,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],iC(l)),e}function lC(i){const e={},o=a(i,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function aC(i){const e={},o=a(i,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function rC(i,e){const o={},l=a(i,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(i,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const p=a(i,["temperature"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","temperature"],p);const g=a(i,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const v=a(i,["topK"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","topK"],v);const x=a(i,["maxOutputTokens"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","maxOutputTokens"],x);const h=a(i,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const T=a(i,["seed"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","seed"],T);const A=a(i,["speechConfig"]);e!==void 0&&A!=null&&r(e,["setup","generationConfig","speechConfig"],TT(_c(A)));const M=a(i,["enableAffectiveDialog"]);e!==void 0&&M!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],M);const V=a(i,["systemInstruction"]);e!==void 0&&V!=null&&r(e,["setup","systemInstruction"],RT($t(V)));const $=a(i,["tools"]);if(e!==void 0&&$!=null){let Z=cs($);Array.isArray(Z)&&(Z=Z.map(Ne=>KT(us(Ne)))),r(e,["setup","tools"],Z)}const j=a(i,["sessionResumption"]);e!==void 0&&j!=null&&r(e,["setup","sessionResumption"],XT(j));const Q=a(i,["inputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","inputAudioTranscription"],xh());const ae=a(i,["outputAudioTranscription"]);e!==void 0&&ae!=null&&r(e,["setup","outputAudioTranscription"],xh());const se=a(i,["realtimeInputConfig"]);e!==void 0&&se!=null&&r(e,["setup","realtimeInputConfig"],eC(se));const ie=a(i,["contextWindowCompression"]);e!==void 0&&ie!=null&&r(e,["setup","contextWindowCompression"],oC(ie));const ce=a(i,["proactivity"]);return e!==void 0&&ce!=null&&r(e,["setup","proactivity"],lC(ce)),o}function uC(i,e){const o={},l=a(i,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(i,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const p=a(i,["temperature"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","temperature"],p);const g=a(i,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const v=a(i,["topK"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","topK"],v);const x=a(i,["maxOutputTokens"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","maxOutputTokens"],x);const h=a(i,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const T=a(i,["seed"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","seed"],T);const A=a(i,["speechConfig"]);e!==void 0&&A!=null&&r(e,["setup","generationConfig","speechConfig"],CT(_c(A)));const M=a(i,["enableAffectiveDialog"]);e!==void 0&&M!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],M);const V=a(i,["systemInstruction"]);e!==void 0&&V!=null&&r(e,["setup","systemInstruction"],DT($t(V)));const $=a(i,["tools"]);if(e!==void 0&&$!=null){let Z=cs($);Array.isArray(Z)&&(Z=Z.map(Ne=>jT(us(Ne)))),r(e,["setup","tools"],Z)}const j=a(i,["sessionResumption"]);e!==void 0&&j!=null&&r(e,["setup","sessionResumption"],QT(j));const Q=a(i,["inputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","inputAudioTranscription"],Th());const ae=a(i,["outputAudioTranscription"]);e!==void 0&&ae!=null&&r(e,["setup","outputAudioTranscription"],Th());const se=a(i,["realtimeInputConfig"]);e!==void 0&&se!=null&&r(e,["setup","realtimeInputConfig"],tC(se));const ie=a(i,["contextWindowCompression"]);e!==void 0&&ie!=null&&r(e,["setup","contextWindowCompression"],sC(ie));const ce=a(i,["proactivity"]);return e!==void 0&&ce!=null&&r(e,["setup","proactivity"],aC(ce)),o}function cC(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],rC(c,o)),o}function fC(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],uC(c,o)),o}function dC(){return{}}function mC(){return{}}function pC(){return{}}function hC(){return{}}function gC(i){const e={},o=a(i,["media"]);o!=null&&r(e,["mediaChunks"],Bh(o));const l=a(i,["audio"]);l!=null&&r(e,["audio"],Hh(l));const c=a(i,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const p=a(i,["video"]);p!=null&&r(e,["video"],zh(p));const g=a(i,["text"]);return g!=null&&r(e,["text"],g),a(i,["activityStart"])!=null&&r(e,["activityStart"],dC()),a(i,["activityEnd"])!=null&&r(e,["activityEnd"],pC()),e}function yC(i){const e={},o=a(i,["media"]);o!=null&&r(e,["mediaChunks"],Bh(o));const l=a(i,["audio"]);l!=null&&r(e,["audio"],Hh(l));const c=a(i,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const p=a(i,["video"]);p!=null&&r(e,["video"],zh(p));const g=a(i,["text"]);return g!=null&&r(e,["text"],g),a(i,["activityStart"])!=null&&r(e,["activityStart"],mC()),a(i,["activityEnd"])!=null&&r(e,["activityEnd"],hC()),e}function ig(i){const e={},o=a(i,["text"]);o!=null&&r(e,["text"],o);const l=a(i,["weight"]);return l!=null&&r(e,["weight"],l),e}function vC(i){const e={},o=a(i,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ig(c))),r(e,["weightedPrompts"],l)}return e}function og(i){const e={},o=a(i,["temperature"]);o!=null&&r(e,["temperature"],o);const l=a(i,["topK"]);l!=null&&r(e,["topK"],l);const c=a(i,["seed"]);c!=null&&r(e,["seed"],c);const p=a(i,["guidance"]);p!=null&&r(e,["guidance"],p);const g=a(i,["bpm"]);g!=null&&r(e,["bpm"],g);const v=a(i,["density"]);v!=null&&r(e,["density"],v);const x=a(i,["brightness"]);x!=null&&r(e,["brightness"],x);const h=a(i,["scale"]);h!=null&&r(e,["scale"],h);const T=a(i,["muteBass"]);T!=null&&r(e,["muteBass"],T);const A=a(i,["muteDrums"]);A!=null&&r(e,["muteDrums"],A);const M=a(i,["onlyBassAndDrums"]);return M!=null&&r(e,["onlyBassAndDrums"],M),e}function xC(i){const e={},o=a(i,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],og(o)),e}function sg(i){const e={},o=a(i,["model"]);return o!=null&&r(e,["model"],o),e}function lg(i){const e={},o=a(i,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ig(c))),r(e,["weightedPrompts"],l)}return e}function xc(i){const e={},o=a(i,["setup"]);o!=null&&r(e,["setup"],sg(o));const l=a(i,["clientContent"]);l!=null&&r(e,["clientContent"],lg(l));const c=a(i,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],og(c));const p=a(i,["playbackControl"]);return p!=null&&r(e,["playbackControl"],p),e}function TC(){return{}}function CC(i){const e={},o=a(i,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function SC(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function AC(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function EC(i){const e={},o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function NC(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["data"]);l!=null&&r(e,["data"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function MC(i){const e={},o=a(i,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function _C(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function bC(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],SC(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],EC(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],MC(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function wC(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],AC(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],NC(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],_C(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function RC(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>bC(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function DC(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>wC(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function Ch(i){const e={},o=a(i,["text"]);o!=null&&r(e,["text"],o);const l=a(i,["finished"]);return l!=null&&r(e,["finished"],l),e}function Sh(i){const e={},o=a(i,["text"]);o!=null&&r(e,["text"],o);const l=a(i,["finished"]);return l!=null&&r(e,["finished"],l),e}function IC(i){const e={},o=a(i,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(i,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function PC(i){const e={},o=a(i,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>IC(c))),r(e,["urlMetadata"],l)}return e}function kC(i){const e={},o=a(i,["modelTurn"]);o!=null&&r(e,["modelTurn"],RC(o));const l=a(i,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=a(i,["interrupted"]);c!=null&&r(e,["interrupted"],c);const p=a(i,["groundingMetadata"]);p!=null&&r(e,["groundingMetadata"],p);const g=a(i,["generationComplete"]);g!=null&&r(e,["generationComplete"],g);const v=a(i,["inputTranscription"]);v!=null&&r(e,["inputTranscription"],Ch(v));const x=a(i,["outputTranscription"]);x!=null&&r(e,["outputTranscription"],Ch(x));const h=a(i,["urlContextMetadata"]);return h!=null&&r(e,["urlContextMetadata"],PC(h)),e}function UC(i){const e={},o=a(i,["modelTurn"]);o!=null&&r(e,["modelTurn"],DC(o));const l=a(i,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=a(i,["interrupted"]);c!=null&&r(e,["interrupted"],c);const p=a(i,["groundingMetadata"]);p!=null&&r(e,["groundingMetadata"],p);const g=a(i,["generationComplete"]);g!=null&&r(e,["generationComplete"],g);const v=a(i,["inputTranscription"]);v!=null&&r(e,["inputTranscription"],Sh(v));const x=a(i,["outputTranscription"]);return x!=null&&r(e,["outputTranscription"],Sh(x)),e}function LC(i){const e={},o=a(i,["id"]);o!=null&&r(e,["id"],o);const l=a(i,["args"]);l!=null&&r(e,["args"],l);const c=a(i,["name"]);return c!=null&&r(e,["name"],c),e}function VC(i){const e={},o=a(i,["args"]);o!=null&&r(e,["args"],o);const l=a(i,["name"]);return l!=null&&r(e,["name"],l),e}function qC(i){const e={},o=a(i,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>LC(c))),r(e,["functionCalls"],l)}return e}function GC(i){const e={},o=a(i,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>VC(c))),r(e,["functionCalls"],l)}return e}function BC(i){const e={},o=a(i,["ids"]);return o!=null&&r(e,["ids"],o),e}function zC(i){const e={},o=a(i,["ids"]);return o!=null&&r(e,["ids"],o),e}function Ha(i){const e={},o=a(i,["modality"]);o!=null&&r(e,["modality"],o);const l=a(i,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function Oa(i){const e={},o=a(i,["modality"]);o!=null&&r(e,["modality"],o);const l=a(i,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function HC(i){const e={},o=a(i,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=a(i,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=a(i,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const p=a(i,["toolUsePromptTokenCount"]);p!=null&&r(e,["toolUsePromptTokenCount"],p);const g=a(i,["thoughtsTokenCount"]);g!=null&&r(e,["thoughtsTokenCount"],g);const v=a(i,["totalTokenCount"]);v!=null&&r(e,["totalTokenCount"],v);const x=a(i,["promptTokensDetails"]);if(x!=null){let M=x;Array.isArray(M)&&(M=M.map(V=>Ha(V))),r(e,["promptTokensDetails"],M)}const h=a(i,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(V=>Ha(V))),r(e,["cacheTokensDetails"],M)}const T=a(i,["responseTokensDetails"]);if(T!=null){let M=T;Array.isArray(M)&&(M=M.map(V=>Ha(V))),r(e,["responseTokensDetails"],M)}const A=a(i,["toolUsePromptTokensDetails"]);if(A!=null){let M=A;Array.isArray(M)&&(M=M.map(V=>Ha(V))),r(e,["toolUsePromptTokensDetails"],M)}return e}function OC(i){const e={},o=a(i,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=a(i,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=a(i,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const p=a(i,["toolUsePromptTokenCount"]);p!=null&&r(e,["toolUsePromptTokenCount"],p);const g=a(i,["thoughtsTokenCount"]);g!=null&&r(e,["thoughtsTokenCount"],g);const v=a(i,["totalTokenCount"]);v!=null&&r(e,["totalTokenCount"],v);const x=a(i,["promptTokensDetails"]);if(x!=null){let V=x;Array.isArray(V)&&(V=V.map($=>Oa($))),r(e,["promptTokensDetails"],V)}const h=a(i,["cacheTokensDetails"]);if(h!=null){let V=h;Array.isArray(V)&&(V=V.map($=>Oa($))),r(e,["cacheTokensDetails"],V)}const T=a(i,["candidatesTokensDetails"]);if(T!=null){let V=T;Array.isArray(V)&&(V=V.map($=>Oa($))),r(e,["responseTokensDetails"],V)}const A=a(i,["toolUsePromptTokensDetails"]);if(A!=null){let V=A;Array.isArray(V)&&(V=V.map($=>Oa($))),r(e,["toolUsePromptTokensDetails"],V)}const M=a(i,["trafficType"]);return M!=null&&r(e,["trafficType"],M),e}function FC(i){const e={},o=a(i,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function $C(i){const e={},o=a(i,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function YC(i){const e={},o=a(i,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=a(i,["resumable"]);l!=null&&r(e,["resumable"],l);const c=a(i,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function JC(i){const e={},o=a(i,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=a(i,["resumable"]);l!=null&&r(e,["resumable"],l);const c=a(i,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function KC(i){const e={};a(i,["setupComplete"])!=null&&r(e,["setupComplete"],TC());const l=a(i,["serverContent"]);l!=null&&r(e,["serverContent"],kC(l));const c=a(i,["toolCall"]);c!=null&&r(e,["toolCall"],qC(c));const p=a(i,["toolCallCancellation"]);p!=null&&r(e,["toolCallCancellation"],BC(p));const g=a(i,["usageMetadata"]);g!=null&&r(e,["usageMetadata"],HC(g));const v=a(i,["goAway"]);v!=null&&r(e,["goAway"],FC(v));const x=a(i,["sessionResumptionUpdate"]);return x!=null&&r(e,["sessionResumptionUpdate"],YC(x)),e}function jC(i){const e={},o=a(i,["setupComplete"]);o!=null&&r(e,["setupComplete"],CC(o));const l=a(i,["serverContent"]);l!=null&&r(e,["serverContent"],UC(l));const c=a(i,["toolCall"]);c!=null&&r(e,["toolCall"],GC(c));const p=a(i,["toolCallCancellation"]);p!=null&&r(e,["toolCallCancellation"],zC(p));const g=a(i,["usageMetadata"]);g!=null&&r(e,["usageMetadata"],OC(g));const v=a(i,["goAway"]);v!=null&&r(e,["goAway"],$C(v));const x=a(i,["sessionResumptionUpdate"]);return x!=null&&r(e,["sessionResumptionUpdate"],JC(x)),e}function XC(){return{}}function QC(i){const e={},o=a(i,["text"]);o!=null&&r(e,["text"],o);const l=a(i,["weight"]);return l!=null&&r(e,["weight"],l),e}function ZC(i){const e={},o=a(i,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>QC(c))),r(e,["weightedPrompts"],l)}return e}function WC(i){const e={},o=a(i,["temperature"]);o!=null&&r(e,["temperature"],o);const l=a(i,["topK"]);l!=null&&r(e,["topK"],l);const c=a(i,["seed"]);c!=null&&r(e,["seed"],c);const p=a(i,["guidance"]);p!=null&&r(e,["guidance"],p);const g=a(i,["bpm"]);g!=null&&r(e,["bpm"],g);const v=a(i,["density"]);v!=null&&r(e,["density"],v);const x=a(i,["brightness"]);x!=null&&r(e,["brightness"],x);const h=a(i,["scale"]);h!=null&&r(e,["scale"],h);const T=a(i,["muteBass"]);T!=null&&r(e,["muteBass"],T);const A=a(i,["muteDrums"]);A!=null&&r(e,["muteDrums"],A);const M=a(i,["onlyBassAndDrums"]);return M!=null&&r(e,["onlyBassAndDrums"],M),e}function eS(i){const e={},o=a(i,["clientContent"]);o!=null&&r(e,["clientContent"],ZC(o));const l=a(i,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],WC(l)),e}function tS(i){const e={},o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);l!=null&&r(e,["mimeType"],l);const c=a(i,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],eS(c)),e}function nS(i){const e={},o=a(i,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>tS(c))),r(e,["audioChunks"],l)}return e}function iS(i){const e={},o=a(i,["text"]);o!=null&&r(e,["text"],o);const l=a(i,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function oS(i){const e={};a(i,["setupComplete"])!=null&&r(e,["setupComplete"],XC());const l=a(i,["serverContent"]);l!=null&&r(e,["serverContent"],nS(l));const c=a(i,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],iS(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sS(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function lS(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function aS(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function rS(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],sS(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],lS(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],aS(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function Qa(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>rS(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function uS(i){const e={},o=a(i,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(i,["default"]);l!=null&&r(e,["default"],l);const c=a(i,["description"]);c!=null&&r(e,["description"],c);const p=a(i,["enum"]);p!=null&&r(e,["enum"],p);const g=a(i,["example"]);g!=null&&r(e,["example"],g);const v=a(i,["format"]);v!=null&&r(e,["format"],v);const x=a(i,["items"]);x!=null&&r(e,["items"],x);const h=a(i,["maxItems"]);h!=null&&r(e,["maxItems"],h);const T=a(i,["maxLength"]);T!=null&&r(e,["maxLength"],T);const A=a(i,["maxProperties"]);A!=null&&r(e,["maxProperties"],A);const M=a(i,["maximum"]);M!=null&&r(e,["maximum"],M);const V=a(i,["minItems"]);V!=null&&r(e,["minItems"],V);const $=a(i,["minLength"]);$!=null&&r(e,["minLength"],$);const j=a(i,["minProperties"]);j!=null&&r(e,["minProperties"],j);const Q=a(i,["minimum"]);Q!=null&&r(e,["minimum"],Q);const ae=a(i,["nullable"]);ae!=null&&r(e,["nullable"],ae);const se=a(i,["pattern"]);se!=null&&r(e,["pattern"],se);const ie=a(i,["properties"]);ie!=null&&r(e,["properties"],ie);const ce=a(i,["propertyOrdering"]);ce!=null&&r(e,["propertyOrdering"],ce);const Z=a(i,["required"]);Z!=null&&r(e,["required"],Z);const Ne=a(i,["title"]);Ne!=null&&r(e,["title"],Ne);const Te=a(i,["type"]);return Te!=null&&r(e,["type"],Te),e}function cS(i){const e={};if(a(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(i,["category"]);o!=null&&r(e,["category"],o);const l=a(i,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function fS(i){const e={},o=a(i,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(i,["description"]);l!=null&&r(e,["description"],l);const c=a(i,["name"]);c!=null&&r(e,["name"],c);const p=a(i,["parameters"]);p!=null&&r(e,["parameters"],p);const g=a(i,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=a(i,["response"]);v!=null&&r(e,["response"],v);const x=a(i,["responseJsonSchema"]);return x!=null&&r(e,["responseJsonSchema"],x),e}function dS(i){const e={},o=a(i,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(i,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function mS(i){const e={},o=a(i,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],dS(o)),e}function pS(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function hS(i){const e={},o=a(i,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],pS(o)),e}function gS(){return{}}function yS(i){const e={},o=a(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(h=>fS(h))),r(e,["functionDeclarations"],x)}if(a(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(i,["googleSearch"]);l!=null&&r(e,["googleSearch"],mS(l));const c=a(i,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],hS(c)),a(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(i,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(i,["urlContext"])!=null&&r(e,["urlContext"],gS());const g=a(i,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=a(i,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function vS(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function xS(i){const e={},o=a(i,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(i,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function TS(i){const e={},o=a(i,["latLng"]);o!=null&&r(e,["latLng"],xS(o));const l=a(i,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function CS(i){const e={},o=a(i,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],vS(o));const l=a(i,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],TS(l)),e}function SS(i){const e={},o=a(i,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function ag(i){const e={},o=a(i,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],SS(o)),e}function AS(i){const e={},o=a(i,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(i,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],ag(l)),e}function ES(i){const e={},o=a(i,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>AS(c))),r(e,["speakerVoiceConfigs"],l)}return e}function NS(i){const e={},o=a(i,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],ag(o));const l=a(i,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],ES(l));const c=a(i,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function MS(i){const e={},o=a(i,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(i,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function _S(i,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Qa($t(c)));const p=a(e,["temperature"]);p!=null&&r(l,["temperature"],p);const g=a(e,["topP"]);g!=null&&r(l,["topP"],g);const v=a(e,["topK"]);v!=null&&r(l,["topK"],v);const x=a(e,["candidateCount"]);x!=null&&r(l,["candidateCount"],x);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const T=a(e,["stopSequences"]);T!=null&&r(l,["stopSequences"],T);const A=a(e,["responseLogprobs"]);A!=null&&r(l,["responseLogprobs"],A);const M=a(e,["logprobs"]);M!=null&&r(l,["logprobs"],M);const V=a(e,["presencePenalty"]);V!=null&&r(l,["presencePenalty"],V);const $=a(e,["frequencyPenalty"]);$!=null&&r(l,["frequencyPenalty"],$);const j=a(e,["seed"]);j!=null&&r(l,["seed"],j);const Q=a(e,["responseMimeType"]);Q!=null&&r(l,["responseMimeType"],Q);const ae=a(e,["responseSchema"]);ae!=null&&r(l,["responseSchema"],uS(Nc(ae)));const se=a(e,["responseJsonSchema"]);if(se!=null&&r(l,["responseJsonSchema"],se),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ie=a(e,["safetySettings"]);if(o!==void 0&&ie!=null){let Me=ie;Array.isArray(Me)&&(Me=Me.map(Ce=>cS(Ce))),r(o,["safetySettings"],Me)}const ce=a(e,["tools"]);if(o!==void 0&&ce!=null){let Me=cs(ce);Array.isArray(Me)&&(Me=Me.map(Ce=>yS(us(Ce)))),r(o,["tools"],Me)}const Z=a(e,["toolConfig"]);if(o!==void 0&&Z!=null&&r(o,["toolConfig"],CS(Z)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Ne=a(e,["cachedContent"]);o!==void 0&&Ne!=null&&r(o,["cachedContent"],ai(i,Ne));const Te=a(e,["responseModalities"]);Te!=null&&r(l,["responseModalities"],Te);const ze=a(e,["mediaResolution"]);ze!=null&&r(l,["mediaResolution"],ze);const de=a(e,["speechConfig"]);if(de!=null&&r(l,["speechConfig"],NS(Mc(de))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ve=a(e,["thinkingConfig"]);return Ve!=null&&r(l,["thinkingConfig"],MS(Ve)),l}function Ah(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["contents"]);if(c!=null){let g=Sn(c);Array.isArray(g)&&(g=g.map(v=>Qa(v))),r(o,["contents"],g)}const p=a(e,["config"]);return p!=null&&r(o,["generationConfig"],_S(i,p,o)),o}function bS(i,e){const o={},l=a(i,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=a(i,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const p=a(i,["outputDimensionality"]);if(e!==void 0&&p!=null&&r(e,["requests[]","outputDimensionality"],p),a(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function wS(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["contents"]);c!=null&&r(o,["requests[]","content"],Fh(i,c));const p=a(e,["config"]);p!=null&&r(o,["config"],bS(p,o));const g=a(e,["model"]);return g!==void 0&&r(o,["requests[]","model"],Xe(i,g)),o}function RS(i,e){const o={};if(a(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(i,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(i,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const p=a(i,["guidanceScale"]);if(e!==void 0&&p!=null&&r(e,["parameters","guidanceScale"],p),a(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=a(i,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const v=a(i,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const x=a(i,["includeSafetyAttributes"]);e!==void 0&&x!=null&&r(e,["parameters","includeSafetyAttributes"],x);const h=a(i,["includeRaiReason"]);e!==void 0&&h!=null&&r(e,["parameters","includeRaiReason"],h);const T=a(i,["language"]);e!==void 0&&T!=null&&r(e,["parameters","language"],T);const A=a(i,["outputMimeType"]);e!==void 0&&A!=null&&r(e,["parameters","outputOptions","mimeType"],A);const M=a(i,["outputCompressionQuality"]);if(e!==void 0&&M!=null&&r(e,["parameters","outputOptions","compressionQuality"],M),a(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function DS(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const p=a(e,["config"]);return p!=null&&r(o,["config"],RS(p,o)),o}function IS(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function PS(i,e,o){const l={},c=a(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const p=a(e,["pageToken"]);o!==void 0&&p!=null&&r(o,["_query","pageToken"],p);const g=a(e,["filter"]);o!==void 0&&g!=null&&r(o,["_query","filter"],g);const v=a(e,["queryBase"]);return o!==void 0&&v!=null&&r(o,["_url","models_url"],Jh(i,v)),l}function kS(i,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],PS(i,l,o)),o}function US(i,e){const o={},l=a(i,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(i,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const p=a(i,["defaultCheckpointId"]);return e!==void 0&&p!=null&&r(e,["defaultCheckpointId"],p),o}function LS(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],US(c,o)),o}function VS(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function qS(i){const e={};if(a(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function GS(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["contents"]);if(c!=null){let g=Sn(c);Array.isArray(g)&&(g=g.map(v=>Qa(v))),r(o,["contents"],g)}const p=a(e,["config"]);return p!=null&&r(o,["config"],qS(p)),o}function BS(i){const e={};if(a(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(i,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],ri(o));const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function zS(i,e){const o={},l=a(i,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),a(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=a(i,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),a(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=a(i,["aspectRatio"]);if(e!==void 0&&p!=null&&r(e,["parameters","aspectRatio"],p),a(i,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=a(i,["personGeneration"]);if(e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g),a(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=a(i,["negativePrompt"]);e!==void 0&&v!=null&&r(e,["parameters","negativePrompt"],v);const x=a(i,["enhancePrompt"]);if(e!==void 0&&x!=null&&r(e,["parameters","enhancePrompt"],x),a(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(i,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function HS(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const p=a(e,["image"]);if(p!=null&&r(o,["instances[0]","image"],BS(p)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const g=a(e,["config"]);return g!=null&&r(o,["config"],zS(g,o)),o}function OS(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function FS(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["data"]);l!=null&&r(e,["data"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function $S(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function YS(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],OS(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],FS(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],$S(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function ds(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>YS(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function JS(i){const e={},o=a(i,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(i,["default"]);l!=null&&r(e,["default"],l);const c=a(i,["description"]);c!=null&&r(e,["description"],c);const p=a(i,["enum"]);p!=null&&r(e,["enum"],p);const g=a(i,["example"]);g!=null&&r(e,["example"],g);const v=a(i,["format"]);v!=null&&r(e,["format"],v);const x=a(i,["items"]);x!=null&&r(e,["items"],x);const h=a(i,["maxItems"]);h!=null&&r(e,["maxItems"],h);const T=a(i,["maxLength"]);T!=null&&r(e,["maxLength"],T);const A=a(i,["maxProperties"]);A!=null&&r(e,["maxProperties"],A);const M=a(i,["maximum"]);M!=null&&r(e,["maximum"],M);const V=a(i,["minItems"]);V!=null&&r(e,["minItems"],V);const $=a(i,["minLength"]);$!=null&&r(e,["minLength"],$);const j=a(i,["minProperties"]);j!=null&&r(e,["minProperties"],j);const Q=a(i,["minimum"]);Q!=null&&r(e,["minimum"],Q);const ae=a(i,["nullable"]);ae!=null&&r(e,["nullable"],ae);const se=a(i,["pattern"]);se!=null&&r(e,["pattern"],se);const ie=a(i,["properties"]);ie!=null&&r(e,["properties"],ie);const ce=a(i,["propertyOrdering"]);ce!=null&&r(e,["propertyOrdering"],ce);const Z=a(i,["required"]);Z!=null&&r(e,["required"],Z);const Ne=a(i,["title"]);Ne!=null&&r(e,["title"],Ne);const Te=a(i,["type"]);return Te!=null&&r(e,["type"],Te),e}function KS(i){const e={},o=a(i,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function jS(i){const e={},o=a(i,["method"]);o!=null&&r(e,["method"],o);const l=a(i,["category"]);l!=null&&r(e,["category"],l);const c=a(i,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function XS(i){const e={};if(a(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(i,["description"]);o!=null&&r(e,["description"],o);const l=a(i,["name"]);l!=null&&r(e,["name"],l);const c=a(i,["parameters"]);c!=null&&r(e,["parameters"],c);const p=a(i,["parametersJsonSchema"]);p!=null&&r(e,["parametersJsonSchema"],p);const g=a(i,["response"]);g!=null&&r(e,["response"],g);const v=a(i,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function QS(i){const e={},o=a(i,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(i,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function ZS(i){const e={},o=a(i,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],QS(o)),e}function WS(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function e2(i){const e={},o=a(i,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],WS(o)),e}function t2(){return{}}function n2(i){const e={},o=a(i,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function i2(i){const e={},o=a(i,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],n2(o));const l=a(i,["authType"]);l!=null&&r(e,["authType"],l);const c=a(i,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const p=a(i,["httpBasicAuthConfig"]);p!=null&&r(e,["httpBasicAuthConfig"],p);const g=a(i,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const v=a(i,["oidcConfig"]);return v!=null&&r(e,["oidcConfig"],v),e}function o2(i){const e={},o=a(i,["authConfig"]);return o!=null&&r(e,["authConfig"],i2(o)),e}function s2(){return{}}function rg(i){const e={},o=a(i,["functionDeclarations"]);if(o!=null){let A=o;Array.isArray(A)&&(A=A.map(M=>XS(M))),r(e,["functionDeclarations"],A)}const l=a(i,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(i,["googleSearch"]);c!=null&&r(e,["googleSearch"],ZS(c));const p=a(i,["googleSearchRetrieval"]);p!=null&&r(e,["googleSearchRetrieval"],e2(p)),a(i,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],t2());const v=a(i,["googleMaps"]);v!=null&&r(e,["googleMaps"],o2(v)),a(i,["urlContext"])!=null&&r(e,["urlContext"],s2());const h=a(i,["codeExecution"]);h!=null&&r(e,["codeExecution"],h);const T=a(i,["computerUse"]);return T!=null&&r(e,["computerUse"],T),e}function l2(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function a2(i){const e={},o=a(i,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(i,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function r2(i){const e={},o=a(i,["latLng"]);o!=null&&r(e,["latLng"],a2(o));const l=a(i,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function u2(i){const e={},o=a(i,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],l2(o));const l=a(i,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],r2(l)),e}function c2(i){const e={},o=a(i,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function f2(i){const e={},o=a(i,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],c2(o)),e}function d2(i){const e={},o=a(i,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],f2(o)),a(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(i,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function m2(i){const e={},o=a(i,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(i,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function p2(i,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],ds($t(c)));const p=a(e,["temperature"]);p!=null&&r(l,["temperature"],p);const g=a(e,["topP"]);g!=null&&r(l,["topP"],g);const v=a(e,["topK"]);v!=null&&r(l,["topK"],v);const x=a(e,["candidateCount"]);x!=null&&r(l,["candidateCount"],x);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const T=a(e,["stopSequences"]);T!=null&&r(l,["stopSequences"],T);const A=a(e,["responseLogprobs"]);A!=null&&r(l,["responseLogprobs"],A);const M=a(e,["logprobs"]);M!=null&&r(l,["logprobs"],M);const V=a(e,["presencePenalty"]);V!=null&&r(l,["presencePenalty"],V);const $=a(e,["frequencyPenalty"]);$!=null&&r(l,["frequencyPenalty"],$);const j=a(e,["seed"]);j!=null&&r(l,["seed"],j);const Q=a(e,["responseMimeType"]);Q!=null&&r(l,["responseMimeType"],Q);const ae=a(e,["responseSchema"]);ae!=null&&r(l,["responseSchema"],JS(Nc(ae)));const se=a(e,["responseJsonSchema"]);se!=null&&r(l,["responseJsonSchema"],se);const ie=a(e,["routingConfig"]);ie!=null&&r(l,["routingConfig"],ie);const ce=a(e,["modelSelectionConfig"]);ce!=null&&r(l,["modelConfig"],KS(ce));const Z=a(e,["safetySettings"]);if(o!==void 0&&Z!=null){let $e=Z;Array.isArray($e)&&($e=$e.map(q=>jS(q))),r(o,["safetySettings"],$e)}const Ne=a(e,["tools"]);if(o!==void 0&&Ne!=null){let $e=cs(Ne);Array.isArray($e)&&($e=$e.map(q=>rg(us(q)))),r(o,["tools"],$e)}const Te=a(e,["toolConfig"]);o!==void 0&&Te!=null&&r(o,["toolConfig"],u2(Te));const ze=a(e,["labels"]);o!==void 0&&ze!=null&&r(o,["labels"],ze);const de=a(e,["cachedContent"]);o!==void 0&&de!=null&&r(o,["cachedContent"],ai(i,de));const Ve=a(e,["responseModalities"]);Ve!=null&&r(l,["responseModalities"],Ve);const Me=a(e,["mediaResolution"]);Me!=null&&r(l,["mediaResolution"],Me);const Ce=a(e,["speechConfig"]);Ce!=null&&r(l,["speechConfig"],d2(Mc(Ce)));const Rt=a(e,["audioTimestamp"]);Rt!=null&&r(l,["audioTimestamp"],Rt);const Wt=a(e,["thinkingConfig"]);return Wt!=null&&r(l,["thinkingConfig"],m2(Wt)),l}function Eh(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["contents"]);if(c!=null){let g=Sn(c);Array.isArray(g)&&(g=g.map(v=>ds(v))),r(o,["contents"],g)}const p=a(e,["config"]);return p!=null&&r(o,["generationConfig"],p2(i,p,o)),o}function h2(i,e){const o={},l=a(i,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const c=a(i,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const p=a(i,["outputDimensionality"]);e!==void 0&&p!=null&&r(e,["parameters","outputDimensionality"],p);const g=a(i,["mimeType"]);e!==void 0&&g!=null&&r(e,["instances[]","mimeType"],g);const v=a(i,["autoTruncate"]);return e!==void 0&&v!=null&&r(e,["parameters","autoTruncate"],v),o}function g2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["contents"]);c!=null&&r(o,["instances[]","content"],Fh(i,c));const p=a(e,["config"]);return p!=null&&r(o,["config"],h2(p,o)),o}function y2(i,e){const o={},l=a(i,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(i,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const p=a(i,["numberOfImages"]);e!==void 0&&p!=null&&r(e,["parameters","sampleCount"],p);const g=a(i,["aspectRatio"]);e!==void 0&&g!=null&&r(e,["parameters","aspectRatio"],g);const v=a(i,["guidanceScale"]);e!==void 0&&v!=null&&r(e,["parameters","guidanceScale"],v);const x=a(i,["seed"]);e!==void 0&&x!=null&&r(e,["parameters","seed"],x);const h=a(i,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const T=a(i,["personGeneration"]);e!==void 0&&T!=null&&r(e,["parameters","personGeneration"],T);const A=a(i,["includeSafetyAttributes"]);e!==void 0&&A!=null&&r(e,["parameters","includeSafetyAttributes"],A);const M=a(i,["includeRaiReason"]);e!==void 0&&M!=null&&r(e,["parameters","includeRaiReason"],M);const V=a(i,["language"]);e!==void 0&&V!=null&&r(e,["parameters","language"],V);const $=a(i,["outputMimeType"]);e!==void 0&&$!=null&&r(e,["parameters","outputOptions","mimeType"],$);const j=a(i,["outputCompressionQuality"]);e!==void 0&&j!=null&&r(e,["parameters","outputOptions","compressionQuality"],j);const Q=a(i,["addWatermark"]);e!==void 0&&Q!=null&&r(e,["parameters","addWatermark"],Q);const ae=a(i,["enhancePrompt"]);return e!==void 0&&ae!=null&&r(e,["parameters","enhancePrompt"],ae),o}function v2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const p=a(e,["config"]);return p!=null&&r(o,["config"],y2(p,o)),o}function Za(i){const e={},o=a(i,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=a(i,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],ri(l));const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function x2(i){const e={},o=a(i,["maskMode"]);o!=null&&r(e,["maskMode"],o);const l=a(i,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const c=a(i,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function T2(i){const e={},o=a(i,["controlType"]);o!=null&&r(e,["controlType"],o);const l=a(i,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function C2(i){const e={},o=a(i,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function S2(i){const e={},o=a(i,["subjectType"]);o!=null&&r(e,["subjectType"],o);const l=a(i,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function A2(i){const e={},o=a(i,["referenceImage"]);o!=null&&r(e,["referenceImage"],Za(o));const l=a(i,["referenceId"]);l!=null&&r(e,["referenceId"],l);const c=a(i,["referenceType"]);c!=null&&r(e,["referenceType"],c);const p=a(i,["maskImageConfig"]);p!=null&&r(e,["maskImageConfig"],x2(p));const g=a(i,["controlImageConfig"]);g!=null&&r(e,["controlImageConfig"],T2(g));const v=a(i,["styleImageConfig"]);v!=null&&r(e,["styleImageConfig"],C2(v));const x=a(i,["subjectImageConfig"]);return x!=null&&r(e,["subjectImageConfig"],S2(x)),e}function E2(i,e){const o={},l=a(i,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(i,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const p=a(i,["numberOfImages"]);e!==void 0&&p!=null&&r(e,["parameters","sampleCount"],p);const g=a(i,["aspectRatio"]);e!==void 0&&g!=null&&r(e,["parameters","aspectRatio"],g);const v=a(i,["guidanceScale"]);e!==void 0&&v!=null&&r(e,["parameters","guidanceScale"],v);const x=a(i,["seed"]);e!==void 0&&x!=null&&r(e,["parameters","seed"],x);const h=a(i,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const T=a(i,["personGeneration"]);e!==void 0&&T!=null&&r(e,["parameters","personGeneration"],T);const A=a(i,["includeSafetyAttributes"]);e!==void 0&&A!=null&&r(e,["parameters","includeSafetyAttributes"],A);const M=a(i,["includeRaiReason"]);e!==void 0&&M!=null&&r(e,["parameters","includeRaiReason"],M);const V=a(i,["language"]);e!==void 0&&V!=null&&r(e,["parameters","language"],V);const $=a(i,["outputMimeType"]);e!==void 0&&$!=null&&r(e,["parameters","outputOptions","mimeType"],$);const j=a(i,["outputCompressionQuality"]);e!==void 0&&j!=null&&r(e,["parameters","outputOptions","compressionQuality"],j);const Q=a(i,["editMode"]);e!==void 0&&Q!=null&&r(e,["parameters","editMode"],Q);const ae=a(i,["baseSteps"]);return e!==void 0&&ae!=null&&r(e,["parameters","editConfig","baseSteps"],ae),o}function N2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const p=a(e,["referenceImages"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(x=>A2(x))),r(o,["instances[0]","referenceImages"],v)}const g=a(e,["config"]);return g!=null&&r(o,["config"],E2(g,o)),o}function M2(i,e){const o={},l=a(i,["includeRaiReason"]);e!==void 0&&l!=null&&r(e,["parameters","includeRaiReason"],l);const c=a(i,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const p=a(i,["outputCompressionQuality"]);e!==void 0&&p!=null&&r(e,["parameters","outputOptions","compressionQuality"],p);const g=a(i,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=a(i,["imagePreservationFactor"]);e!==void 0&&v!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const x=a(i,["numberOfImages"]);e!==void 0&&x!=null&&r(e,["parameters","sampleCount"],x);const h=a(i,["mode"]);return e!==void 0&&h!=null&&r(e,["parameters","mode"],h),o}function _2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["image"]);c!=null&&r(o,["instances[0]","image"],Za(c));const p=a(e,["upscaleFactor"]);p!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],p);const g=a(e,["config"]);return g!=null&&r(o,["config"],M2(g,o)),o}function b2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function w2(i,e,o){const l={},c=a(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const p=a(e,["pageToken"]);o!==void 0&&p!=null&&r(o,["_query","pageToken"],p);const g=a(e,["filter"]);o!==void 0&&g!=null&&r(o,["_query","filter"],g);const v=a(e,["queryBase"]);return o!==void 0&&v!=null&&r(o,["_url","models_url"],Jh(i,v)),l}function R2(i,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],w2(i,l,o)),o}function D2(i,e){const o={},l=a(i,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(i,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const p=a(i,["defaultCheckpointId"]);return e!==void 0&&p!=null&&r(e,["defaultCheckpointId"],p),o}function I2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],D2(c,o)),o}function P2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function k2(i,e){const o={},l=a(i,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],ds($t(l)));const c=a(i,["tools"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>rg(v))),r(e,["tools"],g)}const p=a(i,["generationConfig"]);return e!==void 0&&p!=null&&r(e,["generationConfig"],p),o}function U2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["contents"]);if(c!=null){let g=Sn(c);Array.isArray(g)&&(g=g.map(v=>ds(v))),r(o,["contents"],g)}const p=a(e,["config"]);return p!=null&&r(o,["config"],k2(p,o)),o}function L2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["contents"]);if(c!=null){let g=Sn(c);Array.isArray(g)&&(g=g.map(v=>ds(v))),r(o,["contents"],g)}const p=a(e,["config"]);return p!=null&&r(o,["config"],p),o}function V2(i){const e={},o=a(i,["uri"]);o!=null&&r(e,["gcsUri"],o);const l=a(i,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],ri(l));const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function q2(i,e){const o={},l=a(i,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(i,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const p=a(i,["fps"]);e!==void 0&&p!=null&&r(e,["parameters","fps"],p);const g=a(i,["durationSeconds"]);e!==void 0&&g!=null&&r(e,["parameters","durationSeconds"],g);const v=a(i,["seed"]);e!==void 0&&v!=null&&r(e,["parameters","seed"],v);const x=a(i,["aspectRatio"]);e!==void 0&&x!=null&&r(e,["parameters","aspectRatio"],x);const h=a(i,["resolution"]);e!==void 0&&h!=null&&r(e,["parameters","resolution"],h);const T=a(i,["personGeneration"]);e!==void 0&&T!=null&&r(e,["parameters","personGeneration"],T);const A=a(i,["pubsubTopic"]);e!==void 0&&A!=null&&r(e,["parameters","pubsubTopic"],A);const M=a(i,["negativePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","negativePrompt"],M);const V=a(i,["enhancePrompt"]);e!==void 0&&V!=null&&r(e,["parameters","enhancePrompt"],V);const $=a(i,["generateAudio"]);e!==void 0&&$!=null&&r(e,["parameters","generateAudio"],$);const j=a(i,["lastFrame"]);e!==void 0&&j!=null&&r(e,["instances[0]","lastFrame"],Za(j));const Q=a(i,["compressionQuality"]);return e!==void 0&&Q!=null&&r(e,["parameters","compressionQuality"],Q),o}function G2(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Xe(i,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const p=a(e,["image"]);p!=null&&r(o,["instances[0]","image"],Za(p));const g=a(e,["video"]);g!=null&&r(o,["instances[0]","video"],V2(g));const v=a(e,["config"]);return v!=null&&r(o,["config"],q2(v,o)),o}function B2(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function z2(i){const e={},o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function H2(i){const e={},o=a(i,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function O2(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],B2(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],z2(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],H2(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function F2(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>O2(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function $2(i){const e={},o=a(i,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function Y2(i){const e={},o=a(i,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(i,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function J2(i){const e={},o=a(i,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Y2(c))),r(e,["urlMetadata"],l)}return e}function K2(i){const e={},o=a(i,["content"]);o!=null&&r(e,["content"],F2(o));const l=a(i,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],$2(l));const c=a(i,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const p=a(i,["finishReason"]);p!=null&&r(e,["finishReason"],p);const g=a(i,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],J2(g));const v=a(i,["avgLogprobs"]);v!=null&&r(e,["avgLogprobs"],v);const x=a(i,["groundingMetadata"]);x!=null&&r(e,["groundingMetadata"],x);const h=a(i,["index"]);h!=null&&r(e,["index"],h);const T=a(i,["logprobsResult"]);T!=null&&r(e,["logprobsResult"],T);const A=a(i,["safetyRatings"]);return A!=null&&r(e,["safetyRatings"],A),e}function Nh(i){const e={},o=a(i,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>K2(v))),r(e,["candidates"],g)}const l=a(i,["modelVersion"]);l!=null&&r(e,["modelVersion"],l);const c=a(i,["promptFeedback"]);c!=null&&r(e,["promptFeedback"],c);const p=a(i,["usageMetadata"]);return p!=null&&r(e,["usageMetadata"],p),e}function j2(i){const e={},o=a(i,["values"]);return o!=null&&r(e,["values"],o),e}function X2(){return{}}function Q2(i){const e={},o=a(i,["embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>j2(p))),r(e,["embeddings"],c)}return a(i,["metadata"])!=null&&r(e,["metadata"],X2()),e}function Z2(i){const e={},o=a(i,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],ri(o));const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ug(i){const e={},o=a(i,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=a(i,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=a(i,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function W2(i){const e={},o=a(i,["_self"]);o!=null&&r(e,["image"],Z2(o));const l=a(i,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=a(i,["_self"]);return c!=null&&r(e,["safetyAttributes"],ug(c)),e}function eA(i){const e={},o=a(i,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>W2(p))),r(e,["generatedImages"],c)}const l=a(i,["positivePromptSafetyAttributes"]);return l!=null&&r(e,["positivePromptSafetyAttributes"],ug(l)),e}function tA(i){const e={},o=a(i,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(i,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(i,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function Tc(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(i,["description"]);c!=null&&r(e,["description"],c);const p=a(i,["version"]);p!=null&&r(e,["version"],p);const g=a(i,["_self"]);g!=null&&r(e,["tunedModelInfo"],tA(g));const v=a(i,["inputTokenLimit"]);v!=null&&r(e,["inputTokenLimit"],v);const x=a(i,["outputTokenLimit"]);x!=null&&r(e,["outputTokenLimit"],x);const h=a(i,["supportedGenerationMethods"]);return h!=null&&r(e,["supportedActions"],h),e}function nA(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["_self"]);if(l!=null){let c=Kh(l);Array.isArray(c)&&(c=c.map(p=>Tc(p))),r(e,["models"],c)}return e}function iA(){return{}}function oA(i){const e={},o=a(i,["totalTokens"]);o!=null&&r(e,["totalTokens"],o);const l=a(i,["cachedContentTokenCount"]);return l!=null&&r(e,["cachedContentTokenCount"],l),e}function sA(i){const e={},o=a(i,["video","uri"]);o!=null&&r(e,["uri"],o);const l=a(i,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],ri(l));const c=a(i,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function lA(i){const e={},o=a(i,["_self"]);return o!=null&&r(e,["video"],sA(o)),e}function aA(i){const e={},o=a(i,["generatedSamples"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(g=>lA(g))),r(e,["generatedVideos"],p)}const l=a(i,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(i,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function rA(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(i,["done"]);c!=null&&r(e,["done"],c);const p=a(i,["error"]);p!=null&&r(e,["error"],p);const g=a(i,["response","generateVideoResponse"]);return g!=null&&r(e,["response"],aA(g)),e}function uA(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function cA(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["data"]);l!=null&&r(e,["data"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function fA(i){const e={},o=a(i,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(i,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function dA(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],uA(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],cA(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],fA(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function mA(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>dA(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function pA(i){const e={},o=a(i,["citations"]);return o!=null&&r(e,["citations"],o),e}function hA(i){const e={},o=a(i,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(i,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function gA(i){const e={},o=a(i,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>hA(c))),r(e,["urlMetadata"],l)}return e}function yA(i){const e={},o=a(i,["content"]);o!=null&&r(e,["content"],mA(o));const l=a(i,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],pA(l));const c=a(i,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const p=a(i,["finishReason"]);p!=null&&r(e,["finishReason"],p);const g=a(i,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],gA(g));const v=a(i,["avgLogprobs"]);v!=null&&r(e,["avgLogprobs"],v);const x=a(i,["groundingMetadata"]);x!=null&&r(e,["groundingMetadata"],x);const h=a(i,["index"]);h!=null&&r(e,["index"],h);const T=a(i,["logprobsResult"]);T!=null&&r(e,["logprobsResult"],T);const A=a(i,["safetyRatings"]);return A!=null&&r(e,["safetyRatings"],A),e}function Mh(i){const e={},o=a(i,["candidates"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(h=>yA(h))),r(e,["candidates"],x)}const l=a(i,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(i,["responseId"]);c!=null&&r(e,["responseId"],c);const p=a(i,["modelVersion"]);p!=null&&r(e,["modelVersion"],p);const g=a(i,["promptFeedback"]);g!=null&&r(e,["promptFeedback"],g);const v=a(i,["usageMetadata"]);return v!=null&&r(e,["usageMetadata"],v),e}function vA(i){const e={},o=a(i,["truncated"]);o!=null&&r(e,["truncated"],o);const l=a(i,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function xA(i){const e={},o=a(i,["values"]);o!=null&&r(e,["values"],o);const l=a(i,["statistics"]);return l!=null&&r(e,["statistics"],vA(l)),e}function TA(i){const e={},o=a(i,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function CA(i){const e={},o=a(i,["predictions[]","embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>xA(p))),r(e,["embeddings"],c)}const l=a(i,["metadata"]);return l!=null&&r(e,["metadata"],TA(l)),e}function SA(i){const e={},o=a(i,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=a(i,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],ri(l));const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function cg(i){const e={},o=a(i,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=a(i,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=a(i,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function bc(i){const e={},o=a(i,["_self"]);o!=null&&r(e,["image"],SA(o));const l=a(i,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=a(i,["_self"]);c!=null&&r(e,["safetyAttributes"],cg(c));const p=a(i,["prompt"]);return p!=null&&r(e,["enhancedPrompt"],p),e}function AA(i){const e={},o=a(i,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>bc(p))),r(e,["generatedImages"],c)}const l=a(i,["positivePromptSafetyAttributes"]);return l!=null&&r(e,["positivePromptSafetyAttributes"],cg(l)),e}function EA(i){const e={},o=a(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>bc(c))),r(e,["generatedImages"],l)}return e}function NA(i){const e={},o=a(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>bc(c))),r(e,["generatedImages"],l)}return e}function MA(i){const e={},o=a(i,["endpoint"]);o!=null&&r(e,["name"],o);const l=a(i,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function _A(i){const e={},o=a(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const l=a(i,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(i,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function bA(i){const e={},o=a(i,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=a(i,["epoch"]);l!=null&&r(e,["epoch"],l);const c=a(i,["step"]);return c!=null&&r(e,["step"],c),e}function Cc(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(i,["description"]);c!=null&&r(e,["description"],c);const p=a(i,["versionId"]);p!=null&&r(e,["version"],p);const g=a(i,["deployedModels"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(M=>MA(M))),r(e,["endpoints"],A)}const v=a(i,["labels"]);v!=null&&r(e,["labels"],v);const x=a(i,["_self"]);x!=null&&r(e,["tunedModelInfo"],_A(x));const h=a(i,["defaultCheckpointId"]);h!=null&&r(e,["defaultCheckpointId"],h);const T=a(i,["checkpoints"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(M=>bA(M))),r(e,["checkpoints"],A)}return e}function wA(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["_self"]);if(l!=null){let c=Kh(l);Array.isArray(c)&&(c=c.map(p=>Cc(p))),r(e,["models"],c)}return e}function RA(){return{}}function DA(i){const e={},o=a(i,["totalTokens"]);return o!=null&&r(e,["totalTokens"],o),e}function IA(i){const e={},o=a(i,["tokensInfo"]);return o!=null&&r(e,["tokensInfo"],o),e}function PA(i){const e={},o=a(i,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=a(i,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],ri(l));const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function kA(i){const e={},o=a(i,["_self"]);return o!=null&&r(e,["video"],PA(o)),e}function UA(i){const e={},o=a(i,["videos"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(g=>kA(g))),r(e,["generatedVideos"],p)}const l=a(i,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(i,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function LA(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(i,["done"]);c!=null&&r(e,["done"],c);const p=a(i,["error"]);p!=null&&r(e,["error"],p);const g=a(i,["response"]);return g!=null&&r(e,["response"],UA(g)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VA="Content-Type",qA="X-Server-Timeout",GA="User-Agent",Sc="x-goog-api-client",BA="1.9.0",zA=`google-genai-sdk/${BA}`,HA="v1beta1",OA="v1beta",_h=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class FA{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:HA,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:OA,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const c=[this.getRequestUrlInternal(o)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[g,v]of Object.entries(e.queryParams))c.searchParams.append(g,String(v));let p={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else p.body=e.body;return p=await this.includeExtraHttpOptionsToRequestInit(p,o,e.abortSignal),this.unaryApiCall(c,p,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[c,p]of Object.entries(o))typeof p=="object"?l[c]=Object.assign(Object.assign({},l[c]),p):p!==void 0&&(l[c]=p);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let p={};return p.body=e.body,p=await this.includeExtraHttpOptionsToRequestInit(p,o,e.abortSignal),this.streamApiCall(c,p,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const c=new AbortController,p=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=p}return o&&o.extraBody!==null&&$A(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await bh(c),new pc(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await bh(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return rs(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),p=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let g="";for(;;){const{done:v,value:x}=yield st(c.read());if(v){if(g.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=p.decode(x,{stream:!0});try{const A=JSON.parse(h);if("error"in A){const M=JSON.parse(JSON.stringify(A.error)),V=M.status,$=M.code,j=`got status: ${V}. ${JSON.stringify(A)}`;if($>=400&&$<600)throw new Xa({message:j,status:$})}}catch(A){if(A.name==="ApiError")throw A}g+=h;let T=g.match(_h);for(;T;){const A=T[1];try{const M=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield st(new pc(M)),g=g.slice(T[0].length),T=g.match(_h)}catch(M){throw new Error(`exception parsing stream chunk ${A}. ${M}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=zA+" "+this.clientOptions.userAgentExtra;return e[GA]=o,e[Sc]=o,e[VA]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))o.append(l,c);e.timeout&&e.timeout>0&&o.append(qA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const p=this.clientOptions.uploader,g=await p.stat(e);c.sizeBytes=String(g.size);const v=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:g.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=v;const x=await this.fetchUploadUrl(c,o);return p.upload(e,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const p={file:e},g=await this.request({path:re("upload/v1beta/files",p._url),body:JSON.stringify(p),httpMethod:"POST",httpOptions:c});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(l=g==null?void 0:g.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function bh(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let l;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await i.json():l={error:{message:await i.text(),code:i.status,status:i.statusText}};const c=JSON.stringify(l);throw o>=400&&o<600?new Xa({message:c,status:o}):new Error(c)}}function $A(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const p=JSON.parse(i.body);if(typeof p=="object"&&p!==null&&!Array.isArray(p))o=p;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(p,g){const v=Object.assign({},p);for(const x in g)if(Object.prototype.hasOwnProperty.call(g,x)){const h=g[x],T=v[x];h&&typeof h=="object"&&!Array.isArray(h)&&T&&typeof T=="object"&&!Array.isArray(T)?v[x]=l(T,h):(T&&h&&typeof T!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof T}, New type: ${typeof h}. Overwriting.`),v[x]=h)}return v}const c=l(o,e);i.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YA="mcp_used/unknown";function fg(i){for(const e of i)if(wc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function dg(i){var e;const o=(e=i[Sc])!==null&&e!==void 0?e:"";i[Sc]=(o+` ${YA}`).trimStart()}function JA(i){var e,o,l;return(l=(o=(e=i.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>wc(c)))!==null&&l!==void 0?l:!1}function KA(i){var e,o,l;return(l=(o=(e=i.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!wc(c)))!==null&&l!==void 0?l:!1}function wc(i){return i!==null&&typeof i=="object"&&i instanceof Rc}function jA(i,e=100){return rs(this,arguments,function*(){let l,c=0;for(;c<e;){const p=yield st(i.listTools({cursor:l}));for(const g of p.tools)yield yield st(g),c++;if(!p.nextCursor)break;l=p.nextCursor}})}class Rc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Rc(e,o)}async initialize(){var e,o,l,c;if(this.mcpTools.length>0)return;const p={},g=[];for(const T of this.mcpClients)try{for(var v=!0,x=(o=void 0,vl(jA(T))),h;h=await x.next(),e=h.done,!e;v=!0){c=h.value,v=!1;const A=c;g.push(A);const M=A.name;if(p[M])throw new Error(`Duplicate function name ${M} found in MCP tools. Please ensure function names are unique.`);p[M]=T}}catch(A){o={error:A}}finally{try{!v&&!e&&(l=x.return)&&await l.call(x)}finally{if(o)throw o.error}}this.mcpTools=g,this.functionNameToMcpClient=p}async tool(){return await this.initialize(),Fv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let p;this.config.timeout&&(p={timeout:this.config.timeout});const g=await c.callTool({name:l.name,arguments:l.args},void 0,p);o.push({functionResponse:{name:l.name,response:g.isError?{error:g}:g}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function XA(i,e,o){const l=new Lv;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const p=oS(c);Object.assign(l,p),e(l)}class QA{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion(),g=eE(this.apiClient.getDefaultHeaders()),v=this.apiClient.getApiKey(),x=`${c}/ws/google.ai.generativelanguage.${p}.GenerativeService.BidiGenerateMusic?key=${v}`;let h=()=>{};const T=new Promise(ie=>{h=ie}),A=e.callbacks,M=function(){h({})},V=this.apiClient,$={onopen:M,onmessage:ie=>{XA(V,A.onmessage,ie)},onerror:(o=A==null?void 0:A.onerror)!==null&&o!==void 0?o:function(ie){},onclose:(l=A==null?void 0:A.onclose)!==null&&l!==void 0?l:function(ie){}},j=this.webSocketFactory.create(x,WA(g),$);j.connect(),await T;const Q=Xe(this.apiClient,e.model),ae=sg({model:Q}),se=xc({setup:ae});return j.send(JSON.stringify(se)),new ZA(j,this.apiClient)}}class ZA{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=vC(e),l=lg(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=xC(e),l=xc(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=xc({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(ls.PLAY)}pause(){this.sendPlaybackControl(ls.PAUSE)}stop(){this.sendPlaybackControl(ls.STOP)}resetContext(){this.sendPlaybackControl(ls.RESET_CONTEXT)}close(){this.conn.close()}}function WA(i){const e={};return i.forEach((o,l)=>{e[l]=o}),e}function eE(i){const e=new Headers;for(const[o,l]of Object.entries(i))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nE(i,e,o){const l=new Uv;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const p=JSON.parse(c);if(i.isVertexAI()){const g=jC(p);Object.assign(l,g)}else{const g=KC(p);Object.assign(l,g)}e(l)}class iE{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new QA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,c,p,g,v;const x=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let T;const A=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&fg(e.config.tools)&&dg(A);const M=aE(A);if(this.apiClient.isVertexAI())T=`${x}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(M);else{const de=this.apiClient.getApiKey();let Ve="BidiGenerateContent",Me="key";de!=null&&de.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Ve="BidiGenerateContentConstrained",Me="access_token"),T=`${x}/ws/google.ai.generativelanguage.${h}.GenerativeService.${Ve}?${Me}=${de}`}let V=()=>{};const $=new Promise(de=>{V=de}),j=e.callbacks,Q=function(){var de;(de=j==null?void 0:j.onopen)===null||de===void 0||de.call(j),V({})},ae=this.apiClient,se={onopen:Q,onmessage:de=>{nE(ae,j.onmessage,de)},onerror:(o=j==null?void 0:j.onerror)!==null&&o!==void 0?o:function(de){},onclose:(l=j==null?void 0:j.onclose)!==null&&l!==void 0?l:function(de){}},ie=this.webSocketFactory.create(T,lE(M),se);ie.connect(),await $;let ce=Xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ce.startsWith("publishers/")){const de=this.apiClient.getProject(),Ve=this.apiClient.getLocation();ce=`projects/${de}/locations/${Ve}/`+ce}let Z={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ka.AUDIO]}:e.config.responseModalities=[Ka.AUDIO]),!((p=e.config)===null||p===void 0)&&p.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Ne=(v=(g=e.config)===null||g===void 0?void 0:g.tools)!==null&&v!==void 0?v:[],Te=[];for(const de of Ne)if(this.isCallableTool(de)){const Ve=de;Te.push(await Ve.tool())}else Te.push(de);Te.length>0&&(e.config.tools=Te);const ze={model:ce,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=fC(this.apiClient,ze):Z=cC(this.apiClient,ze),delete Z.config,ie.send(JSON.stringify(Z)),new sE(ie,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const oE={turnComplete:!0};class sE{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=Sn(o.turns),e.isVertexAI()?l=l.map(c=>ds(c)):l=l.map(c=>Qa(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const p of l){if(typeof p!="object"||p===null||!("name"in p)||!("response"in p))throw new Error(`Could not parse function response, type '${typeof p}'.`);if(!e.isVertexAI()&&!("id"in p))throw new Error(tE)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},oE),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:yC(e)}:o={realtimeInput:gC(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function lE(i){const e={};return i.forEach((o,l)=>{e[l]=o}),e}function aE(i){const e=new Headers;for(const[o,l]of Object.entries(i))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wh=10;function Rh(i){var e,o,l;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const g of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ya(g)){c=!0;break}if(!c)return!0;const p=(l=i==null?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return p&&(p<0||!Number.isInteger(p))||p==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",p),!0):!1}function Ya(i){return"callTool"in i&&typeof i.callTool=="function"}function Dh(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rE extends po{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,c,p,g,v;const x=await this.processParamsForMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!JA(o)||Rh(o.config))return await this.generateContentInternal(x);if(KA(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,T;const A=Sn(x.contents),M=(p=(c=(l=x.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&p!==void 0?p:wh;let V=0;for(;V<M&&(h=await this.generateContentInternal(x),!(!h.functionCalls||h.functionCalls.length===0));){const $=h.candidates[0].content,j=[];for(const Q of(v=(g=o.config)===null||g===void 0?void 0:g.tools)!==null&&v!==void 0?v:[])if(Ya(Q)){const se=await Q.callTool(h.functionCalls);j.push(...se)}V++,T={role:"user",parts:j},x.contents=Sn(x.contents),x.contents.push($),x.contents.push(T),Dh(x.config)&&(A.push($),A.push(T))}return Dh(x.config)&&(h.automaticFunctionCallingHistory=A),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Rh(o.config)){const l=await this.processParamsForMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var c;let p;const g=[];if(l!=null&&l.generatedImages)for(const x of l.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((c=x==null?void 0:x.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?p=x==null?void 0:x.safetyAttributes:g.push(x);let v;return p?v={generatedImages:g,positivePromptSafetyAttributes:p}:v={generatedImages:g},v}),this.list=async o=>{var l;const g={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!g.config.queryBase){if(!((l=g.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");g.config.filter="labels.tune-type:*"}return new xl(mo.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(g),g)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(c)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var o,l,c;const p=(o=e.config)===null||o===void 0?void 0:o.tools;if(!p)return e;const g=await Promise.all(p.map(async x=>Ya(x)?await x.tool():x)),v={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:g})};if(v.config.tools=g,e.config&&e.config.tools&&fg(e.config.tools)){const x=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let h=Object.assign({},x);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),dg(h),v.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return v}async initAfcToolsMap(e){var o,l,c;const p=new Map;for(const g of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Ya(g)){const v=g,x=await v.tool();for(const h of(c=x.functionDeclarations)!==null&&c!==void 0?c:[]){if(!h.name)throw new Error("Function declaration name is required.");if(p.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);p.set(h.name,v)}}return p}async processAfcStream(e){var o,l,c;const p=(c=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:wh;let g=!1,v=0;const x=await this.initAfcToolsMap(e);return function(h,T,A){var M,V;return rs(this,arguments,function*(){for(var $,j,Q,ae;v<p;){g&&(v++,g=!1);const Z=yield st(h.processParamsForMcpUsage(A)),Ne=yield st(h.generateContentStreamInternal(Z)),Te=[],ze=[];try{for(var se=!0,ie=(j=void 0,vl(Ne)),ce;ce=yield st(ie.next()),$=ce.done,!$;se=!0){ae=ce.value,se=!1;const de=ae;if(yield yield st(de),de.candidates&&(!((M=de.candidates[0])===null||M===void 0)&&M.content)){ze.push(de.candidates[0].content);for(const Ve of(V=de.candidates[0].content.parts)!==null&&V!==void 0?V:[])if(v<p&&Ve.functionCall){if(!Ve.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(Ve.functionCall.name)){const Me=yield st(T.get(Ve.functionCall.name).callTool([Ve.functionCall]));Te.push(...Me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${Ve.functionCall.name}`)}}}}catch(de){j={error:de}}finally{try{!se&&!$&&(Q=ie.return)&&(yield st(Q.call(ie)))}finally{if(j)throw j.error}}if(Te.length>0){g=!0;const de=new yl;de.candidates=[{content:{role:"user",parts:Te}}],yield yield st(de);const Ve=[];Ve.push(...ze),Ve.push({role:"user",parts:Te});const Me=Sn(A.contents).concat(Ve);A.contents=Me}else break}})}(this,x,e)}async generateContentInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=Eh(this.apiClient,e);return v=re("{model}:generateContent",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>{const A=Mh(T),M=new yl;return Object.assign(M,A),M})}else{const h=Ah(this.apiClient,e);return v=re("{model}:generateContent",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>{const A=Nh(T),M=new yl;return Object.assign(M,A),M})}}async generateContentStreamInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=Eh(this.apiClient,e);return v=re("{model}:streamGenerateContent?alt=sse",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.requestStream({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),g.then(function(A){return rs(this,arguments,function*(){var M,V,$,j;try{for(var Q=!0,ae=vl(A),se;se=yield st(ae.next()),M=se.done,!M;Q=!0){j=se.value,Q=!1;const ce=Mh(yield st(j.json())),Z=new yl;Object.assign(Z,ce),yield yield st(Z)}}catch(ie){V={error:ie}}finally{try{!Q&&!M&&($=ae.return)&&(yield st($.call(ae)))}finally{if(V)throw V.error}}})})}else{const h=Ah(this.apiClient,e);return v=re("{model}:streamGenerateContent?alt=sse",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.requestStream({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}),g.then(function(A){return rs(this,arguments,function*(){var M,V,$,j;try{for(var Q=!0,ae=vl(A),se;se=yield st(ae.next()),M=se.done,!M;Q=!0){j=se.value,Q=!1;const ce=Nh(yield st(j.json())),Z=new yl;Object.assign(Z,ce),yield yield st(Z)}}catch(ie){V={error:ie}}finally{try{!Q&&!M&&($=ae.return)&&(yield st($.call(ae)))}finally{if(V)throw V.error}}})})}}async embedContent(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=g2(this.apiClient,e);return v=re("{model}:predict",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>{const A=CA(T),M=new ih;return Object.assign(M,A),M})}else{const h=wS(this.apiClient,e);return v=re("{model}:batchEmbedContents",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>{const A=Q2(T),M=new ih;return Object.assign(M,A),M})}}async generateImagesInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=v2(this.apiClient,e);return v=re("{model}:predict",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>{const A=AA(T),M=new oh;return Object.assign(M,A),M})}else{const h=DS(this.apiClient,e);return v=re("{model}:predict",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>{const A=eA(T),M=new oh;return Object.assign(M,A),M})}}async editImageInternal(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI()){const v=N2(this.apiClient,e);return p=re("{model}:predict",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const h=EA(x),T=new wv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI()){const v=_2(this.apiClient,e);return p=re("{model}:predict",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const h=NA(x),T=new Rv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=b2(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>Cc(T))}else{const h=IS(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>Tc(T))}}async listInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=R2(this.apiClient,e);return v=re("{models_url}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>{const A=wA(T),M=new sh;return Object.assign(M,A),M})}else{const h=kS(this.apiClient,e);return v=re("{models_url}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>{const A=nA(T),M=new sh;return Object.assign(M,A),M})}}async update(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=I2(this.apiClient,e);return v=re("{model}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>Cc(T))}else{const h=LS(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>Tc(T))}}async delete(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=P2(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(()=>{const T=RA(),A=new lh;return Object.assign(A,T),A})}else{const h=VS(this.apiClient,e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(()=>{const T=iA(),A=new lh;return Object.assign(A,T),A})}}async countTokens(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=U2(this.apiClient,e);return v=re("{model}:countTokens",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>{const A=DA(T),M=new ah;return Object.assign(M,A),M})}else{const h=GS(this.apiClient,e);return v=re("{model}:countTokens",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>{const A=oA(T),M=new ah;return Object.assign(M,A),M})}}async computeTokens(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI()){const v=L2(this.apiClient,e);return p=re("{model}:computeTokens",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const h=IA(x),T=new Dv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=G2(this.apiClient,e);return v=re("{model}:predictLongRunning",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>LA(T))}else{const h=HS(this.apiClient,e);return v=re("{model}:predictLongRunning",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>rA(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uE(i){const e={},o=a(i,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=a(i,["config"]);return l!=null&&r(e,["config"],l),e}function cE(i){const e={},o=a(i,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=a(i,["config"]);return l!=null&&r(e,["config"],l),e}function fE(i){const e={},o=a(i,["operationName"]);o!=null&&r(e,["operationName"],o);const l=a(i,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const c=a(i,["config"]);return c!=null&&r(e,["config"],c),e}function dE(i){const e={},o=a(i,["video","uri"]);o!=null&&r(e,["uri"],o);const l=a(i,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],ri(l));const c=a(i,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function mE(i){const e={},o=a(i,["_self"]);return o!=null&&r(e,["video"],dE(o)),e}function pE(i){const e={},o=a(i,["generatedSamples"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(g=>mE(g))),r(e,["generatedVideos"],p)}const l=a(i,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(i,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function hE(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(i,["done"]);c!=null&&r(e,["done"],c);const p=a(i,["error"]);p!=null&&r(e,["error"],p);const g=a(i,["response","generateVideoResponse"]);return g!=null&&r(e,["response"],pE(g)),e}function gE(i){const e={},o=a(i,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=a(i,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],ri(l));const c=a(i,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function yE(i){const e={},o=a(i,["_self"]);return o!=null&&r(e,["video"],gE(o)),e}function vE(i){const e={},o=a(i,["videos"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(g=>yE(g))),r(e,["generatedVideos"],p)}const l=a(i,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(i,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Ih(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(i,["done"]);c!=null&&r(e,["done"],c);const p=a(i,["error"]);p!=null&&r(e,["error"],p);const g=a(i,["response"]);return g!=null&&r(e,["response"],vE(g)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xE extends po{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let p;return l&&"httpOptions"in l&&(p=l.httpOptions),this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:p}})}else return this.getVideosOperationInternal({operationName:o.name,config:l})}async getVideosOperationInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=cE(e);return v=re("{operationName}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>Ih(T))}else{const h=uE(e);return v=re("{operationName}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>hE(T))}}async fetchPredictVideosOperationInternal(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI()){const v=fE(e);return p=re("{resourceName}:fetchPredictOperation",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Ih(x))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TE(i){const e={},o=a(i,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function mg(i){const e={},o=a(i,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],TE(o)),e}function CE(i){const e={},o=a(i,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(i,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],mg(l)),e}function SE(i){const e={},o=a(i,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>CE(c))),r(e,["speakerVoiceConfigs"],l)}return e}function AE(i){const e={},o=a(i,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],mg(o));const l=a(i,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],SE(l));const c=a(i,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function EE(i){const e={},o=a(i,["fps"]);o!=null&&r(e,["fps"],o);const l=a(i,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(i,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function NE(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["data"]);o!=null&&r(e,["data"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ME(i){const e={};if(a(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(i,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(i,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function _E(i){const e={},o=a(i,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],EE(o));const l=a(i,["thought"]);l!=null&&r(e,["thought"],l);const c=a(i,["inlineData"]);c!=null&&r(e,["inlineData"],NE(c));const p=a(i,["fileData"]);p!=null&&r(e,["fileData"],ME(p));const g=a(i,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=a(i,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const x=a(i,["executableCode"]);x!=null&&r(e,["executableCode"],x);const h=a(i,["functionCall"]);h!=null&&r(e,["functionCall"],h);const T=a(i,["functionResponse"]);T!=null&&r(e,["functionResponse"],T);const A=a(i,["text"]);return A!=null&&r(e,["text"],A),e}function bE(i){const e={},o=a(i,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>_E(p))),r(e,["parts"],c)}const l=a(i,["role"]);return l!=null&&r(e,["role"],l),e}function wE(i){const e={},o=a(i,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(i,["description"]);l!=null&&r(e,["description"],l);const c=a(i,["name"]);c!=null&&r(e,["name"],c);const p=a(i,["parameters"]);p!=null&&r(e,["parameters"],p);const g=a(i,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=a(i,["response"]);v!=null&&r(e,["response"],v);const x=a(i,["responseJsonSchema"]);return x!=null&&r(e,["responseJsonSchema"],x),e}function RE(i){const e={},o=a(i,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(i,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function DE(i){const e={},o=a(i,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],RE(o)),e}function IE(i){const e={},o=a(i,["mode"]);o!=null&&r(e,["mode"],o);const l=a(i,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function PE(i){const e={},o=a(i,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],IE(o)),e}function kE(){return{}}function UE(i){const e={},o=a(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(h=>wE(h))),r(e,["functionDeclarations"],x)}if(a(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(i,["googleSearch"]);l!=null&&r(e,["googleSearch"],DE(l));const c=a(i,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],PE(c)),a(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(i,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(i,["urlContext"])!=null&&r(e,["urlContext"],kE());const g=a(i,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=a(i,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function LE(i){const e={},o=a(i,["handle"]);if(o!=null&&r(e,["handle"],o),a(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ph(){return{}}function VE(i){const e={},o=a(i,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(i,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(i,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const p=a(i,["prefixPaddingMs"]);p!=null&&r(e,["prefixPaddingMs"],p);const g=a(i,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function qE(i){const e={},o=a(i,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],VE(o));const l=a(i,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(i,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function GE(i){const e={},o=a(i,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function BE(i){const e={},o=a(i,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(i,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],GE(l)),e}function zE(i){const e={},o=a(i,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function HE(i,e){const o={},l=a(i,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(i,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const p=a(i,["temperature"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","temperature"],p);const g=a(i,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const v=a(i,["topK"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","topK"],v);const x=a(i,["maxOutputTokens"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","maxOutputTokens"],x);const h=a(i,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const T=a(i,["seed"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","seed"],T);const A=a(i,["speechConfig"]);e!==void 0&&A!=null&&r(e,["setup","generationConfig","speechConfig"],AE(_c(A)));const M=a(i,["enableAffectiveDialog"]);e!==void 0&&M!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],M);const V=a(i,["systemInstruction"]);e!==void 0&&V!=null&&r(e,["setup","systemInstruction"],bE($t(V)));const $=a(i,["tools"]);if(e!==void 0&&$!=null){let Z=cs($);Array.isArray(Z)&&(Z=Z.map(Ne=>UE(us(Ne)))),r(e,["setup","tools"],Z)}const j=a(i,["sessionResumption"]);e!==void 0&&j!=null&&r(e,["setup","sessionResumption"],LE(j));const Q=a(i,["inputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","inputAudioTranscription"],Ph());const ae=a(i,["outputAudioTranscription"]);e!==void 0&&ae!=null&&r(e,["setup","outputAudioTranscription"],Ph());const se=a(i,["realtimeInputConfig"]);e!==void 0&&se!=null&&r(e,["setup","realtimeInputConfig"],qE(se));const ie=a(i,["contextWindowCompression"]);e!==void 0&&ie!=null&&r(e,["setup","contextWindowCompression"],BE(ie));const ce=a(i,["proactivity"]);return e!==void 0&&ce!=null&&r(e,["setup","proactivity"],zE(ce)),o}function OE(i,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Xe(i,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],HE(c,o)),o}function FE(i,e,o){const l={},c=a(e,["expireTime"]);o!==void 0&&c!=null&&r(o,["expireTime"],c);const p=a(e,["newSessionExpireTime"]);o!==void 0&&p!=null&&r(o,["newSessionExpireTime"],p);const g=a(e,["uses"]);o!==void 0&&g!=null&&r(o,["uses"],g);const v=a(e,["liveConnectConstraints"]);o!==void 0&&v!=null&&r(o,["bidiGenerateContentSetup"],OE(i,v));const x=a(e,["lockAdditionalFields"]);return o!==void 0&&x!=null&&r(o,["fieldMask"],x),l}function $E(i,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],FE(i,l,o)),o}function YE(i){const e={},o=a(i,["name"]);return o!=null&&r(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JE(i){const e=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const l=i[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(p=>`${o}.${p}`);e.push(...c)}else e.push(o)}return e.join(",")}function KE(i,e){let o=null;const l=i.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const p=l.setup;typeof p=="object"&&p!==null?(i.bidiGenerateContentSetup=p,o=p):delete i.bidiGenerateContentSetup}else l!==void 0&&delete i.bidiGenerateContentSetup;const c=i.fieldMask;if(o){const p=JE(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)p?i.fieldMask=p:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const g=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let v=[];c.length>0&&(v=c.map(h=>g.includes(h)?`generationConfig.${h}`:h));const x=[];p&&x.push(p),v.length>0&&x.push(...v),x.length>0?i.fieldMask=x.join(","):delete i.fieldMask}else delete i.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?i.fieldMask=c.join(","):delete i.fieldMask;return i}class jE extends po{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const v=$E(this.apiClient,e);p=re("auth_tokens",v._url),g=v._query,delete v.config,delete v._url,delete v._query;const x=KE(v,e.config);return c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>YE(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XE(i){const e={},o=a(i,["name"]);o!=null&&r(e,["_url","name"],o);const l=a(i,["config"]);return l!=null&&r(e,["config"],l),e}function QE(i,e){const o={},l=a(i,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(i,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const p=a(i,["filter"]);return e!==void 0&&p!=null&&r(e,["_query","filter"],p),o}function ZE(i){const e={},o=a(i,["config"]);return o!=null&&r(e,["config"],QE(o,e)),e}function WE(i){const e={},o=a(i,["textInput"]);o!=null&&r(e,["textInput"],o);const l=a(i,["output"]);return l!=null&&r(e,["output"],l),e}function eN(i){const e={};if(a(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=a(i,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>WE(c))),r(e,["examples","examples"],l)}return e}function tN(i,e){const o={};if(a(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(i,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),a(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=a(i,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const p=a(i,["learningRateMultiplier"]);if(p!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],p),a(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=a(i,["batchSize"]);e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","batchSize"],g);const v=a(i,["learningRate"]);return e!==void 0&&v!=null&&r(e,["tuningTask","hyperparameters","learningRate"],v),o}function nN(i){const e={},o=a(i,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(i,["trainingDataset"]);l!=null&&r(e,["tuningTask","trainingData"],eN(l));const c=a(i,["config"]);return c!=null&&r(e,["config"],tN(c,e)),e}function iN(i){const e={},o=a(i,["name"]);o!=null&&r(e,["_url","name"],o);const l=a(i,["config"]);return l!=null&&r(e,["config"],l),e}function oN(i,e){const o={},l=a(i,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(i,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const p=a(i,["filter"]);return e!==void 0&&p!=null&&r(e,["_query","filter"],p),o}function sN(i){const e={},o=a(i,["config"]);return o!=null&&r(e,["config"],oN(o,e)),e}function lN(i,e){const o={},l=a(i,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=a(i,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),a(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function aN(i,e){const o={},l=a(i,["gcsUri"]);l!=null&&r(o,["validationDatasetUri"],l);const c=a(i,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function rN(i,e){const o={},l=a(i,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],aN(l,o));const c=a(i,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const p=a(i,["description"]);e!==void 0&&p!=null&&r(e,["description"],p);const g=a(i,["epochCount"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],g);const v=a(i,["learningRateMultiplier"]);e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const x=a(i,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x);const h=a(i,["adapterSize"]);if(e!==void 0&&h!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),a(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function uN(i){const e={},o=a(i,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(i,["trainingDataset"]);l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],lN(l,e));const c=a(i,["config"]);return c!=null&&r(e,["config"],rN(c,e)),e}function cN(i){const e={},o=a(i,["name"]);o!=null&&r(e,["model"],o);const l=a(i,["name"]);return l!=null&&r(e,["endpoint"],l),e}function pg(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["state"]);l!=null&&r(e,["state"],$h(l));const c=a(i,["createTime"]);c!=null&&r(e,["createTime"],c);const p=a(i,["tuningTask","startTime"]);p!=null&&r(e,["startTime"],p);const g=a(i,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const v=a(i,["updateTime"]);v!=null&&r(e,["updateTime"],v);const x=a(i,["description"]);x!=null&&r(e,["description"],x);const h=a(i,["baseModel"]);h!=null&&r(e,["baseModel"],h);const T=a(i,["_self"]);T!=null&&r(e,["tunedModel"],cN(T));const A=a(i,["distillationSpec"]);A!=null&&r(e,["distillationSpec"],A);const M=a(i,["experiment"]);M!=null&&r(e,["experiment"],M);const V=a(i,["labels"]);V!=null&&r(e,["labels"],V);const $=a(i,["pipelineJob"]);$!=null&&r(e,["pipelineJob"],$);const j=a(i,["satisfiesPzi"]);j!=null&&r(e,["satisfiesPzi"],j);const Q=a(i,["satisfiesPzs"]);Q!=null&&r(e,["satisfiesPzs"],Q);const ae=a(i,["serviceAccount"]);ae!=null&&r(e,["serviceAccount"],ae);const se=a(i,["tunedModelDisplayName"]);return se!=null&&r(e,["tunedModelDisplayName"],se),e}function fN(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>pg(p))),r(e,["tuningJobs"],c)}return e}function dN(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(i,["done"]);c!=null&&r(e,["done"],c);const p=a(i,["error"]);return p!=null&&r(e,["error"],p),e}function mN(i){const e={},o=a(i,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=a(i,["epoch"]);l!=null&&r(e,["epoch"],l);const c=a(i,["step"]);c!=null&&r(e,["step"],c);const p=a(i,["endpoint"]);return p!=null&&r(e,["endpoint"],p),e}function pN(i){const e={},o=a(i,["model"]);o!=null&&r(e,["model"],o);const l=a(i,["endpoint"]);l!=null&&r(e,["endpoint"],l);const c=a(i,["checkpoints"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>mN(g))),r(e,["checkpoints"],p)}return e}function Ac(i){const e={},o=a(i,["name"]);o!=null&&r(e,["name"],o);const l=a(i,["state"]);l!=null&&r(e,["state"],$h(l));const c=a(i,["createTime"]);c!=null&&r(e,["createTime"],c);const p=a(i,["startTime"]);p!=null&&r(e,["startTime"],p);const g=a(i,["endTime"]);g!=null&&r(e,["endTime"],g);const v=a(i,["updateTime"]);v!=null&&r(e,["updateTime"],v);const x=a(i,["error"]);x!=null&&r(e,["error"],x);const h=a(i,["description"]);h!=null&&r(e,["description"],h);const T=a(i,["baseModel"]);T!=null&&r(e,["baseModel"],T);const A=a(i,["tunedModel"]);A!=null&&r(e,["tunedModel"],pN(A));const M=a(i,["supervisedTuningSpec"]);M!=null&&r(e,["supervisedTuningSpec"],M);const V=a(i,["tuningDataStats"]);V!=null&&r(e,["tuningDataStats"],V);const $=a(i,["encryptionSpec"]);$!=null&&r(e,["encryptionSpec"],$);const j=a(i,["partnerModelTuningSpec"]);j!=null&&r(e,["partnerModelTuningSpec"],j);const Q=a(i,["distillationSpec"]);Q!=null&&r(e,["distillationSpec"],Q);const ae=a(i,["experiment"]);ae!=null&&r(e,["experiment"],ae);const se=a(i,["labels"]);se!=null&&r(e,["labels"],se);const ie=a(i,["pipelineJob"]);ie!=null&&r(e,["pipelineJob"],ie);const ce=a(i,["satisfiesPzi"]);ce!=null&&r(e,["satisfiesPzi"],ce);const Z=a(i,["satisfiesPzs"]);Z!=null&&r(e,["satisfiesPzs"],Z);const Ne=a(i,["serviceAccount"]);Ne!=null&&r(e,["serviceAccount"],Ne);const Te=a(i,["tunedModelDisplayName"]);return Te!=null&&r(e,["tunedModelDisplayName"],Te),e}function hN(i){const e={},o=a(i,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const l=a(i,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>Ac(p))),r(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gN extends po{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new xl(mo.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:mc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=iN(e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>Ac(T))}else{const h=XE(e);return v=re("{name}",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>pg(T))}}async listInternal(e){var o,l,c,p;let g,v="",x={};if(this.apiClient.isVertexAI()){const h=sN(e);return v=re("tuningJobs",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),g.then(T=>{const A=hN(T),M=new rh;return Object.assign(M,A),M})}else{const h=ZE(e);return v=re("tunedModels",h._url),x=h._query,delete h.config,delete h._url,delete h._query,g=this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(T=>T.json()),g.then(T=>{const A=fN(T),M=new rh;return Object.assign(M,A),M})}}async tuneInternal(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI()){const v=uN(e);return p=re("tuningJobs",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Ac(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let c,p="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=nN(e);return p=re("tunedModels",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>dN(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yN{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vN=1024*1024*8,xN=3,TN=1e3,CN=2,fc="x-goog-upload-status";async function SN(i,e,o){var l,c,p;let g=0,v=0,x=new pc(new Response),h="upload";for(g=i.size;v<g;){const A=Math.min(vN,g-v),M=i.slice(v,v+A);v+A>=g&&(h+=", finalize");let V=0,$=TN;for(;V<xN&&(x=await o.request({path:"",body:M,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(v),"Content-Length":String(A)}}}),!(!((l=x==null?void 0:x.headers)===null||l===void 0)&&l[fc]));)V++,await EN($),$=$*CN;if(v+=A,((c=x==null?void 0:x.headers)===null||c===void 0?void 0:c[fc])!=="active")break;if(g<=v)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const T=await(x==null?void 0:x.json());if(((p=x==null?void 0:x.headers)===null||p===void 0?void 0:p[fc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return T.file}async function AN(i){return{size:i.size,type:i.type}}function EN(i){return new Promise(e=>setTimeout(e,i))}class NN{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SN(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MN{create(e,o,l){return new _N(e,o,l)}}class _N{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kh="x-goog-api-key";class bN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(kh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(kh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wN="gl-node/";class Uh{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=bv(e,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new bN(this.apiKey);this.apiClient=new FA({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:wN+"web",uploader:new NN,downloader:new yN}),this.models=new rE(this.apiClient),this.live=new iE(this.apiClient,c,new MN),this.batches=new Qx(this.apiClient),this.chats=new tT(this.models,this.apiClient),this.caches=new Z1(this.apiClient),this.files=new pT(this.apiClient),this.operations=new xE(this.apiClient),this.authTokens=new jE(this.apiClient),this.tunings=new gN(this.apiClient)}}var RN={};let Ja;try{typeof process<"u"&&typeof RN<"u"&&(Ja=void 0)}catch(i){console.warn("Error accessing process.env.API_KEY. AI features might be affected.",i)}const DN=new Set(["81.19.208.112","45.146.54.61","185.220.101.188","169.150.219.149","209.141.45.189","5.189.140.45","163.125.203.239","195.80.150.186","172.98.33.101","181.41.206.140","216.24.212.177","154.16.192.215","156.146.45.112","80.246.28.92","91.132.22.237","157.97.134.73","146.70.52.202","185.153.177.33","95.181.238.95","172.94.87.70","36.104.198.27","193.43.135.246","102.129.153.107","134.19.179.155","140.228.24.215","2.56.252.242","217.146.90.10","79.142.197.173","84.53.229.249","31.170.22.21","175.10.18.144","116.98.116.44","156.146.56.118","154.16.192.31","46.166.191.25","37.120.210.219","173.239.218.3","81.162.64.120","37.19.199.65","37.120.233.252","120.229.32.100","94.134.181.133","140.228.24.171","68.235.48.108","101.71.38.244","91.90.44.25","136.158.10.127","178.249.214.137","84.17.46.192","193.32.249.163","95.174.65.157","136.144.35.232","140.228.24.24","172.98.92.52","172.98.33.77","219.100.37.240","194.61.41.27","45.8.68.59","84.17.46.220","185.225.234.37","154.47.24.79","5.182.32.55","196.240.54.6","84.247.59.197","162.221.207.99","213.152.187.230","66.115.189.171","112.132.249.170","102.129.252.137","84.17.46.27","51.79.240.216","109.202.99.41","217.138.192.219","191.96.106.164","185.199.103.89","194.156.136.42","102.129.145.79","185.202.220.45","138.199.62.3","37.19.221.32","212.102.46.213","162.216.47.203","195.181.172.204","223.252.34.57","154.16.192.112","46.166.191.29","138.199.60.166","181.214.94.104","212.7.202.204","192.109.205.223","156.146.60.135","223.73.64.230","178.249.214.10","172.98.87.242","192.99.4.116","138.199.60.10","117.5.152.164","223.252.34.41","191.101.31.235","45.132.225.245","149.57.16.187","77.81.142.13","185.236.42.52","45.87.214.100","185.65.134.167","85.95.179.59","185.107.80.201","85.194.207.76","46.166.191.26","185.218.127.161","157.97.121.221","217.138.252.205","193.37.253.60","172.93.177.172","179.6.164.5","95.111.230.250","181.41.206.225","77.234.43.189","83.220.239.26","31.206.121.191","136.144.17.183","156.146.60.79","193.37.33.137","84.17.52.84","213.21.209.40","157.254.225.137","157.97.134.109","193.176.31.125","149.34.253.149","185.220.101.154","216.24.212.146","181.214.150.104","154.16.192.57","185.203.122.184","178.249.214.138","193.176.31.60","172.93.207.197","178.239.163.110","181.214.166.146","194.61.41.74","159.253.173.154","45.8.68.39","154.6.89.152","189.201.145.130","188.213.34.5","213.152.176.252","192.166.244.244","149.57.16.156","213.232.87.230","157.97.134.156","176.100.43.56","169.150.232.188","79.142.69.236","91.90.126.84","89.238.186.122","192.145.116.249","185.153.176.212","143.244.48.4","181.41.206.181","79.173.88.48","46.166.191.27","149.36.49.174","191.96.206.23","172.93.207.45","185.203.218.159","185.220.100.251","157.97.134.45","169.150.196.18","77.40.62.85","178.249.214.130","154.6.95.8","181.41.202.137","154.16.192.188","185.23.214.43","81.19.208.84","37.19.217.245","106.8.130.229","165.231.182.146","193.56.116.217","37.19.196.102","2.63.249.198","85.174.203.197","159.48.55.5","103.231.88.22","161.129.70.219","102.129.235.75","146.70.97.248","154.6.83.17","77.222.107.192","191.101.41.30","178.214.246.84","188.126.94.109","185.107.44.212","37.19.200.26","43.225.189.87","59.173.200.234","5.182.110.23","191.96.255.138","95.181.238.12","163.125.203.248","138.199.24.6","138.199.10.10","37.120.246.135","193.19.205.174","185.107.44.18","146.70.34.90","101.71.38.52","174.240.251.6","115.56.112.241","192.145.117.51","154.6.82.8","188.191.238.51","23.26.222.70","185.236.42.26","193.19.109.129","156.146.57.44","212.102.35.16","45.133.180.10","193.176.31.68","185.177.124.148","185.225.234.39","136.144.42.155","216.131.84.27","185.162.184.14","184.170.241.107","176.113.72.213","84.17.47.120","45.134.140.142","185.132.134.202","45.91.23.141","185.210.143.133","45.85.144.247","117.120.9.38","213.87.160.4","185.216.34.214","146.70.65.145","94.140.8.239","185.229.59.129","185.219.143.181","185.77.217.75","37.140.223.198","79.142.69.160","178.175.128.44","172.98.92.62","103.163.220.33","59.153.220.18","37.19.217.41","94.140.8.217","45.132.226.197","82.180.149.203","94.140.8.156","191.96.37.164","185.236.42.43","157.97.121.109","185.236.42.55","181.214.218.187","2.57.171.45","154.28.188.136","184.170.252.201","94.46.24.59","82.118.30.80","192.166.244.241","102.129.152.99","169.150.204.4","195.200.245.17","212.102.39.154","120.233.127.196","173.239.254.196","191.96.103.149","194.233.98.20","192.166.247.92","178.72.71.22","85.93.59.224","191.96.168.75","36.153.85.5","185.189.114.94","188.126.73.217","109.70.150.100","23.152.225.6","138.199.29.231","159.242.228.184","38.242.7.253","91.234.192.236","184.170.242.25","176.67.84.5","125.201.224.54","140.250.206.85","185.15.38.89","143.244.44.61","192.166.246.12","185.202.221.62","89.37.173.42","185.146.232.168","73.93.39.154","208.78.42.217","82.102.23.158","173.245.217.76","71.19.251.161","91.219.214.172","45.130.203.200","173.255.175.7","172.58.139.95","104.254.90.203","196.196.232.10","188.241.177.107","23.129.64.250","185.215.181.223","199.59.243.222","192.142.227.18","91.90.126.79","184.75.221.211","157.97.134.116","198.54.133.35","194.32.122.23","89.46.223.184","173.244.49.17","154.6.82.145","185.213.82.115","173.255.172.157","23.152.225.11","146.70.137.42","216.73.160.236","5.182.110.171","216.24.212.16","85.9.20.135","85.9.20.149","87.249.134.10","213.152.161.170","102.129.235.27","45.144.113.48","75.184.103.239","5.182.110.124","185.211.32.2","191.96.36.105","193.43.135.104","85.24.253.49","213.232.87.234","37.19.221.83","43.239.85.192","178.17.170.169","125.206.32.30","84.17.37.157","1.165.96.74","193.176.31.78","185.153.151.147","185.206.225.235","77.81.142.29","102.129.143.60","81.162.64.208","159.242.228.94","188.126.73.222","195.200.221.44","51.158.22.143","121.228.196.44","181.215.176.114","85.203.34.137","208.78.41.68","107.189.5.217","185.132.179.9","212.102.53.84","31.173.86.103","200.105.82.83","156.146.45.101","188.241.177.252","181.214.94.93","172.98.80.125","148.72.164.107","86.48.12.211","178.249.214.136","194.187.251.155","185.236.42.31","143.244.42.95","185.84.35.218","156.146.46.204","176.100.43.129","185.21.216.197","138.199.22.146","216.73.161.122","181.214.150.107","85.9.20.248","154.6.85.27","58.221.37.66","45.248.78.197","185.65.134.165","173.239.214.125","180.248.3.85","176.67.86.91","212.102.47.9","92.60.40.227","212.102.47.84","185.223.152.36","185.153.179.59","45.146.54.173","136.144.35.124","102.129.153.61","212.102.40.77","156.146.54.200","157.97.134.163","185.229.59.86","143.244.42.104","199.58.83.12","5.62.43.111","91.90.126.4","178.255.168.226","173.239.196.161","178.255.154.106","185.65.135.157","188.214.152.69","213.232.87.228","62.182.82.10","92.119.36.30","185.254.75.55","41.216.202.180","80.78.26.147","118.160.6.199","185.153.179.17","181.214.94.206","122.177.111.205","91.90.126.132","185.216.74.10","143.244.44.70","103.204.169.244","112.118.234.84","37.140.254.21","199.249.230.27","188.170.76.124","116.27.219.130","163.125.203.246","178.255.154.181","91.218.89.89","192.145.116.26","212.188.11.146","77.247.246.213","154.6.95.147","195.181.162.163","91.90.120.135","212.102.42.90"]),fe=["critical","suspicious","warning","safe","unknown"],ss=i=>{switch(i){case"critical":return"text-red-700";case"suspicious":return"text-orange-700";case"warning":return"text-yellow-700";case"safe":case"unknown":return"text-gray-800";default:return"text-gray-800"}},IN=()=>{var Pl;const[i,e]=oe.useState(null),[o,l]=oe.useState(null),[c,p]=oe.useState([]),[g,v]=oe.useState(()=>{try{return localStorage.getItem("gemini-api-key")||""}catch(y){return console.warn("Error accessing localStorage for API key:",y),""}}),[x,h]=oe.useState(null),[T,A]=oe.useState(!1),[M,V]=oe.useState(""),[$,j]=oe.useState(!1),[Q,ae]=oe.useState(()=>{try{const y=localStorage.getItem("threat-intel-lists");return y?JSON.parse(y,(_,E)=>_==="dateAdded"||_==="dateCreated"||_==="dateModified"?new Date(E):E):[]}catch(y){return console.warn("Error loading threat intel lists from localStorage:",y),[]}}),[se,ie]=oe.useState(null),[ce,Z]=oe.useState(!1),[Ne,Te]=oe.useState(!1),[ze,de]=oe.useState(""),[Ve,Me]=oe.useState(""),[Ce,Rt]=oe.useState({ip:"",description:"",severity:"medium",source:"",tags:[]}),[Wt,$e]=oe.useState(!1),[q,te]=oe.useState("overallRisk"),[pe,Ye]=oe.useState("all"),[w,K]=oe.useState(""),[ne,ee]=oe.useState({}),[me,_e]=oe.useState(null),[xe,Vt]=oe.useState(!1),[Qe,St]=oe.useState(null),[ui,ci]=oe.useState(!1),[ho,qn]=oe.useState({}),[fi,ms]=oe.useState({}),[Tl,vt]=oe.useState({}),[go,Gn]=oe.useState({}),[yo,Bi]=oe.useState(""),[An,ps]=oe.useState(""),[zi,cn]=oe.useState([]),[Hi,xt]=oe.useState({}),[At,Dt]=oe.useState(null),[vo,Oi]=oe.useState("all"),[xo,bn]=oe.useState(""),[Fi,qt]=oe.useState({}),[Bn,fn]=oe.useState({}),[hs,Cl]=oe.useState(null),Sl=y=>{try{localStorage.setItem("gemini-api-key",y),v(y),h(null)}catch(_){console.error("Error saving API key to localStorage:",_)}},gs=async y=>{if(!y.trim())return h(!1),!1;A(!0);try{return await new Uh({apiKey:y}).models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:"Test"}),h(!0),!0}catch(_){return console.error("API key validation failed:",_),h(!1),!1}finally{A(!1)}},dn=y=>{try{localStorage.setItem("threat-intel-lists",JSON.stringify(y)),ae(y)}catch(_){console.error("Error saving threat intel lists to localStorage:",_)}},Wa=()=>{if(!ze.trim())return;const y={id:`list-${Date.now()}`,name:ze.trim(),description:Ve.trim(),entries:[],isActive:!0,dateCreated:new Date,dateModified:new Date},_=[...Q,y];dn(_),de(""),Me(""),Z(!1),ie(y.id)},Al=y=>{const _=Q.filter(E=>E.id!==y);dn(_),se===y&&ie(null)},El=y=>{const _=Q.map(E=>E.id===y?{...E,isActive:!E.isActive,dateModified:new Date}:E);dn(_)},ys=()=>{var E,D,H;if(!se||!((E=Ce.ip)!=null&&E.trim()))return;const y={id:`entry-${Date.now()}`,ip:Ce.ip.trim(),description:((D=Ce.description)==null?void 0:D.trim())||"",severity:Ce.severity||"medium",source:((H=Ce.source)==null?void 0:H.trim())||"User Added",dateAdded:new Date,tags:Ce.tags||[]},_=Q.map(L=>L.id===se?{...L,entries:[...L.entries,y],dateModified:new Date}:L);dn(_),Rt({ip:"",description:"",severity:"medium",source:"",tags:[]}),Te(!1)},vs=(y,_)=>{const E=Q.map(D=>D.id===y?{...D,entries:D.entries.filter(H=>H.id!==_),dateModified:new Date}:D);dn(E)},To=y=>/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(?:\/(?:[0-9]|[1-2][0-9]|3[0-2]))?$/.test(y),Et=y=>{if(DN.has(y))return{id:`hardcoded-${y}`,ip:y,description:"Known malicious IP from built-in threat intelligence",severity:"critical",source:"Built-in Threat Intel",dateAdded:new Date,tags:["malicious","built-in"]};for(const _ of Q)if(_.isActive){for(const E of _.entries)if(E.ip===y||E.ip.includes("/")&&wn(y,E.ip))return E}return null},wn=(y,_)=>{if(!_.includes("/"))return y===_;try{const[E,D]=_.split("/"),H=E.split(".").map(Number),L=y.split(".").map(Number),P=parseInt(D),O=H[0]<<24|H[1]<<16|H[2]<<8|H[3],b=L[0]<<24|L[1]<<16|L[2]<<8|L[3],X=-1<<32-P>>>0;return(O&X)===(b&X)}catch{return!1}},Nt=y=>{const _=Et(y);if(!_)return null;const E={low:"bg-yellow-100 text-yellow-800 border-yellow-300",medium:"bg-orange-100 text-orange-800 border-orange-300",high:"bg-red-100 text-red-800 border-red-300",critical:"bg-red-200 text-red-900 border-red-400"};return d.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${E[_.severity]} ml-2`,children:[d.jsx(is,{className:"w-3 h-3 mr-1"}),"Threat Intel: ",_.severity,_.source!=="Built-in Threat Intel"&&d.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",_.source,")"]})]})},Gt=()=>{const y=JSON.stringify(Q,null,2),_=new Blob([y],{type:"application/json"}),E=URL.createObjectURL(_),D=document.createElement("a");D.href=E,D.download=`threat-intel-lists-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(E)},di=y=>{var D;const _=(D=y.target.files)==null?void 0:D[0];if(!_)return;const E=new FileReader;E.onload=H=>{var L;try{const P=JSON.parse((L=H.target)==null?void 0:L.result);if(Array.isArray(P)){const O=P.map(W=>({...W,id:W.id||`imported-${Date.now()}-${Math.random()}`,dateCreated:new Date(W.dateCreated||Date.now()),dateModified:new Date(W.dateModified||Date.now()),entries:(W.entries||[]).map(Ae=>({...Ae,id:Ae.id||`entry-${Date.now()}-${Math.random()}`,dateAdded:new Date(Ae.dateAdded||Date.now())}))})),b=new Set(Q.map(W=>W.id)),X=O.filter(W=>!b.has(W.id)),B=[...Q,...X];dn(B),alert(`Successfully imported ${X.length} threat intelligence lists.`)}else alert("Invalid file format. Expected an array of threat intelligence lists.")}catch(P){console.error("Error importing threat intel lists:",P),alert("Error importing file. Please check the file format.")}},E.readAsText(_),y.target.value=""},lt=Ja||g,pt=oe.useMemo(()=>lt?new Uh({apiKey:lt}):(console.warn("No API key available. AI features will be disabled."),null),[lt]),er=y=>{var E;const _=(E=y.target.files)==null?void 0:E[0];_&&e(_)},Co=()=>{e(null);const y=document.getElementById("file-upload");y&&(y.value="")},$i=()=>{e(null),l(null),p([]),ee({}),_e(null),St(null),qn({}),ms({}),vt({}),Gn({}),Bi(""),ps(""),cn([]),xt({}),Dt(null),Oi("all"),bn(""),qt({}),fn({}),h(null),A(!1);const y=document.getElementById("file-upload");y&&(y.value="")},So=oe.useCallback(y=>{const _=y.split(`
`),E=[],D={windows:/^\s*(TCP|UDP)\s+/i,linux:/^\s*(tcp|udp|tcp6|udp6)\s+/i,macos:/^\s*(tcp4|udp4|tcp6|udp6|tcp|udp)\s+/i};let H="generic";for(const L of _){const P=L.trim();if(D.windows.test(P)){H="windows";break}else if(D.linux.test(P)){H="linux";break}else if(D.macos.test(P)){H="macos";break}}for(const L of _){const P=L.trim();let O=!1;if((!P||P.toLowerCase().includes("proto")&&(P.toLowerCase().includes("address")||P.toLowerCase().includes("state"))||P.toLowerCase().includes("active connections")||P.toLowerCase().includes("listening ports")||P.toLowerCase().includes("executing netstat")||P.match(/^----/)||P.toLowerCase().startsWith("client ip address:"))&&(O=!0),O||(H==="windows"&&!D.windows.test(P)||H==="linux"&&!D.linux.test(P)||H==="macos"&&!D.macos.test(P))&&(O=!0),O)continue;const b=P.split(/\s+/);if(b.length<3&&H==="windows"&&b[0].toUpperCase()!=="UDP"||b.length<3&&H!=="windows")continue;let X=null;if(H==="windows")b.length>=3&&(X={protocol:b[0].toUpperCase(),localAddress:b[1],foreignAddress:b[2],state:b[3]||(b[0].toUpperCase()==="UDP"?"":"UNKNOWN"),pid:b[4]||null,raw:L,format:"windows"});else if(H==="linux"){let B=b[0].toLowerCase();B==="tcp6"&&(B="tcp"),B==="udp6"&&(B="udp");const W=B==="udp"&&(b[1]||"").toUpperCase()==="UNCONN";b.length>=(W?5:6)&&(X={protocol:B.toUpperCase(),recvQ:W?b[2]:b[1],sendQ:W?b[3]:b[2],localAddress:W?b[4]:b[3],foreignAddress:W?b[5]:b[4],state:W?"UNCONN":b[5]||"UNKNOWN",pid:b.slice(6).join(" ").replace(/-$/,"").trim()||null,raw:L,format:"linux"})}else if(H==="macos"){let B=b[0].toUpperCase();(B.startsWith("TCP")||B.startsWith("UDP"))&&B.length>3&&(B=B.substring(0,3));let W=3,Ae=4,De=5,rt=-1;b[1]&&b[1].includes(":")||b[1]&&b[1].includes(".")?(W=1,Ae=2,De=3):(b[2]&&b[2].includes(":")||b[2]&&b[2].includes("."))&&(W=2,Ae=3,De=4);let Mt=b[De]||(B==="UDP"?"":"UNKNOWN"),en=b[b.length-1];en&&/^\d+$/.test(en)&&(rt=b.length-1,Mt===en&&B==="TCP"&&(Mt="UNKNOWN")),X={protocol:B,recvQ:W>1?b[1]:void 0,sendQ:W>2?b[2]:void 0,localAddress:b[W],foreignAddress:b[Ae],state:Mt,pid:rt!==-1?b[rt]:null,raw:L,format:"macos"}}else b.length>=4&&(X={protocol:b[0].toUpperCase(),localAddress:b[1],foreignAddress:b[2],state:b[3]||"UNKNOWN",pid:b[4]||null,raw:L,format:"generic"});X&&/^(TCP|UDP)$/i.test(X.protocol)&&E.push({...X,risk:"safe",issues:[],recommendations:[]})}return{connections:E,format:H}},[]),Se=oe.useMemo(()=>({1:{name:"TCPMUX",risk:"critical",description:"TCP Port Service Multiplexer (TCPMUX). Historic IANA assignment (TCP: Yes, UDP: Assigned). Rarely used legitimately; exposure can indicate misconfiguration or be an exploit vector."},7:{name:"Echo",risk:"unknown",description:"Echo Protocol (TCP/UDP: Yes). Used for testing network connectivity. Can be abused for DDoS amplification (UDP)."},9:{name:"Discard",risk:"unknown",description:"Discard Protocol (TCP/UDP: Yes). Discards any data received. Can be abused for DDoS amplification (UDP CHARGEN/Discard). Some systems use UDP 9 for Wake-on-LAN (Unofficial)."},13:{name:"Daytime",risk:"unknown",description:"Daytime Protocol (TCP/UDP: Yes). Returns current date and time. Minor information disclosure risk."},19:{name:"CHARGEN",risk:"warning",description:"Character Generator Protocol (TCP/UDP: Yes). Generates a stream of characters. Can be abused for DDoS amplification (UDP CHARGEN/Discard)."},20:{name:"FTP Data",risk:"suspicious",description:"File Transfer Protocol (FTP) Data Transfer (TCP: Yes, UDP: Assigned). Unencrypted data channel for FTP."},21:{name:"FTP Control",risk:"suspicious",description:"File Transfer Protocol (FTP) Control/Command (TCP: Yes, UDP: Assigned). Unencrypted, transmits credentials in plaintext."},22:{name:"SSH",risk:"safe",description:"Secure Shell (SSH) (TCP: Yes, UDP: Assigned). Encrypted remote login, file transfer (scp, sftp), and port forwarding."},23:{name:"Telnet",risk:"critical",description:"Telnet (TCP: Yes, UDP: Assigned). Unencrypted text communications, including credentials. Highly insecure."},25:{name:"SMTP",risk:"warning",description:"Simple Mail Transfer Protocol (SMTP) (TCP: Yes, UDP: Assigned). Used for email routing. Often unencrypted by default, can be abused for spam if open relay."},53:{name:"DNS",risk:"safe",description:"Domain Name System (DNS) (TCP/UDP: Yes). Essential for resolving hostnames to IP addresses."},67:{name:"BOOTP Server / DHCP",risk:"safe",description:"Bootstrap Protocol (BOOTP) Server / Dynamic Host Configuration Protocol (DHCP) (UDP: Yes). Used for assigning IP addresses and network configuration. Typically internal."},68:{name:"BOOTP Client / DHCP",risk:"safe",description:"Bootstrap Protocol (BOOTP) Client / Dynamic Host Configuration Protocol (DHCP) (UDP: Yes). Used by clients to obtain IP addresses. Typically internal."},69:{name:"TFTP",risk:"warning",description:"Trivial File Transfer Protocol (TFTP) (UDP: Yes). Simplified file transfer, no authentication. Often used for network booting or device configuration. Can be a security risk if exposed."},79:{name:"Finger",risk:"warning",description:"Finger Protocol (TCP/UDP: Yes). Provides information about users on a system. Can disclose sensitive user information."},80:{name:"HTTP",risk:"warning",description:"Hypertext Transfer Protocol (HTTP) (TCP: Yes, UDP: Yes for QUIC/HTTP3). Unencrypted web traffic. Vulnerable to eavesdropping and modification."},109:{name:"POP2",risk:"warning",description:"Post Office Protocol version 2 (POP2) (TCP: Yes, UDP: Assigned). Older email retrieval protocol, often unencrypted."},110:{name:"POP3",risk:"warning",description:"Post Office Protocol version 3 (POP3) (TCP: Yes, UDP: Assigned). Email retrieval, transmits credentials and messages in plaintext if not secured (use POP3S on 995)."},111:{name:"RPC Portmapper",risk:"warning",description:"ONC RPC (Portmapper/sunrpc) (TCP/UDP: Yes). Maps RPC services to ports. Can be queried to enumerate RPC services, potentially exposing vulnerabilities if services are insecure."},113:{name:"Ident/Auth",risk:"unknown",description:"Identification Protocol (Ident) / Authentication Service (Auth) (TCP: Yes). Used by some services (e.g., IRC) to identify user of a connection. Can be spoofed or blocked."},123:{name:"NTP",risk:"safe",description:"Network Time Protocol (NTP) (UDP: Yes). Used for time synchronization. Essential for logging and security systems. Can be abused for DDoS amplification if server is misconfigured."},135:{name:"MS RPC EPMAP",risk:"suspicious",description:"Microsoft RPC Endpoint Mapper (EPMAP / DCE/RPC Locator) (TCP/UDP: Yes). Used by Windows services (DHCP, DNS, WINS, DCOM). Historically vulnerable and targeted if exposed externally."},137:{name:"NetBIOS-NS",risk:"suspicious",description:"NetBIOS Name Service (TCP/UDP: Yes). Used for name registration and resolution in NetBIOS networks. Can leak system information and be targeted."},138:{name:"NetBIOS-DGM",risk:"suspicious",description:"NetBIOS Datagram Service (UDP: Yes). Connectionless NetBIOS communication. Part of legacy Windows networking, often targeted."},139:{name:"NetBIOS-SSN",risk:"suspicious",description:"NetBIOS Session Service (TCP: Yes). Used for connection-oriented NetBIOS services like file/printer sharing over SMB. Often targeted with SMB vulnerabilities."},143:{name:"IMAP",risk:"warning",description:"Internet Message Access Protocol (IMAP) (TCP: Yes, UDP: Assigned). Email management on server. Transmits credentials/messages in plaintext if not secured (use IMAPS on 993)."},161:{name:"SNMP",risk:"warning",description:"Simple Network Management Protocol (SNMP) (UDP: Yes). Used for network device management. Default community strings (public/private) are a major risk if exposed."},162:{name:"SNMPTRAP",risk:"warning",description:"Simple Network Management Protocol Trap (SNMPTRAP) (TCP/UDP: Yes). Used for devices to send unsolicited alerts to an SNMP manager. Ensure traps do not contain sensitive data if exposed."},389:{name:"LDAP",risk:"warning",description:"Lightweight Directory Access Protocol (LDAP) (TCP/UDP: Yes). Used for accessing directory services. Can transmit data unencrypted; use LDAPS on 636."},443:{name:"HTTPS",risk:"safe",description:"Hypertext Transfer Protocol Secure (HTTPS) (TCP: Yes, UDP: Yes for QUIC/HTTP3). Encrypted web communication using TLS/SSL."},445:{name:"Microsoft-DS (SMB)",risk:"suspicious",description:"Microsoft Directory Services / Server Message Block (SMB) (TCP: Yes, UDP: Assigned). Used for file/printer sharing, Active Directory. Historically vulnerable (e.g., WannaCry, NotPetya) if exposed, especially to the internet."},465:{name:"SMTPS (Implicit TLS)",risk:"safe",description:"Authenticated SMTP over TLS/SSL (URL Rendezvous Directory for Cisco SSM / Message Submission over TLS) (TCP: Yes). Secure email submission. Preferred over STARTTLS on port 587 by some clients."},500:{name:"ISAKMP/IKE",risk:"warning",description:"Internet Security Association and Key Management Protocol (ISAKMP) / Internet Key Exchange (IKE) (UDP: Yes). Used for VPN key exchange (IPsec). Ensure strong ciphers and keys."},512:{name:"rexec / comsat",risk:"critical",description:"Remote Process Execution (rexec) (TCP: Yes) / comsat biff client (UDP: Yes). Rexec is highly insecure. Comsat notifies users of new mail."},513:{name:"rlogin / Who",risk:"critical",description:"Remote Login (rlogin) (TCP: Yes) / Who service (UDP: Yes). Rlogin is highly insecure. Who provides list of logged-in users."},514:{name:"rsh / Syslog",risk:"critical",description:"Remote Shell (rsh/remsh) (TCP: Unofficial) / Syslog (UDP: Yes). Rsh is highly insecure. Syslog is used for system logging; UDP syslog can be spoofed."},515:{name:"LPD",risk:"warning",description:"Line Printer Daemon (LPD) (TCP: Yes, UDP: Assigned). Network print service. Can be exploited if misconfigured."},548:{name:"AFP",risk:"warning",description:"Apple Filing Protocol (AFP) (TCP: Yes, UDP: Assigned). File sharing for macOS. Ensure strong authentication and limit exposure."},587:{name:"SMTP Submission (STARTTLS)",risk:"safe",description:"Email Message Submission (SMTP with STARTTLS) (TCP: Yes, UDP: Assigned). Standard port for email clients to submit mail to a server, typically secured with STARTTLS."},631:{name:"IPP / CUPS",risk:"warning",description:"Internet Printing Protocol (IPP) (TCP/UDP: Yes). Used for network printing (e.g., CUPS). Ensure administrative interfaces are secured."},636:{name:"LDAPS",risk:"safe",description:"Lightweight Directory Access Protocol over TLS/SSL (LDAPS) (TCP: Yes, UDP: Assigned). Secure directory access."},990:{name:"FTPS Control",risk:"safe",description:"FTP over TLS/SSL (FTPS) Control (TCP: Yes). Secure (encrypted) FTP control channel."},992:{name:"TelnetS",risk:"warning",description:"Telnet over TLS/SSL (TCP: Yes). Encrypted Telnet. While better than Telnet, SSH is generally preferred."},993:{name:"IMAPS",risk:"safe",description:"Internet Message Access Protocol over TLS/SSL (IMAPS) (TCP: Yes, UDP: Assigned). Secure email management."},995:{name:"POP3S",risk:"safe",description:"Post Office Protocol 3 over TLS/SSL (POP3S) (TCP: Yes). Secure email retrieval."},1080:{name:"SOCKS Proxy",risk:"warning",description:"SOCKS Proxy (TCP: Yes). Network proxy protocol. Can be misused if open or misconfigured."},1433:{name:"MSSQL Server",risk:"suspicious",description:"Microsoft SQL Server (MSSQL) Server (TCP/UDP: Yes). Database service. Critical target if exposed; ensure strong authentication, patching, and network restrictions."},1434:{name:"MSSQL Monitor",risk:"warning",description:"Microsoft SQL Server (MSSQL) Monitor (UDP: Yes). Used to discover SQL Server instances. Can reveal information about database servers."},1723:{name:"PPTP",risk:"suspicious",description:"Point-to-Point Tunneling Protocol (PPTP) (TCP/UDP: Yes). VPN protocol with known security weaknesses. Avoid if possible; use stronger VPN protocols like IPsec or OpenVPN."},3306:{name:"MySQL",risk:"warning",description:"MySQL Database System (TCP/UDP: Yes). Database service. Ensure strong passwords, network restrictions, and regular patching."},3389:{name:"RDP / WBT",risk:"suspicious",description:"Remote Desktop Protocol (RDP) / Windows Based Terminal (WBT) (TCP/UDP: Yes). Often targeted for unauthorized access if exposed, especially to the internet. Secure with VPN, strong passwords, MFA, and Network Level Authentication."},5060:{name:"SIP",risk:"warning",description:"Session Initiation Protocol (SIP) (TCP/UDP: Yes). Used for VoIP signaling. Can be targeted for toll fraud or denial of service if unsecured."},5061:{name:"SIPS",risk:"safe",description:"Session Initiation Protocol over TLS (SIPS) (TCP: Yes). Secure VoIP signaling."},5353:{name:"mDNS",risk:"unknown",description:"Multicast DNS (mDNS) (UDP: Yes). Used for zero-configuration service discovery on local networks (e.g., Bonjour, Avahi). Generally safe on trusted networks but can leak host information."},5432:{name:"PostgreSQL",risk:"warning",description:"PostgreSQL Database (TCP/UDP: Yes). Database service. Ensure strong passwords, network restrictions, and regular patching."},5900:{name:"VNC",risk:"suspicious",description:"Virtual Network Computing (VNC) / Remote Frame Buffer (RFB) (TCP: Yes). Remote desktop, often unencrypted or weakly secured by default. Ensure strong passwords or use VNC over SSH."},5938:{name:"TeamViewer",risk:"warning",description:"TeamViewer Remote Desktop (UDP: Unofficial). Remote desktop software. Ensure legitimate use, strong passwords, and 2FA. Manage unattended access carefully."},6379:{name:"Redis",risk:"warning",description:"Redis Key-Value Store (TCP: Yes). In-memory data store. Ensure proper authentication (Redis 6+) and network configuration; can be exploited if exposed unauthenticated."},8080:{name:"HTTP Alternate",risk:"warning",description:"HTTP Alternate (often used for web proxies or secondary web servers) (TCP: Yes). Similar risks to HTTP (Port 80) if unencrypted. Common for application servers like Tomcat."},27017:{name:"MongoDB",risk:"warning",description:"MongoDB Database (TCP: Unofficial). NoSQL database. Ensure proper authentication, network configuration, and authorization; historically found exposed."},61e3:{name:"Expected Operational Port",risk:"safe",description:"Often used by specific applications for operational purposes. Verify its use aligns with expected software behavior on your system."}}),[]),be=oe.useCallback(y=>{if(!y||y==="*"||y==="*.*"||y==="0.0.0.0:*"||y==="[::]:*")return[y==="*.*"?"*":y.replace(":*",""),null];const _=y.match(/^\[(.+)\]:(\*|\d+|[a-zA-Z0-9_-]+)$/);if(_){const H=_[1],L=_[2];if(L==="*"||isNaN(parseInt(L))){const P=Object.entries(Se).find(([O,b])=>b.name.toLowerCase()===L.toLowerCase());return[H,P?P[0]:L==="*"?null:L]}return[H,L]}const E=y.split(":");if(E.length>1){const H=E[E.length-1],L=E.slice(0,-1).join(":");if(H==="*"||isNaN(parseInt(H))){const P=Object.entries(Se).find(([O,b])=>b.name.toLowerCase()===H.toLowerCase());return[L||y,P?P[0]:H==="*"?null:H]}return[L||y,H]}const D=y.lastIndexOf(".");if(D>0&&D<y.length-1){const H=y.substring(0,D),L=y.substring(D+1);if(isNaN(parseInt(L))){const P=Object.entries(Se).find(([O,b])=>b.name.toLowerCase()===L.toLowerCase());return P?[H,P[0]]:[y,null]}else return[H,L]}if(isNaN(parseInt(y))){const H=Object.entries(Se).find(([L,P])=>P.name.toLowerCase()===y.toLowerCase());return["*",H?H[0]:y]}else return["*",y]},[Se]),jt=oe.useCallback(y=>!y||y==="*"||y==="0.0.0.0"||y==="::"?!1:![/^10\./,/^172\.(1[6-9]|2[0-9]|3[01])\./,/^192\.168\./,/^127\./,/^169\.254\./,/^::1$/,/^fe80:/i,/^fc00:/i,/^fd00:/i,/^localhost$/i].some(E=>E.test(y)),[]),zn=oe.useCallback((y,_)=>{const E={totalConnections:y.length,format:_,listeningPorts:[],localServicesOnLoopback:[],suspiciousConnections:[],establishedConnections:[],warnings:[],summary:{safe:0,warning:0,suspicious:0,critical:0},portAnalysis:{},ipAnalysis:{},recommendations:[],allLocalPortsActivity:[],allForeignPortsActivity:[]},D={},H={},L=new Map;return y.forEach(P=>{var In,ji,hi,kl,_o;const O={...P,risk:"safe",issues:[],recommendations:[]},[b,X]=be(P.localAddress),[B,W]=be(P.foreignAddress);O.localAddress=`${b||"*"}:${X||"*"}`,O.foreignAddress=`${B||"*"}:${W||"*"}`;const Ae=b?Et(b):null,De=B?Et(B):null;if(Ae){O.risk=Ae.severity==="low"?"warning":Ae.severity==="medium"?"suspicious":"critical";const ge=`Threat Intel Match (Local): ${b} - ${Ae.description||"Known threat"} (${Ae.severity} severity, Source: ${Ae.source})`;O.issues.includes(ge)||O.issues.push(ge)}if(De){const ge=De.severity==="low"?"warning":De.severity==="medium"?"suspicious":"critical";fe.indexOf(ge)<fe.indexOf(O.risk)&&(O.risk=ge);const he=`Threat Intel Match (Foreign): ${B} - ${De.description||"Known threat"} (${De.severity} severity, Source: ${De.source})`;O.issues.includes(he)||O.issues.push(he)}let rt=null,Mt=null,en=!1;if(b==="127.0.0.1"&&X&&(P.state==="LISTEN"||P.state==="LISTENING")?(rt=X,Mt=P.protocol,en=!0):B==="127.0.0.1"&&W&&b==="127.0.0.1"&&(rt=W,Mt=P.protocol,en=!0),en&&rt&&Mt){const ge=`${rt}-${Mt}`;if(!L.has(ge)){const Jt=Se[rt];L.set(ge,{port:rt,protocol:Mt,serviceName:(Jt==null?void 0:Jt.name)||"Unknown",description:(Jt==null?void 0:Jt.description)||"Local service on loopback interface.",risk:(Jt==null?void 0:Jt.risk)||"unknown",associatedPids:[],connectionCount:0,rawExampleLines:[],aiInsight:null,isFetchingAiInsight:!1})}const he=L.get(ge);he.connectionCount++,P.pid&&P.pid.trim()!==""&&!((In=he.associatedPids)!=null&&In.includes(P.pid))&&((ji=he.associatedPids)==null||ji.push(P.pid.trim())),he.rawExampleLines.length<3&&he.rawExampleLines.push(P.raw.trim());const Ie=Se[rt];Ie&&fe.indexOf(Ie.risk)<fe.indexOf(he.risk)&&(he.risk=Ie.risk)}if(X){const ge=`${X}:${P.protocol}`;if(!D[ge]){const Ie=Se[X];D[ge]={port:X,protocol:P.protocol,service:(Ie==null?void 0:Ie.name)||"Unknown",count:0,risk:(Ie==null?void 0:Ie.risk)||"unknown",description:(Ie==null?void 0:Ie.description)||"No specific description for this port."}}D[ge].count++;const he=((hi=Se[X])==null?void 0:hi.risk)||"unknown";fe.indexOf(he)<fe.indexOf(D[ge].risk)&&(D[ge].risk=he)}if(W){const ge=`${W}:${P.protocol}`;if(!H[ge]){const Ie=Se[W];H[ge]={port:W,protocol:P.protocol,service:(Ie==null?void 0:Ie.name)||"Unknown",count:0,risk:(Ie==null?void 0:Ie.risk)||"unknown",description:(Ie==null?void 0:Ie.description)||"No specific description for this port."}}H[ge].count++;const he=((kl=Se[W])==null?void 0:kl.risk)||"unknown";fe.indexOf(he)<fe.indexOf(H[ge].risk)&&(H[ge].risk=he)}if(X&&Se[X]){const ge=Se[X];O.portInfo=ge;const he=ge.risk;fe.indexOf(he)<fe.indexOf(O.risk)&&(O.risk=he),he!=="safe"&&he!=="unknown"&&O.issues.push(`${he.charAt(0).toUpperCase()+he.slice(1)} risk service on local port ${X}: ${ge.name} (${ge.description}).`)}const tn=P.state.toUpperCase();let $n=!1,Yn=O.risk;const Pt=P.protocol.toUpperCase();if(Pt==="TCP")(tn==="LISTEN"||tn==="LISTENING")&&($n=!0);else if(Pt==="UDP"){const ge=P.foreignAddress.toUpperCase();if(X&&(ge==="*:*"||ge==="*"||ge.endsWith(":*")||tn===""||tn==="UNKNOWN"||tn==="UNCONN")&&($n=!0,X&&Se[X])){const he=Se[X].risk;fe.indexOf(he)<fe.indexOf(Yn)&&(Yn=he)}}if($n){if(b&&(b==="0.0.0.0"||b==="::"||b==="*")){Yn==="safe"&&(Yn="warning");const Jt=`Service on port ${X||"unknown"} is listening on all interfaces (${b}). Ensure this is intentional and firewalled appropriately.`;O.issues.some(Ns=>Ns.includes("all interfaces"))||O.issues.push(Jt)}fe.indexOf(Yn)<fe.indexOf(O.risk)&&(O.risk=Yn);const ge=b?Et(b):null,he=ge?ge.severity==="low"?"warning":ge.severity==="medium"?"suspicious":"critical":null,Ie=he&&fe.indexOf(he)<fe.indexOf(O.risk)?he:O.risk;E.listeningPorts.push({port:X,service:((_o=Se[X])==null?void 0:_o.name)||(X&&!isNaN(parseInt(X))?"Unknown":X||"Unknown"),risk:Ie,address:P.localAddress,protocol:P.protocol})}else if(tn==="ESTABLISHED"){E.establishedConnections.push(P);const ge=B?Et(B):null;if(B&&jt(B)&&!ge&&(O.risk==="safe"&&(O.risk="warning"),O.issues.push(`Established connection to public IP: ${B}:${W}. Verify legitimacy.`)),W&&Se[W]&&!ge){const he=Se[W];(he.risk==="critical"||he.risk==="suspicious")&&(fe.indexOf(he.risk)<fe.indexOf(O.risk)&&(O.risk=he.risk),O.issues.push(`Connected to a ${he.risk} risk service on remote port ${W}: ${he.name}. This could be an outbound connection to a compromised or risky service.`))}}else["SYN_SENT","SYN_RECV"].includes(tn)&&((O.risk==="safe"||O.risk==="warning")&&(O.risk="suspicious"),O.issues.push(`Connection in potentially unstable state: ${tn}. Could indicate scanning, connection attempts, or network issues.`));if(B&&B!=="*"&&B!=="0.0.0.0"&&B!=="::"){if(!E.ipAnalysis[B]){const Ie=Et(B),Ns=(Ie?Ie.severity==="low"?"warning":Ie.severity==="medium"?"suspicious":"critical":null)||(jt(B)&&O.risk==="safe"?"warning":O.risk);E.ipAnalysis[B]={ip:B,connections:0,ports:new Set,isPublic:jt(B),risk:Ns}}const ge=E.ipAnalysis[B];ge.connections++,ge.ports.add(W);const he=Et(B);if(he){const Ie=he.severity==="low"?"warning":he.severity==="medium"?"suspicious":"critical";fe.indexOf(Ie)<fe.indexOf(ge.risk)&&(ge.risk=Ie)}else fe.indexOf(O.risk)<fe.indexOf(ge.risk)&&(ge.risk=O.risk)}if(b&&b!=="*"&&b!=="0.0.0.0"&&b!=="::"&&!/^127\./.test(b)&&!/^fe80:/i.test(b)&&!$n){if(!E.ipAnalysis[b]){const he=Et(b),Ie=he?he.severity==="low"?"warning":he.severity==="medium"?"suspicious":"critical":null;E.ipAnalysis[b]={ip:b,connections:0,ports:new Set,isPublic:jt(b),risk:Ie||O.risk}}E.ipAnalysis[b].connections++,E.ipAnalysis[b].ports.add(X);const ge=Et(b);if(ge){const he=ge.severity==="low"?"warning":ge.severity==="medium"?"suspicious":"critical";fe.indexOf(he)<fe.indexOf(E.ipAnalysis[b].risk)&&(E.ipAnalysis[b].risk=he)}else fe.indexOf(O.risk)<fe.indexOf(E.ipAnalysis[b].risk)&&(E.ipAnalysis[b].risk=O.risk)}O.issues.length>0&&O.risk==="safe"&&(O.risk="warning"),E.summary[O.risk]++,O.risk!=="safe"&&E.suspiciousConnections.push(O)}),E.listeningPorts.sort((P,O)=>fe.indexOf(P.risk)-fe.indexOf(O.risk)||parseInt(P.port||"0")-parseInt(O.port||"0")),E.suspiciousConnections.sort((P,O)=>{const b=fe.indexOf(P.risk)-fe.indexOf(O.risk);if(b!==0)return b;const[,X]=be(P.localAddress),[,B]=be(O.localAddress);return parseInt(X||"0")-parseInt(B||"0")}),E.allLocalPortsActivity=Object.values(D).sort((P,O)=>{const b=fe.indexOf(P.risk)-fe.indexOf(O.risk);return b!==0?b:O.count-P.count}),E.allForeignPortsActivity=Object.values(H).sort((P,O)=>{const b=fe.indexOf(P.risk)-fe.indexOf(O.risk);return b!==0?b:O.count-P.count}),E.localServicesOnLoopback=Array.from(L.values()).sort((P,O)=>{const b=fe.indexOf(P.risk)-fe.indexOf(O.risk);return b!==0?b:parseInt(P.port||"0")-parseInt(O.port||"0")}),ht(E,Se),E},[be,jt,Se]),ht=(y,_)=>{const E=[],D=y.suspiciousConnections.filter(b=>b.issues.some(X=>X.includes("Threat Intel Match")));if(D.length>0){const b=[...new Set(D.map(X=>{const[B]=be(X.localAddress),[W]=be(X.foreignAddress),Ae=B?Et(B):null;return W&&Et(W),Ae?B:W}).filter(Boolean))];E.push({type:"critical",title:"Block Connections to Known Malicious IPs",description:`Detected ${D.length} connection(s) involving IPs on threat intelligence lists. These connections pose an immediate and severe risk. Block these IPs at your firewall immediately. Investigate systems involved for signs of compromise. IPs: ${b.join(", ")}`,services:[...new Set(D.map(X=>{var B;return((B=X.portInfo)==null?void 0:B.name)||X.protocol}))].join(", ")})}const H=y.listeningPorts.filter(b=>{const[X]=be(b.address),B=X?Et(X):null;return["critical","suspicious"].includes(b.risk)&&!B});H.length>0&&E.push({type:"critical",title:"Secure or Disable High-Risk Listening Services (External Exposure)",description:`Found ${H.length} high-risk services potentially exposed externally: ${H.map(b=>`${b.service} (Port ${b.port||"N/A"}) on ${b.address}`).join(", ")}. Review their necessity. If essential, ensure they are firewalled, patched, and configured securely.`,services:H.map(b=>b.service).join(", ")});const L=y.listeningPorts.filter(b=>{var X,B,W;return b.port&&(((X=_[b.port])==null?void 0:X.name)==="FTP"||((B=_[b.port])==null?void 0:B.name)==="Telnet"||((W=_[b.port])==null?void 0:W.name)==="HTTP")});L.length>0&&E.push({type:"warning",title:"Unencrypted Listening Services Detected",description:`Unencrypted services like ${L.map(b=>`${b.service} (Port ${b.port||"N/A"}) on ${b.address}`).join(", ")} transmit data in plaintext. Upgrade to secure alternatives if exposed.`,services:L.map(b=>b.service).join(", ")});const P=Object.values(y.ipAnalysis).filter(b=>{const X=Et(b.ip);return b.isPublic&&!X}).length;P>10&&E.push({type:"warning",title:"Monitor Numerous External Connections",description:`Detected ${P} unique external IP addresses (excluding known threats). While not inherently malicious, a high number of external connections warrants monitoring. Ensure all are legitimate and expected. Investigate any unfamiliar IPs.`});const O=y.listeningPorts.filter(b=>{const[X]=be(b.address),B=X?Et(X):null;return(X==="0.0.0.0"||X==="::"||X==="*")&&!B});O.length>0&&E.push({type:"warning",title:"Services Listening on All Interfaces",description:`${O.length} service(s) are listening on all network interfaces. This can increase exposure. Ensure this is intentional for services like ${O.slice(0,3).map(b=>b.service).join(", ")} and that appropriate firewall rules are in place.`,services:O.map(b=>b.service).join(", ")}),y.summary.critical>0&&D.length===0?E.unshift({type:"critical",title:`Address ${y.summary.critical} Critical Risk Item(s) Immediately`,description:`There are ${y.summary.critical} item(s) identified as critical risk. These require immediate attention. Review the 'Risky Connections' and 'Listening Ports' or 'Local Services' tabs for details.`}):y.summary.suspicious>0&&E.unshift({type:"warning",title:`Investigate ${y.summary.suspicious} Suspicious Item(s)`,description:`There are ${y.summary.suspicious} item(s) identified as suspicious. Review these in the relevant tabs.`}),y.recommendations=E},xs=oe.useCallback(y=>{if(!y||y.error)return null;const{summary:_,listeningPorts:E}=y,D=E.filter(L=>L.risk==="critical").length,H=E.filter(L=>(L.risk==="critical"||L.risk==="suspicious")&&(be(L.address)[0]==="0.0.0.0"||be(L.address)[0]==="::"||be(L.address)[0]==="*")).length;return _.critical>0||D>0?{level:"critical",description:"CRITICAL RISK",colorClass:"bg-red-600",textColorClass:"text-red-100",icon:d.jsx(uc,{className:"w-16 h-16 text-red-100"}),detailedMessage:`Immediate attention required. ${_.critical} critical connections/issues and ${D} critical listening ports (exposed externally or on all interfaces) identified. These pose a severe threat.`,htmlReportBoxClass:"overall-risk-critical"}:_.suspicious>3||H>0||E.filter(L=>L.risk==="suspicious").length>2?{level:"high",description:"HIGH RISK",colorClass:"bg-orange-500",textColorClass:"text-orange-100",icon:d.jsx(uc,{className:"w-16 h-16 text-orange-100"}),detailedMessage:`High risk profile. ${_.suspicious} suspicious items or ${H>0?H+" high-risk listeners on all interfaces":E.filter(L=>L.risk==="suspicious").length+" suspicious listening ports"}. Prioritize investigation.`,htmlReportBoxClass:"overall-risk-high"}:_.suspicious>0||_.warning>5?{level:"medium",description:"MEDIUM RISK",colorClass:"bg-yellow-500",textColorClass:"text-yellow-800",icon:d.jsx(Cn,{className:"w-16 h-16 text-yellow-800"}),detailedMessage:`Medium risk. ${_.suspicious} suspicious items and ${_.warning} warnings detected. Review these findings.`,htmlReportBoxClass:"overall-risk-medium"}:_.warning>0?{level:"low",description:"LOW RISK",colorClass:"bg-yellow-400",textColorClass:"text-yellow-700",icon:d.jsx(qa,{className:"w-16 h-16 text-yellow-700"}),detailedMessage:`Low risk. ${_.warning} warnings identified. Review for optimal security hygiene.`,htmlReportBoxClass:"overall-risk-low"}:{level:"minimal",description:"MINIMAL RISK",colorClass:"bg-green-500",textColorClass:"text-green-100",icon:d.jsx(qa,{className:"w-16 h-16 text-green-100"}),detailedMessage:"Minimal risk detected based on the provided netstat data. Continue good security practices.",htmlReportBoxClass:"overall-risk-minimal"}},[be]);oe.useEffect(()=>{Dt(o?xs(o):null)},[o,xs]),oe.useEffect(()=>{q==="settings"&&!M&&V(g)},[q,g,M]);const Nl=oe.useCallback(async()=>{if(i){$e(!0),ee({}),_e(null),St(null),vt({}),Gn({}),cn([]),xt({}),Oi("all"),bn(""),qt({}),fn({});try{const y=await i.text(),{connections:_,format:E}=So(y);let D;_.length===0?D={error:"No valid netstat data found. Please ensure the file contains proper netstat output (e.g., from `netstat -an`, `ss -tulpn`). Check for empty lines or incorrect formatting. The parser might have skipped all lines if they did not match expected connection patterns.",totalConnections:0,format:E,listeningPorts:[],localServicesOnLoopback:[],suspiciousConnections:[],establishedConnections:[],warnings:[],summary:{safe:0,warning:0,suspicious:0,critical:0},portAnalysis:{},ipAnalysis:{},recommendations:[],allLocalPortsActivity:[],allForeignPortsActivity:[]}:D=zn(_,E);const H={id:`${Date.now()}-${Math.random().toString(16).slice(2)}`,name:i.name,timestamp:new Date,results:D};p(L=>[...L,H]),l(D),Co()}catch(y){console.error("Error analyzing file:",y);const _={error:`Failed to analyze file. Ensure it's a plain text netstat output. Error: ${y instanceof Error?y.message:String(y)}`,totalConnections:0,format:"unknown",listeningPorts:[],localServicesOnLoopback:[],suspiciousConnections:[],establishedConnections:[],warnings:[],summary:{safe:0,warning:0,suspicious:0,critical:0},portAnalysis:{},ipAnalysis:{},recommendations:[],allLocalPortsActivity:[],allForeignPortsActivity:[]};l(_);const E={id:`${Date.now()}-${Math.random().toString(16).slice(2)}`,name:i.name+" (Error)",timestamp:new Date,results:_};p(D=>[...D,E]),Co()}$e(!1)}},[i,So,zn]),Hn=y=>{const _=c.find(E=>E.id===y);_&&(l(_.results),_e(null),St(null),vt({}),Gn({}),cn([]),xt({}),Oi("all"),bn(""),qt({}),fn({}),te("overallRisk"))},mi=y=>{var _;if(p(E=>E.filter(D=>D.id!==y)),o&&((_=c.find(E=>E.id===y))==null?void 0:_.results)===o){const E=c.filter(D=>D.id!==y);E.length>0?l(E[E.length-1].results):(l(null),cn([])),_e(null),St(null),vt({}),Gn({}),xt({}),Oi("all"),bn(""),qt({}),fn({})}},tr=async()=>{if(!o||!pt||!lt){_e("AI insights cannot be generated. Ensure analysis is complete and API key is configured.");return}Vt(!0),_e(null);const{summary:y,recommendations:_,listeningPorts:E,suspiciousConnections:D,totalConnections:H}=o,L=E.filter(b=>b.risk==="critical").map(b=>`${b.service} (Port ${b.port||"N/A"}, ${b.protocol} on ${b.address})`),P=E.filter(b=>b.risk==="suspicious").map(b=>`${b.service} (Port ${b.port||"N/A"}, ${b.protocol} on ${b.address})`);let O=`You are a cybersecurity assistant. Based on the following netstat analysis summary, provide a concise security briefing (around 150-250 words). 
Explain the overall security posture, highlight the 2-3 most important issues, and suggest general preventative measures. Format your response clearly with paragraphs.

Analysis Summary:
- Total Connections: ${H}
- Critical Risks Identified: ${y.critical}
- Suspicious Risks Identified: ${y.suspicious}
- Warnings Issued: ${y.warning}

Key System Recommendations Provided:
${_.slice(0,3).map(b=>`- ${b.title}: ${b.description.substring(0,100)}...`).join(`
`)}

Notable Externally Exposed Listening Ports:
- Critical Risk Ports: ${L.length>0?L.join(", "):"None identified"}
- Suspicious Risk Ports: ${P.length>0?P.join(", "):"None identified"}

Top 3 Riskiest Connections (if any, sorted by severity):
${D.sort((b,X)=>{const B=["critical","suspicious","warning","safe","unknown"];return B.indexOf(b.risk)-B.indexOf(X.risk)}).slice(0,3).map(b=>`- ${b.protocol} ${b.localAddress} to ${b.foreignAddress} (State: ${b.state}, Risk: ${b.risk}, Issues: ${b.issues.join(". ").substring(0,100)}...)`).join(`
`)||"No specific high-risk connections to highlight here."}

Provide your briefing:`;try{const b=await pt.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:O});_e(b.text)}catch(b){console.error("Error fetching AI insights:",b),_e(`Failed to generate AI insights. ${b instanceof Error?b.message:"An unknown error occurred."} Please ensure your API key is correctly configured and the Gemini API is accessible.`)}finally{Vt(!1)}},Ml=async()=>{if(!o||!pt){St("AI port analysis requires completed analysis and API key.");return}ci(!0),St(null);const{listeningPorts:y}=o;if(y.length===0){St("No externally exposed listening ports found to analyze for this general overview. Check 'Local Services' for 127.0.0.1 activity."),ci(!1);return}const E=`You are a network security analyst. Based on the following list of *externally exposed* listening ports from a netstat output, provide a concise analysis (around 150-200 words).
Focus on:
1. Identifying the 2-3 most concerning ports/services from a security perspective (considering their exposure) and briefly explain why.
2. Commenting on the overall "port hygiene" regarding these exposed services (e.g., risky defaults, unencrypted services, services on all interfaces).
3. Offering 1-2 general security best practices for managing these *exposed* open ports.

Exposed Listening Ports:
${y.map(D=>`- Port ${D.port||"N/A"} (${D.protocol}, Service: ${D.service}, Risk: ${D.risk}, Address: ${D.address}, Description: ${D.port&&Se[D.port]?Se[D.port].description:"N/A"})`).join(`
`)}

Provide your analysis:`;try{const D=await pt.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:E});St(D.text)}catch(D){console.error("Error fetching AI port analysis:",D),St(`Failed to generate AI port analysis. ${D instanceof Error?D.message:"An unknown error occurred."}`)}finally{ci(!1)}},_l=async y=>{if(!pt||!lt||!o){const L=`${y.port}-${y.protocol}`;vt(P=>({...P,[L]:"AI analysis requires API key and loaded results."}));return}const _=`${y.port}-${y.protocol}`;Gn(L=>({...L,[_]:!0})),vt(L=>({...L,[_]:null}));const E=y.rawExampleLines.length>0?y.rawExampleLines.join(`
`):"No specific raw netstat lines captured for this aggregated service.",D=o.format||"unknown",H=`You are a system utility and cybersecurity expert. A netstat analysis on a user's machine shows activity involving local port ${y.port}/${y.protocol} (Service Name: ${y.serviceName}) on the loopback interface (127.0.0.1).
${y.connectionCount} connection(s) were observed involving this local service.
Associated PIDs from netstat lines (could be client or server PIDs): ${y.associatedPids&&y.associatedPids.length>0?y.associatedPids.join(", "):"None captured"}
Example netstat lines involving this port:
${E}

The netstat output format appears to be from a ${D} system.

Based on this information:
1. What common applications or services typically use port ${y.port}/${y.protocol} on 127.0.0.1? (Mention a few examples if applicable)
2. What is the general purpose of such services? (e.g., local web server, database, IPC, browser helper)
3. Are there any common misconfigurations or security considerations for services running locally on this port, even if only on loopback? (e.g., default credentials, vulnerabilities in the local software, potential for abuse by local malware)
4. If this port activity is unexpected by the user, what general steps could they take to investigate what's using it on their ${D} system? (Suggest 1-2 commands like \`lsof -i :${y.port}\` or \`netstat -abno\` with findstr for Windows, or Task Manager/Resource Monitor checks).

Provide a concise, helpful explanation, structured with clear points.`;try{const L=await pt.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:H});vt(P=>({...P,[_]:L.text}))}catch(L){console.error(`Error fetching AI local service identity for ${_}:`,L),vt(P=>({...P,[_]:`Failed to generate AI insights for ${y.port}/${y.protocol}. ${L instanceof Error?L.message:"An unknown error occurred."}`}))}finally{Gn(L=>({...L,[_]:!1}))}},nr=async(y,_)=>{var O,b,X;if(!pt){qn(B=>({...B,[y]:"AI IP analysis requires API key."}));return}ms(B=>({...B,[y]:!0})),qn(B=>({...B,[y]:null}));let E="N/A",D="N/A",H="N/A";const L=_||(o==null?void 0:o.ipAnalysis)&&o.ipAnalysis[y];L&&(E=Array.from(L.ports).join(", ")||"N/A",H=Array.from(L.ports).map(B=>{if(B){const W=Se[B]?Se[B].name:"Unknown Service";return`Port ${B} (${W})`}return"Port N/A (Unknown Service)"}).join(", ")||"N/A"),o&&(D=o.establishedConnections.concat(o.suspiciousConnections).filter(W=>{const[Ae]=be(W.foreignAddress);return Ae===y}).map(W=>{const[,Ae]=be(W.localAddress),De=Ae&&Se[Ae]?Se[Ae].name:"Unknown Service";return`Port ${Ae||"N/A"} on your system (${De})`}).filter((W,Ae,De)=>De.indexOf(W)===Ae).join(", ")||"N/A");const P=`Provide a security and reputation analysis for the IP address: ${y}.

This IP was observed in network connections.
Context from the local system's perspective (if available):
- The local system connected TO this IP address (${y}) on these remote ports: ${E} (services: ${H}).
- These connections originated FROM the following local ports on the system: ${D}.

Using Google Search for up-to-date information, please provide:
1.  Geolocation (City, Country). If the IP is geolocated to China or Russia, explicitly state this and note that connections to/from these regions often warrant heightened scrutiny due to geopolitical factors and potential state-sponsored activities. Consider this a significant factor towards a 'suspicious' or 'warning' assessment in your overall analysis unless strong mitigating evidence is present for this specific IP.
2.  ASN (Autonomous System Number) and ISP.
3.  Any known malicious activity, or if it's listed on common blocklists (mention sources if possible).
4.  General reputation (e.g., known cloud provider, CDN, residential, Tor exit node, etc.).
5.  Based on the ports involved (if known), its geolocation, and general reputation, are there specific security concerns for a system having connected to this IP?

Keep the response concise and well-structured with clear headings for each point.`;try{const B=await pt.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:P,config:{tools:[{googleSearch:{}}]}});let W=B.text;const Ae=(X=(b=(O=B.candidates)==null?void 0:O[0])==null?void 0:b.groundingMetadata)==null?void 0:X.groundingChunks;Ae&&Ae.length>0&&(W+=`

Information Sources (from Google Search):`,Ae.forEach(De=>{De.web&&(W+=`
- ${De.web.title}: ${De.web.uri}`)})),qn(De=>({...De,[y]:W}))}catch(B){console.error(`Error fetching AI IP reputation for ${y}:`,B),qn(W=>({...W,[y]:`Failed to generate AI insights for ${y}. ${B instanceof Error?B.message:"An unknown error occurred."}`}))}finally{ms(B=>({...B,[y]:!1}))}},Ao=async y=>{if(!pt||!lt){const D=zi.map(H=>H.listenerAddress===y.listenerAddress&&H.protocol===y.protocol&&H.port===y.port?{...H,aiContextualInsight:"AI analysis requires API key.",isFetchingAiContextualInsight:!1}:H);cn(D);return}cn(D=>D.map(H=>H.listenerAddress===y.listenerAddress&&H.protocol===y.protocol&&H.port===y.port?{...H,isFetchingAiContextualInsight:!0,aiContextualInsight:null}:H));const _=y.connectedIpDetails.map(D=>`- IP: ${D.ip} (${D.isPublic?"Public":"Private"}), Connections: ${D.connectionCountToPort}, States: ${D.states.join(", ")}, Assessed Risk from this IP to port: ${D.risk}`).join(`
`),E=`You are a cybersecurity analyst. Analyze the following listening port based on its context:

Port: ${y.port} (${y.protocol})
Service: ${y.service} (${y.description})
Risk Assessed by Tool for this Listening Port: ${y.risk}
Listening Address: ${y.listenerAddress} (Note: This is an EXTERNALLY exposed listener, not 127.0.0.1)

This port has ${y.activeInboundConnectionsCount} active inbound connections from ${y.connectedIpDetails.length} unique IP addresses:
${y.connectedIpDetails.length>0?_:"No active inbound connections observed."}

Based on this information:
1.  Briefly explain the typical legitimate use of the ${y.service} service on port ${y.port}/${y.protocol} when exposed externally.
2.  What are the common security concerns or vulnerabilities associated with this service/port, especially when exposed via ${y.listenerAddress}?
3.  Considering it's listening on "${y.listenerAddress}" and the list of connected IPs (note their public/private status, connection counts, and states), what is your assessment of the current security posture for this specific port? Highlight any specific IPs or connection patterns that are noteworthy or suspicious.
4.  Provide 2-3 actionable recommendations to secure this port and service in this specific context. If an IP or pattern is particularly risky, mention it.

Keep your analysis concise, structured, and actionable (around 200-300 words). Format with clear paragraphs or bullet points for readability.`;try{const D=await pt.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:E});cn(H=>H.map(L=>L.listenerAddress===y.listenerAddress&&L.protocol===y.protocol&&L.port===y.port?{...L,aiContextualInsight:D.text,isFetchingAiContextualInsight:!1}:L))}catch(D){console.error(`Error fetching AI contextual analysis for port ${y.port}:`,D);const H=`Failed to generate AI analysis for port ${y.port}. ${D instanceof Error?D.message:"An unknown error occurred."}`;cn(L=>L.map(P=>P.listenerAddress===y.listenerAddress&&P.protocol===y.protocol&&P.port===y.port?{...P,aiContextualInsight:H,isFetchingAiContextualInsight:!1}:P))}},Eo=async y=>{if(!pt||!lt){qt(H=>({...H,[y.id]:"AI analysis requires API key."}));return}fn(H=>({...H,[y.id]:!0})),qt(H=>({...H,[y.id]:null}));const _=(o==null?void 0:o.format)||"unknown",E=Array.from(y.aggregatedPIDs).join(", ")||"N/A",D=`You are a network security analyst. An aggregated network interaction from a ${_} system's netstat output shows the following:

- Local Endpoint: ${y.localAddress} (IP: ${y.localIP||"N/A"}, Port: ${y.localPort||"N/A"})
- Foreign Endpoint: ${y.foreignAddress} (IP: ${y.foreignIP||"N/A"}, Port: ${y.foreignPort||"N/A"})
- Protocol: ${y.protocol}
- Overall Assessed Risk for this interaction: ${y.risk}
- Number of individual connections aggregated: ${y.connectionCount}
- Observed Connection States: ${Array.from(y.states).join(", ")}
- Aggregated PIDs involved (if any): ${E}
- Key Issues noted for connections in this group: ${y.issues.length>0?y.issues.join("; "):"None specifically noted for the group."}
- This interaction represents a local listening port: ${y.isListenerInteraction?"Yes":"No"}

Based on this aggregated information:
1. What does this specific interaction pattern (Local &harr; Foreign) potentially signify? Consider the protocol, ports, states, and if it's a listener.
2. Why might this aggregated interaction be flagged with a "${y.risk}" risk level? Explain based on the provided details.
3. If this interaction is concerning, what are 1-2 specific investigation steps a user could take on their ${_} system, particularly considering the aggregated PIDs (${E}) and the nature of the communication?
4. Are there any immediate security recommendations based *solely* on this aggregated interaction cell's data?

Keep your response concise and focused on this specific interaction pair.`;try{const H=await pt.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:D});qt(L=>({...L,[y.id]:H.text}))}catch(H){console.error(`Error fetching AI insight for risk matrix cell ${y.id}:`,H),qt(L=>({...L,[y.id]:`Failed to generate AI insights for this interaction. ${H instanceof Error?H.message:"An unknown error occurred."}`}))}finally{fn(H=>({...H,[y.id]:!1}))}},qe=y=>y===null||typeof y>"u"?"":y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),No=y=>`<span class="badge ${{critical:"badge-critical",suspicious:"badge-suspicious",warning:"badge-warning",safe:"badge-safe",unknown:"badge-unknown"}[y]||"badge-unknown"}">${qe(y.charAt(0).toUpperCase()+y.slice(1))}</span>`,bl=y=>({critical:"risk-critical-text",suspicious:"risk-suspicious-text",warning:"risk-warning-text",safe:"risk-safe-text",unknown:"risk-unknown-text"})[y]||"risk-unknown-text",pi=(y,_,E)=>{const D=new Date().toLocaleString(),H=E,L=y.recommendations.slice(0,5),P=y.listeningPorts.filter(B=>["critical","suspicious","warning"].includes(B.risk)).sort((B,W)=>fe.indexOf(B.risk)-fe.indexOf(W.risk)).slice(0,5),O=y.suspiciousConnections.sort((B,W)=>fe.indexOf(B.risk)-fe.indexOf(W.risk)).slice(0,5),b=y.suspiciousConnections.filter(B=>B.issues.some(W=>W.includes("Cyber Threat Intel")));return`
      <!DOCTYPE html>
      <html lang="en">
      <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Netstat Analysis Report - ${qe(H)}</title>
          <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; line-height: 1.6; color: #333; margin: 0; padding: 0; background-color: #f4f7f6; }
    .container { max-width: 900px; margin: 20px auto; background-color: #fff; padding: 25px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    h1, h2, h3 { color: #2c3e50; margin-top: 0; }
    h1 { font-size: 2em; border-bottom: 2px solid #3498db; padding-bottom: 10px; margin-bottom: 20px; text-align: center;}
    h2 { font-size: 1.6em; border-bottom: 1px solid #eee; padding-bottom: 8px; margin-top: 30px; margin-bottom: 15px; color: #3498db; }
    h3 { font-size: 1.3em; margin-top: 25px; margin-bottom: 10px; color: #2980b9; }
    p { margin-bottom: 10px; }
    ul, ol { margin-bottom: 15px; padding-left: 20px; }
    li { margin-bottom: 5px; }
    .badge { display: inline-block; padding: 0.25em 0.6em; font-size: 0.8em; font-weight: 600; line-height: 1; text-align: center; white-space: nowrap; vertical-align: baseline; border-radius: 0.375rem; color: #fff; }
    .badge-critical { background-color: #e74c3c; }
    .badge-suspicious { background-color: #f39c12; }
    .badge-warning { background-color: #f1c40f; color: #333; }
    .badge-safe { background-color: #2ecc71; }
    .badge-unknown { background-color: #95a5a6; }
    .section { margin-bottom: 25px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 5px; background-color: #fdfdfd; }
    .recommendation { border-left-width: 4px; border-left-style: solid; padding: 10px 15px; margin-bottom: 10px; border-radius: 4px; background-color: #f9f9f9;}
    .recommendation-critical { border-left-color: #e74c3c; }
    .recommendation-warning { border-left-color: #f1c40f; }
    .recommendation-title { font-weight: bold; margin-bottom: 5px; }
    .monospace { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 0.9em; background-color: #f0f0f0; padding: 2px 4px; border-radius: 3px; word-break: break-all; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 0.9em;}
    th { background-color: #f2f2f2; font-weight: bold; }
    .risk-critical-text { color: #c0392b; font-weight: bold; }
    .risk-suspicious-text { color: #d35400; font-weight: bold; }
    .risk-warning-text { color: #b7950b; } /* Darker yellow for text */
    .risk-safe-text { color: #27ae60; }
    .risk-unknown-text { color: #7f8c8d; }
    .overall-risk-box { padding: 20px; margin-bottom: 20px; border-radius: 5px; text-align: center; color: #fff; }
    .overall-risk-critical { background-color: #e74c3c; }
    .overall-risk-high { background-color: #f39c12; }
    .overall-risk-medium { background-color: #f1c40f; color: #333; }
    .overall-risk-low { background-color: #2ecc71; }
    .overall-risk-minimal { background-color: #1abc9c; }
    .overall-risk-description { font-size: 1.8em; font-weight: bold; margin-bottom: 10px; }
    .overall-risk-message { font-size: 1em; }
    .footer { text-align: center; margin-top: 30px; font-size: 0.9em; color: #777; }
    .meta-info { text-align: center; font-size: 0.9em; color: #555; margin-bottom: 20px; }
    .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px;}
    .summary-item { background-color: #f9f9f9; padding: 15px; border-radius: 5px; border: 1px solid #eee; text-align: center;}
    .summary-item .value { font-size: 1.5em; font-weight: bold; display: block; margin-bottom: 5px; }
    .summary-item .label { font-size: 0.9em; color: #555; }
    .value-critical { color: #e74c3c; }
    .value-suspicious { color: #f39c12; }
    .value-warning { color: #f1c40f; }
    .value-safe { color: #2ecc71; }
    .value-total { color: #3498db; }
    </style>
      </head>
      <body>
          <div class="container">
              <h1>Netstat Security Analyzer - Report</h1>
              <div class="meta-info">
                  <p><strong>Report Generated:</strong> ${qe(D)}</p>
                  <p><strong>Original File:</strong> ${qe(H)}</p>
                  <p><strong>Detected OS Format:</strong> ${qe(y.format.toUpperCase())}</p>
              </div>

              ${_?`
              <div class="section overall-risk-box ${qe(_.htmlReportBoxClass||"")}">
                  <div class="overall-risk-description">${qe(_.description)}</div>
                  <div class="overall-risk-message">${qe(_.detailedMessage)}</div>
              </div>
              `:'<p class="section">Overall risk assessment not available.</p>'}

              <div class="section">
                  <h2>Analysis Summary</h2>
                  <div class="summary-grid">
                      <div class="summary-item">
                          <span class="value value-total">${y.totalConnections}</span>
                          <span class="label">Total Connections</span>
                      </div>
                      <div class="summary-item">
                          <span class="value value-critical">${y.summary.critical}</span>
                          <span class="label">Critical Issues</span>
                      </div>
                      <div class="summary-item">
                          <span class="value value-suspicious">${y.summary.suspicious}</span>
                          <span class="label">Suspicious Issues</span>
                      </div>
                      <div class="summary-item">
                          <span class="value value-warning">${y.summary.warning}</span>
                          <span class="label">Warnings</span>
                      </div>
                      <div class="summary-item">
                          <span class="value value-safe">${y.summary.safe}</span>
                          <span class="label">Safe Items</span>
                      </div>
                  </div>
              </div>

              ${L.length>0?`
              <div class="section">
                  <h2>Top Security Recommendations</h2>
                  ${L.map(B=>`
                      <div class="recommendation recommendation-${B.type}">
                          <div class="recommendation-title ${bl(B.type)}">${qe(B.title)}</div>
                          <p>${qe(B.description)}</p>
                          ${B.services?`<p><strong>Affected Services:</strong> <span class="monospace">${qe(B.services)}</span></p>`:""}
                      </div>
                  `).join("")}
              </div>
              `:""}
              
              ${P.length>0?`
              <div class="section">
                  <h2>Top Risky Externally Exposed Listening Ports</h2>
                  <table>
                      <thead>
                          <tr><th>Risk</th><th>Port/Protocol</th><th>Service</th><th>Address</th><th>Description</th></tr>
                      </thead>
                      <tbody>
                          ${P.map(B=>`
                              <tr>
                                  <td>${No(B.risk)}</td>
                                  <td><span class="monospace">${qe(B.port)}/${qe(B.protocol)}</span></td>
                                  <td>${qe(B.service)}</td>
                                  <td><span class="monospace">${qe(B.address)}</span></td>
                                  <td>${qe(B.port&&Se[B.port]?Se[B.port].description:"N/A")}</td>
                              </tr>
                          `).join("")}
                      </tbody>
                  </table>
              </div>
              `:'<div class="section"><p>No significantly risky listening ports identified for top listing.</p></div>'}

              ${O.length>0?`
              <div class="section">
                  <h2>Top Risky Connections</h2>
                  <table>
                      <thead>
                          <tr><th>Risk</th><th>Protocol</th><th>Local Address</th><th>Foreign Address</th><th>State</th><th>PID</th><th>Issues</th></tr>
                      </thead>
                      <tbody>
                          ${O.map(B=>`
                              <tr>
                                  <td>${No(B.risk)}</td>
                                  <td>${qe(B.protocol)}</td>
                                  <td><span class="monospace">${qe(B.localAddress)}</span></td>
                                  <td><span class="monospace">${qe(B.foreignAddress)}</span></td>
                                  <td>${qe(B.state)}</td>
                                  <td><span class="monospace">${qe(B.pid)||"N/A"}</span></td>
                                  <td>${qe(B.issues.slice(0,2).join(", "))} ${B.issues.length>2?"...":""}</td>
                              </tr>
                          `).join("")}
                      </tbody>
                  </table>
              </div>
              `:'<div class="section"><p>No significantly risky connections identified for top listing.</p></div>'}
              
              ${b.length>0?`
              <div class="section">
                  <h2>Critical Threat Intelligence IP Matches</h2>
                   <p>The following connections involve IPs found on a critical threat intelligence list and require immediate investigation:</p>
                  <table>
                      <thead>
                          <tr><th>Local Address</th><th>Foreign Address</th><th>Protocol</th><th>Details</th></tr>
                      </thead>
                      <tbody>
                          ${b.map(B=>`
                              <tr>
                                  <td><span class="monospace">${qe(B.localAddress)}</span></td>
                                  <td><span class="monospace">${qe(B.foreignAddress)}</span></td>
                                  <td>${qe(B.protocol)}</td>
                                  <td>${qe(B.issues.find(W=>W.includes("Cyber Threat Intel"))||"Critical IP Match")}</td>
                              </tr>
                          `).join("")}
                      </tbody>
                  </table>
              </div>
              `:""}

              <div class="footer">
                  <p>This report was automatically generated. For educational and informational purposes only.</p>
                  <p>Netstat Security Analyzer &copy; ${new Date().getFullYear()}</p>
              </div>
          </div>
      </body>
      </html>
    `},Ts=()=>{var L;if(!o||o.error||!At){alert("Cannot generate HTML report: No valid analysis results or overall risk context available.");return}const y=(i==null?void 0:i.name)||((L=c.find(P=>P.results===o))==null?void 0:L.name)||"report",_=pi(o,At,y),E=new Blob([_],{type:"text/html"}),D=URL.createObjectURL(E),H=document.createElement("a");H.href=D,H.download=`netstat-analysis-${y.split(".")[0]}-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(D)},Cs=()=>{var H,L;if(!o||o.error)return;const y={timestamp:new Date().toISOString(),filename:((H=c.find(P=>P.results===o))==null?void 0:H.name)||(i==null?void 0:i.name)||"unknown",format:o.format,summary:o.summary,totalConnections:o.totalConnections,recommendations:o.recommendations,listeningPorts:o.listeningPorts,localServicesOnLoopback:o.localServicesOnLoopback,allLocalPortsActivity:o.allLocalPortsActivity,allForeignPortsActivity:o.allForeignPortsActivity,suspiciousConnections:o.suspiciousConnections.map(P=>({protocol:P.protocol,localAddress:P.localAddress,foreignAddress:P.foreignAddress,state:P.state,pid:P.pid,risk:P.risk,issues:P.issues,portInfo:P.portInfo})),ipAnalysis:Object.values(o.ipAnalysis).map(P=>({...P,ports:Array.from(P.ports)}))},_=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),E=URL.createObjectURL(_),D=document.createElement("a");D.href=E,D.download=`netstat-analysis-${(((L=c.find(P=>P.results===o))==null?void 0:L.name)||(i==null?void 0:i.name)||"report").split(".")[0]}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(E)},Yt=y=>{const _={safe:{badgeClass:"border-green-600",icon:d.jsx(up,{className:"w-3 h-3 mr-1 text-green-600"}),textClass:"text-green-700"},warning:{badgeClass:"border-yellow-600",icon:d.jsx(Cn,{className:"w-3 h-3 mr-1 text-yellow-600"}),textClass:"text-yellow-700"},suspicious:{badgeClass:"border-orange-600",icon:d.jsx(Ua,{className:"w-3 h-3 mr-1 text-orange-600"}),textClass:"text-orange-700"},critical:{badgeClass:"bg-red-600 border-red-700",icon:d.jsx(dc,{className:"w-3 h-3 mr-1 text-white"}),textClass:"text-white"},unknown:{badgeClass:"border-gray-400",icon:d.jsx(Cn,{className:"w-3 h-3 mr-1 text-gray-500"}),textClass:"text-gray-600"},minimal:{badgeClass:"border-green-500 bg-green-50",icon:d.jsx(qa,{className:"w-3 h-3 mr-1 text-green-600"}),textClass:"text-green-700 font-semibold"},low:{badgeClass:"border-yellow-500 bg-yellow-50",icon:d.jsx(qa,{className:"w-3 h-3 mr-1 text-yellow-600"}),textClass:"text-yellow-700 font-semibold"},medium:{badgeClass:"border-orange-500 bg-orange-50",icon:d.jsx(Cn,{className:"w-3 h-3 mr-1 text-orange-600"}),textClass:"text-orange-700 font-semibold"},high:{badgeClass:"border-red-500 bg-red-50",icon:d.jsx(uc,{className:"w-3 h-3 mr-1 text-red-600"}),textClass:"text-red-700 font-semibold"}},E=_[y]||_.unknown;return d.jsxs(qi,{variant:y==="critical"||y==="high"?"destructive":"outline",className:`${E.badgeClass} ${E.textClass} whitespace-nowrap`,children:[E.icon,String(y).charAt(0).toUpperCase()+String(y).slice(1)]})},Yi=y=>{const _={safe:"bg-green-500",warning:"bg-yellow-500",suspicious:"bg-orange-500",critical:"bg-red-600",unknown:"bg-gray-400",minimal:"bg-green-500",low:"bg-yellow-400",medium:"bg-orange-500",high:"bg-red-500"};return _[y]||_.unknown},Bt=y=>{const _={safe:"bg-green-500",warning:"bg-yellow-400",suspicious:"bg-orange-500",critical:"bg-red-600",unknown:"bg-gray-400"};return _[y]||_.unknown},wl=y=>{ee(_=>({..._,[y]:!_[y]}))},Ss=oe.useMemo(()=>{if(!(o!=null&&o.suspiciousConnections))return[];let y=o.suspiciousConnections;if(pe!=="all"&&(y=y.filter(_=>_.risk===pe)),w){const _=w.toLowerCase();y=y.filter(E=>{var D;return E.localAddress.toLowerCase().includes(_)||E.foreignAddress.toLowerCase().includes(_)||E.protocol.toLowerCase().includes(_)||E.pid&&E.pid.toLowerCase().includes(_)||((D=E.portInfo)==null?void 0:D.name)&&E.portInfo.name.toLowerCase().includes(_)||E.state.toLowerCase().includes(_)||E.issues.some(H=>H.toLowerCase().includes(_))})}return y},[o,pe,w]),zt=oe.useMemo(()=>{if(!o||o.error)return[];const y=new Map;return[...o.establishedConnections||[],...o.suspiciousConnections||[]].filter((E,D,H)=>D===H.findIndex(L=>L.raw===E.raw)).forEach(E=>{const[D,H]=be(E.localAddress),[L,P]=be(E.foreignAddress),O=`${E.localAddress}-${E.foreignAddress}-${E.protocol}`;if(!y.has(O))y.set(O,{id:O,localAddress:E.localAddress,localIP:D,localPort:H,foreignAddress:E.foreignAddress,foreignIP:L,foreignPort:P,protocol:E.protocol,risk:E.risk,connectionCount:1,states:new Set([E.state]),issues:[...E.issues],aggregatedPIDs:E.pid?new Set([E.pid]):new Set,isListenerInteraction:!1,aiInsight:null,isFetchingAiInsight:!1});else{const b=y.get(O);b.connectionCount++,b.states.add(E.state),E.issues.forEach(X=>{b.issues.includes(X)||b.issues.push(X)}),E.pid&&b.aggregatedPIDs.add(E.pid),fe.indexOf(E.risk)<fe.indexOf(b.risk)&&(b.risk=E.risk)}}),o.listeningPorts.forEach(E=>{const[D,H]=be(E.address),L=E.protocol==="UDP"&&(E.address.includes(":")||D!=null&&D.includes(":"))?"[::]:*":"*:*",P=E.protocol==="UDP"&&(E.address.includes(":")||D!=null&&D.includes(":"))?"::":"*",O=`${E.address}-${L}-${E.protocol}-LISTEN`;if(!y.has(O))y.set(O,{id:O,localAddress:E.address,localIP:D,localPort:H,foreignAddress:L,foreignIP:P,foreignPort:null,protocol:E.protocol,risk:E.risk,connectionCount:1,states:new Set(["LISTEN"]),issues:[],aggregatedPIDs:new Set,isListenerInteraction:!0,aiInsight:null,isFetchingAiInsight:!1});else{const b=y.get(O);b.connectionCount++,fe.indexOf(E.risk)<fe.indexOf(b.risk)&&(b.risk=E.risk),b.isListenerInteraction=!0}}),Array.from(y.values()).sort((E,D)=>{const H=fe.indexOf(E.risk)-fe.indexOf(D.risk);return H!==0?H:E.isListenerInteraction!==D.isListenerInteraction?E.isListenerInteraction?-1:1:E.connectionCount!==D.connectionCount?D.connectionCount-E.connectionCount:E.localAddress!==D.localAddress?E.localAddress.localeCompare(D.localAddress):E.foreignAddress.localeCompare(D.foreignAddress)})},[o,be]),Mo=oe.useMemo(()=>{if(!zt)return[];let y=zt;if(vo!=="all"&&(y=y.filter(_=>_.risk===vo)),xo){const _=xo.toLowerCase();y=y.filter(E=>E.localAddress.toLowerCase().includes(_)||E.foreignAddress.toLowerCase().includes(_)||E.protocol.toLowerCase().includes(_)||Array.from(E.aggregatedPIDs).some(D=>D.toLowerCase().includes(_))||Array.from(E.states).some(D=>D.toLowerCase().includes(_))||E.issues.some(D=>D.toLowerCase().includes(_)))}return y},[zt,vo,xo]),On=oe.useMemo(()=>zt?{totalPairs:zt.length,criticalPairs:zt.filter(y=>y.risk==="critical").length,suspiciousPairs:zt.filter(y=>y.risk==="suspicious").length,listenerInteractions:zt.filter(y=>y.isListenerInteraction).length}:{totalPairs:0,criticalPairs:0,suspiciousPairs:0,listenerInteractions:0},[zt]),It=oe.useMemo(()=>{if(!o||!o.listeningPorts)return null;const{listeningPorts:y}=o,_=y.filter(P=>P.risk==="critical"||P.risk==="suspicious"),E=y.filter(P=>{var O,b,X;return P.port&&(((O=Se[P.port])==null?void 0:O.name)==="FTP"||((b=Se[P.port])==null?void 0:b.name)==="Telnet"||((X=Se[P.port])==null?void 0:X.name)==="HTTP")}),D=y.filter(P=>{const[O]=be(P.address);return O==="0.0.0.0"||O==="::"||O==="*"}),H=new Set(y.filter(P=>P.protocol==="TCP"&&P.port).map(P=>P.port)).size,L=new Set(y.filter(P=>P.protocol==="UDP"&&P.port).map(P=>P.port)).size;return{riskyOpenPorts:_,unencryptedServices:E,servicesOnAllInterfaces:D,totalListening:y.length,uniqueTcpPorts:H,uniqueUdpPorts:L}},[o,Se,be]);oe.useMemo(()=>{if(!o||!o.listeningPorts)return cn([]),[];const y=o.listeningPorts.map(_=>{const E=_.port?Se[_.port]:null,D={};let H=0;return o.establishedConnections.concat(o.suspiciousConnections.filter(P=>!o.establishedConnections.find(O=>O.raw===P.raw))).forEach(P=>{const[,O]=be(P.localAddress),[b]=be(P.foreignAddress);if(_.port===O&&_.protocol===P.protocol){const X=be(_.address)[0],B=be(P.localAddress)[0];let W=!1;if((_.address===P.localAddress||X==="0.0.0.0"&&!(B!=null&&B.includes(":"))||X==="::"&&(B!=null&&B.includes(":"))||X==="*"||X===B)&&(W=!0),W&&b&&b!=="*"&&b!=="0.0.0.0"&&b!=="::"){H++,D[b]||(D[b]={ip:b,connectionCountToPort:0,risk:"safe",isPublic:jt(b),states:[]});const Ae=D[b];Ae.connectionCountToPort++,Ae.states.includes(P.state)||Ae.states.push(P.state);let De=P.risk;const rt=Et(b);rt?De=rt.severity==="low"?"warning":rt.severity==="medium"?"suspicious":"critical":(P.portInfo&&fe.indexOf(P.portInfo.risk)<fe.indexOf(De)&&(De=P.portInfo.risk),jt(b)&&De==="safe"&&(De="warning")),fe.indexOf(De)<fe.indexOf(Ae.risk)&&(Ae.risk=De)}}}),{port:_.port||"N/A",protocol:_.protocol,listenerAddress:_.address,service:_.service||(E==null?void 0:E.name)||"Unknown",description:(E==null?void 0:E.description)||"No specific description for this port.",risk:_.risk,activeInboundConnectionsCount:H,connectedIpDetails:Object.values(D).sort((P,O)=>{const b=fe.indexOf(P.risk)-fe.indexOf(O.risk);return b!==0?b:O.connectionCountToPort-P.connectionCountToPort}),aiContextualInsight:null,isFetchingAiContextualInsight:!1}});return y.sort((_,E)=>{const D=fe.indexOf(_.risk)-fe.indexOf(E.risk);return D!==0?D:E.activeInboundConnectionsCount-_.activeInboundConnectionsCount}),cn(y),y},[o,Se,be,jt]);const Ht=oe.useMemo(()=>o?{totalUnique:o.allLocalPortsActivity.length,listeningCount:o.listeningPorts.length,riskyCount:o.allLocalPortsActivity.filter(y=>y.risk==="critical"||y.risk==="suspicious").length,top3Active:o.allLocalPortsActivity.slice(0,3).map(y=>`${y.port}/${y.protocol} (${y.count})`)}:{totalUnique:0,listeningCount:0,riskyCount:0,top3Active:[]},[o]),Ji=oe.useMemo(()=>o?{totalUnique:o.allForeignPortsActivity.length,riskyCount:o.allForeignPortsActivity.filter(y=>y.risk==="critical"||y.risk==="suspicious").length,top3Active:o.allForeignPortsActivity.slice(0,3).map(y=>`${y.port}/${y.protocol} (${y.count})`)}:{totalUnique:0,riskyCount:0,top3Active:[]},[o]),En=oe.useMemo(()=>["critical","suspicious","warning","safe","unknown"],[]),As=oe.useMemo(()=>o?[{title:"Total Issues",value:o.summary.critical+o.summary.suspicious+o.summary.warning,icon:uv,classes:"from-slate-500 to-slate-600"},{title:"Critical",value:o.summary.critical,icon:dc,classes:"from-red-500 to-red-600"},{title:"Suspicious",value:o.summary.suspicious,icon:Ua,classes:"from-orange-500 to-orange-600"},{title:"Warnings",value:o.summary.warning,icon:Cn,classes:"from-yellow-500 to-yellow-600"},{title:"Safe Items",value:o.summary.safe,icon:up,classes:"from-green-500 to-green-600"}]:[],[o]),Rn=oe.useMemo(()=>!o||!o.ipAnalysis?[]:Object.values(o.ipAnalysis).filter(y=>y.isPublic).sort((y,_)=>En.indexOf(y.risk)-En.indexOf(_.risk)||_.connections-y.connections),[o,En]),Ki=oe.useMemo(()=>{if(!An||c.length===0)return[];const y=An,_=[];return c.forEach(E=>{if(E.results.error)return;let D=[];y==="127.0.0.1"&&(D=E.results.localServicesOnLoopback.map(L=>{var P;return{protocol:L.protocol,localAddress:`127.0.0.1:${L.port}`,foreignAddress:"*:*",state:"LISTEN_LOOPBACK",pid:((P=L.associatedPids)==null?void 0:P.join(", "))||null,raw:`Local Service: ${L.protocol} 127.0.0.1:${L.port} (${L.serviceName})`,format:E.results.format,risk:L.risk,issues:[],recommendations:[],portInfo:L.port?Se[L.port]:void 0}}));const H=E.results.establishedConnections.concat(E.results.suspiciousConnections).concat(E.results.listeningPorts.map(L=>({protocol:L.protocol,localAddress:L.address,foreignAddress:"*:*",state:"LISTEN",pid:null,raw:`Listening: ${L.protocol} ${L.address} (Port: ${L.port||"N/A"})`,format:E.results.format,risk:L.risk,issues:[],recommendations:[],portInfo:L.port?Se[L.port]:void 0}))).concat(D).filter((L,P,O)=>P===O.findIndex(b=>b.raw===L.raw&&b.localAddress===L.localAddress&&b.foreignAddress===L.foreignAddress&&b.state===L.state)).filter(L=>{const[P]=be(L.localAddress),[O]=be(L.foreignAddress);return P===y||O===y});if(H.length>0){const L=new Set,P=new Set,O=new Set,b=new Set;let X="safe";H.forEach(B=>{const[W,Ae]=be(B.localAddress),[De,rt]=be(B.foreignAddress);W===y&&Ae?O.add(Ae):Ae&&(L.add(Ae),O.add(Ae)),De===y&&rt&&(P.add(rt),O.add(rt)),b.add(B.state);const Mt=Et(y);if(Mt){const en=Mt.severity==="low"?"warning":Mt.severity==="medium"?"suspicious":"critical";En.indexOf(en)<En.indexOf(X)&&(X=en)}else En.indexOf(B.risk)<En.indexOf(X)&&(X=B.risk)}),_.push({snapshotId:E.id,snapshotName:E.name,snapshotTimestamp:E.timestamp,ipFound:!0,connectionsToIp:H.filter(B=>be(B.foreignAddress)[0]===y&&!B.state.startsWith("LISTEN")),connectionsFromIp:H.filter(B=>be(B.localAddress)[0]===y&&B.state.startsWith("LISTEN")),summary:{localPortsInvolved:Array.from(L),foreignPortsOnSelectedIp:Array.from(P),allPortsInvolvedWithIp:Array.from(O),connectionStates:Array.from(b),risk:X,connectionCount:H.length}})}else _.push({snapshotId:E.id,snapshotName:E.name,snapshotTimestamp:E.timestamp,ipFound:!1,connectionsToIp:[],connectionsFromIp:[]})}),_.sort((E,D)=>D.snapshotTimestamp.getTime()-E.snapshotTimestamp.getTime())},[An,c,be,En,Se]),Rl=y=>{xt(_=>({..._,[y]:!_[y]}))},Fn=oe.useMemo(()=>{if(!o||o.error||!o.summary)return[];const{summary:y,totalConnections:_}=o;return _===0?[]:["critical","suspicious","warning","safe"].map(D=>({risk:D,count:y[D],percentage:_>0?y[D]/_*100:0,color:Bt(D)})).filter(D=>D.count>0)},[o]),Dl=oe.useMemo(()=>!o||o.error?[]:o.listeningPorts.filter(y=>y.risk==="critical"||y.risk==="suspicious").slice(0,5),[o]),Es=oe.useMemo(()=>!o||o.error?[]:o.suspiciousConnections.filter(y=>y.risk==="critical"||y.risk==="suspicious").slice(0,5),[o]),Il=y=>{Cl(_=>_===y?null:y)},Dn=(y,_,E,D)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>Il(y),className:"w-full flex justify-between items-center p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 transition-colors","aria-expanded":hs===y,"aria-controls":`help-content-${y}`,children:[d.jsxs("span",{className:"flex items-center text-lg font-semibold text-gray-700",children:[d.jsx(E,{className:"w-5 h-5 mr-3 text-blue-600"}),_]}),hs===y?d.jsx(oc,{className:"w-5 h-5 text-gray-600"}):d.jsx(ic,{className:"w-5 h-5 text-gray-600"})]}),hs===y&&d.jsx("div",{id:`help-content-${y}`,className:"p-5 bg-white border-t border-gray-200 prose prose-sm max-w-none text-gray-700",children:D})]});return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-blue-100 p-4 selection:bg-blue-200",children:[d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("header",{className:"text-center mb-8 py-6",children:[d.jsxs("div",{className:"flex items-center justify-center mb-3",children:[d.jsx(is,{className:"w-12 h-12 text-blue-600 mr-3 drop-shadow-md"}),d.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 tracking-tight",children:"Netstat Security Analyzer"})]}),d.jsx("p",{className:"text-lg text-gray-600",children:"Upload your netstat output for an in-depth security posture analysis."})]}),d.jsxs(Ge,{className:"mb-6 shadow-xl overflow-hidden",children:[d.jsxs(it,{className:"bg-gray-50 border-b",children:[d.jsxs(ot,{className:"flex items-center text-xl text-gray-700",children:[d.jsx(vp,{className:"w-6 h-6 mr-3 text-blue-600"}),"Upload Netstat Output File"]}),d.jsx(Tn,{children:"Supports standard netstat output from Windows, Linux, and macOS. Analyze multiple files to build a timeline."})]}),d.jsx(je,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center hover:border-blue-500 transition-colors duration-200 ease-in-out ${i?"border-blue-400 bg-blue-50/30":"border-gray-300"}`,children:[d.jsx(La,{className:`w-16 h-16 mx-auto mb-4 ${i?"text-blue-500":"text-gray-400"}`}),d.jsx("input",{type:"file",accept:".txt,.log,.out,text/plain",onChange:er,className:"hidden",id:"file-upload","aria-label":"Upload netstat file"}),d.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer text-blue-600 hover:text-blue-800 font-semibold text-lg py-2 px-4 rounded-md hover:bg-blue-100 transition-colors",children:i?`Selected: ${i.name}`:"Click to select netstat output file"}),d.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Max file size: 10MB. Common commands: ",d.jsx("code",{children:"netstat -an"})," (Win), ",d.jsx("code",{children:"ss -tulpn"})," / ",d.jsx("code",{children:"netstat -tulnp"})," (Lin)."]})]}),i&&d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200 shadow-sm",children:[d.jsxs("div",{className:"flex items-center mb-3 sm:mb-0",children:[d.jsx(La,{className:"w-5 h-5 text-blue-700 mr-2 flex-shrink-0"}),d.jsxs("span",{className:"font-medium text-blue-900 truncate",title:i.name,children:[i.name," (",(i.size/1024).toFixed(1)," KB)"]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Oe,{onClick:Nl,disabled:Wt||!i,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300",children:Wt?d.jsxs(d.Fragment,{children:[d.jsx(nc,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Analyze & Add to History"]})}),d.jsx(Oe,{variant:"outline",onClick:Co,children:"Clear Selection"})]})]}),d.jsxs(Oe,{variant:"destructive",size:"sm",onClick:$i,className:"float-right mt-2",children:[d.jsx(gp,{className:"w-4 h-4 mr-2"})," Clear All Data & History"]})]})})]}),(o==null?void 0:o.error)&&q!=="timeline"&&q!=="help"&&d.jsxs(Ga,{variant:"destructive",className:"mb-6 shadow-lg",children:[d.jsx(Cn,{className:"h-5 w-5"}),d.jsx(Ba,{children:"Analysis Error for Current View"}),d.jsx(za,{children:o.error})]}),o&&!o.error&&q!=="timeline"&&q!=="overallRisk"&&q!=="help"&&d.jsx("div",{className:"space-y-6",children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:As.map(y=>d.jsx(Ge,{className:`bg-gradient-to-br ${y.classes} text-white shadow-lg`,children:d.jsx(je,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-3xl font-bold",children:y.value}),d.jsx("div",{className:"text-sm opacity-90",children:y.title})]}),d.jsx(y.icon,{className:"w-8 h-8 opacity-70"})]})})},y.title))})}),!o&&q!=="timeline"&&q!=="help"&&d.jsx(Ge,{className:"mb-6 shadow-lg",children:d.jsxs(je,{className:"p-10 text-center",children:[d.jsx(La,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),d.jsx("p",{className:"text-xl text-gray-500",children:"No analysis loaded."}),d.jsx("p",{className:"text-sm text-gray-400",children:'Upload a file and click "Analyze & Add to History" to begin, or load a snapshot from the Timeline tab.'})]})}),d.jsxs(Ge,{className:"shadow-lg mt-6",children:[d.jsx(it,{className:"border-b bg-gray-50",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[d.jsx("div",{className:"flex space-x-1 mb-3 sm:mb-0 border border-gray-200 rounded-md p-0.5 bg-white shadow-sm overflow-x-auto",children:[{id:"overallRisk",label:"Overall Risk",icon:fp},{id:"overview",label:"Overview",icon:rp},{id:"localServices",label:"Local Services",icon:lc},{id:"connections",label:"Risky Conns",icon:Cn},{id:"riskMatrix",label:"Risk Matrix",icon:cc},{id:"portUsage",label:"Port Usage",icon:Va},{id:"ipAnalysis",label:"IP Analysis",icon:sc},{id:"timeline",label:"Timeline",icon:dp},{id:"settings",label:"Settings",icon:fv},{id:"help",label:"Help & FAQ",icon:L0}].map(y=>d.jsxs(Oe,{variant:q===y.id?"default":"ghost",size:"sm",onClick:()=>te(y.id),className:`${q===y.id?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-200"} transition-all duration-150 whitespace-nowrap px-3 py-1.5`,children:[d.jsx(y.icon,{className:"w-4 h-4 mr-1.5"}),y.label]},y.id))}),o&&!o.error&&q!=="timeline"&&q!=="help"&&d.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0 mt-2 sm:mt-0",children:[d.jsxs(Oe,{onClick:Cs,variant:"outline",size:"sm",className:"border-blue-500 text-blue-600 hover:bg-blue-50 hover:text-blue-700",children:[d.jsx(cp,{className:"w-4 h-4 mr-2"}),"Export JSON"]}),d.jsxs(Oe,{onClick:Ts,variant:"outline",size:"sm",className:"border-teal-500 text-teal-600 hover:bg-teal-50 hover:text-teal-700",children:[d.jsx(O0,{className:"w-4 h-4 mr-2"}),"Generate HTML Report"]})]})]})}),d.jsxs(je,{className:"pt-6",children:[q==="overallRisk"&&o&&!o.error&&At&&d.jsxs("div",{className:"space-y-8",children:[d.jsx(Ge,{className:"shadow-xl border-t-4",style:{borderColor:Yi(At.level)},children:d.jsxs(je,{className:"p-6 flex flex-col items-center text-center",children:[d.jsx("div",{className:`w-32 h-32 rounded-full ${At.colorClass} flex items-center justify-center mb-4 shadow-lg`,children:At.icon}),d.jsx("h2",{className:`text-3xl font-bold ${At.textColorClass.replace("text-","text-gray-")}`,children:At.description}),d.jsx("p",{className:"text-gray-600 mt-2 max-w-xl",children:At.detailedMessage})]})}),d.jsxs(Ge,{children:[d.jsxs(it,{children:[d.jsx(ot,{className:"text-xl",children:"Risk Breakdown (Current View)"}),d.jsx(Tn,{children:"Distribution of identified items by risk level."})]}),d.jsxs(je,{children:[d.jsx("div",{className:"w-full h-8 flex rounded-full overflow-hidden shadow-inner bg-gray-200 my-2",children:Fn.map(y=>d.jsx("div",{className:`h-full flex items-center justify-center text-xs font-medium text-white ${y.color}`,style:{width:`${y.percentage}%`},title:`${y.risk.charAt(0).toUpperCase()+y.risk.slice(1)}: ${y.count} (${y.percentage.toFixed(1)}%)`,children:y.percentage>10?`${y.percentage.toFixed(0)}%`:""},y.risk))}),d.jsx("div",{className:"flex justify-around mt-2 text-xs text-gray-600",children:Fn.map(y=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`w-3 h-3 rounded-full mr-1.5 ${y.color}`}),y.risk.charAt(0).toUpperCase()+y.risk.slice(1),": ",y.count]},`${y.risk}-label`))})]})]}),d.jsxs(Ge,{children:[d.jsx(it,{children:d.jsx(ot,{className:"text-xl",children:"Key Findings (Current View)"})}),d.jsxs(je,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs(Ge,{className:"bg-red-50 border-red-200",children:[d.jsx(it,{children:d.jsxs(ot,{className:"text-red-700 text-lg",children:["Critical (",o.summary.critical,")"]})}),d.jsx(je,{className:"text-red-600 text-sm",children:"Items requiring immediate attention."})]}),d.jsxs(Ge,{className:"bg-orange-50 border-orange-200",children:[d.jsx(it,{children:d.jsxs(ot,{className:"text-orange-700 text-lg",children:["Suspicious (",o.summary.suspicious,")"]})}),d.jsx(je,{className:"text-orange-600 text-sm",children:"Potentially harmful items needing investigation."})]}),d.jsxs(Ge,{className:"bg-yellow-50 border-yellow-200",children:[d.jsx(it,{children:d.jsxs(ot,{className:"text-yellow-700 text-lg",children:["Warnings (",o.summary.warning,")"]})}),d.jsx(je,{className:"text-yellow-600 text-sm",children:"Deviations from best practices or minor risks."})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(Ge,{children:[d.jsx(it,{children:d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(hp,{className:"w-5 h-5 mr-2 text-orange-600"}),"Top Risky Listening Ports (External)"]})}),d.jsx(je,{children:Dl.length>0?d.jsx("ul",{className:"space-y-2",children:Dl.map((y,_)=>d.jsxs("li",{className:"text-sm p-2 border rounded-md hover:bg-gray-50 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("span",{className:"font-semibold",children:[y.service," (",y.port,"/",y.protocol,")"]}),d.jsx("span",{className:"block text-xs text-gray-500",children:y.address})]}),Yt(y.risk)]},`risky-listen-${_}`))}):d.jsx("p",{className:"text-sm text-gray-500 italic",children:"No critical or suspicious external listening ports found."})})]}),d.jsxs(Ge,{children:[d.jsx(it,{children:d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(Sv,{className:"w-5 h-5 mr-2 text-red-600"}),"Top Risky Connections"]})}),d.jsx(je,{children:Es.length>0?d.jsx("ul",{className:"space-y-2",children:Es.map((y,_)=>d.jsxs("li",{className:"text-sm p-2 border rounded-md hover:bg-gray-50",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("span",{className:"font-mono text-xs truncate max-w-[200px] sm:max-w-xs",title:`${y.localAddress} -> ${y.foreignAddress}`,children:[y.localAddress,"  ",y.foreignAddress]}),Yt(y.risk)]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[d.jsxs("span",{children:[y.protocol,", State: ",y.state]}),y.portInfo&&d.jsxs("span",{className:"ml-2",children:["(",y.portInfo.name,")"]})]})]},`risky-conn-${_}`))}):d.jsx("p",{className:"text-sm text-gray-500 italic",children:"No critical or suspicious active connections found."})})]})]}),o.recommendations.length>0&&d.jsxs(Ge,{className:"border-blue-200 bg-blue-50/30",children:[d.jsx(it,{children:d.jsxs(ot,{className:"flex items-center text-blue-700",children:[d.jsx(Vi,{className:"w-6 h-6 mr-2"}),"Top Security Recommendations"]})}),d.jsx(je,{children:d.jsx("div",{className:"space-y-3",children:o.recommendations.slice(0,3).map((y,_)=>d.jsxs(Ga,{className:`${y.type==="critical"?"border-red-300 bg-red-50":"border-yellow-300 bg-yellow-50"}`,children:[d.jsx(Ba,{className:`${y.type==="critical"?"text-red-800":"text-yellow-800"} font-semibold`,children:y.title}),d.jsx(za,{className:`${y.type==="critical"?"text-red-700":"text-yellow-700"} text-xs`,children:y.description})]},`rec-overall-${_}`))})})]})]}),q==="overallRisk"&&(!o||o.error)&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(fp,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No analysis loaded for Overall Risk assessment."}),d.jsx("p",{className:"text-sm text-gray-400",children:"Upload a file or load a snapshot from the Timeline tab."}),(o==null?void 0:o.error)&&d.jsx("p",{className:"text-red-500 mt-2",children:o.error})]}),q==="overview"&&o&&!o.error&&d.jsxs("div",{className:"space-y-6",children:[pt&&d.jsxs(Ge,{className:"border-purple-200 bg-purple-50/30 shadow-md",children:[d.jsx(it,{children:d.jsxs(ot,{className:"flex items-center text-purple-700",children:[d.jsx(fo,{className:"w-6 h-6 mr-2"}),"AI Security Briefing (Current View)"]})}),d.jsxs(je,{children:[!me&&!xe&&d.jsxs(Oe,{onClick:tr,disabled:!o||xe||!lt,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-300",children:[d.jsx(fo,{className:"w-4 h-4 mr-2"}),"Get AI-Powered Insights"]}),xe&&d.jsxs("div",{className:"flex items-center text-purple-700",children:[d.jsx(nc,{className:"w-5 h-5 mr-2 animate-spin"}),"Generating briefing... This may take a moment."]}),me&&!xe&&d.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 whitespace-pre-wrap p-2 bg-purple-50 rounded",children:me}),d.jsxs("p",{className:"text-xs text-gray-500 mt-3 italic",children:["AI insights are for informational purposes and should be verified. ",!lt&&d.jsx("span",{className:"text-red-500 font-semibold",children:"API key not configured; AI features disabled."})]})]})]}),zi.length>0&&d.jsxs(Ge,{className:"border-sky-200 bg-sky-50/30 shadow-md",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center text-sky-700",children:[d.jsx(hp,{className:"w-6 h-6 mr-2"}),"Top Exposed Listening Port Activity (Current View)"]}),d.jsx(Tn,{children:"Externally exposed listening ports with active inbound connections, sorted by risk and connection count. Enhanced with AI context."})]}),d.jsxs(je,{className:"space-y-3",children:[zi.map(y=>{const _=Math.max(...zi.map(L=>L.activeInboundConnectionsCount),1),E=Math.max(5,y.activeInboundConnectionsCount/_*100),D=`${y.port}-${y.protocol}-${y.listenerAddress}`,H=!!Hi[D];return d.jsxs(Ge,{className:"group border rounded-md overflow-hidden shadow-sm hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${Yi(y.risk)} flex-shrink-0`}),d.jsxs("span",{className:"font-semibold text-gray-800",children:["Port ",y.port,"/",y.protocol," (",y.service||"Unknown",")"]})]}),d.jsxs("p",{className:"text-xs text-gray-500 ml-5 truncate",title:y.listenerAddress,children:["Listening on: ",y.listenerAddress]}),d.jsx("p",{className:"text-xs text-gray-500 ml-5 truncate",title:y.description,children:y.description})]}),d.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[Yt(y.risk),d.jsxs("span",{className:"text-xs text-gray-600 mt-1",children:[y.activeInboundConnectionsCount," active connections"]})]})]}),y.activeInboundConnectionsCount>0&&d.jsx("div",{className:"h-2 w-full bg-gray-200 rounded overflow-hidden my-1",children:d.jsx("div",{className:`h-full rounded ${Bt(y.risk)} transition-all duration-300 ease-in-out group-hover:opacity-80`,style:{width:`${E}%`},title:`${y.activeInboundConnectionsCount} active connections`})}),d.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[y.connectedIpDetails.length>0&&d.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>Rl(D),"aria-expanded":H,className:"text-xs",children:[H?d.jsx(oc,{className:"w-3 h-3 mr-1"}):d.jsx(ic,{className:"w-3 h-3 mr-1"}),"Connected IPs (",y.connectedIpDetails.length,")"]}),pt&&lt&&d.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>Ao(y),disabled:y.isFetchingAiContextualInsight||!lt,className:"text-xs bg-purple-50 hover:bg-purple-100 border-purple-300 text-purple-700",children:[y.isFetchingAiContextualInsight?d.jsx(li,{className:"w-3 h-3 mr-1 animate-spin"}):d.jsx(fo,{className:"w-3 h-3 mr-1"}),"Get AI Context"]})]})]}),H&&y.connectedIpDetails.length>0&&d.jsxs("div",{className:"px-3 pb-3 border-t bg-gray-50/50",children:[d.jsx("h5",{className:"text-xs font-semibold text-gray-700 mt-2 mb-1",children:"Connected IP Details:"}),d.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 pr-1",children:y.connectedIpDetails.map(L=>d.jsxs("div",{className:"text-xs p-1.5 bg-white rounded border border-gray-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-mono text-gray-800",children:L.ip}),d.jsxs("span",{className:`ml-2 text-gray-500 ${L.isPublic?"font-semibold":""}`,children:["(",L.isPublic?"Public":"Private",")"]}),d.jsxs("span",{className:"ml-2 text-gray-500",children:["x",L.connectionCountToPort]}),d.jsxs("span",{className:"ml-2 text-gray-500 text-[0.65rem]",children:["(",L.states.join(", ")||"N/A",")"]})]}),Yt(L.risk)]},L.ip))})]}),y.isFetchingAiContextualInsight&&d.jsxs("div",{className:"p-3 border-t text-xs text-purple-700 flex items-center bg-purple-50/30",children:[d.jsx(li,{className:"w-4 h-4 mr-2 animate-spin"})," Generating AI contextual analysis..."]}),y.aiContextualInsight&&!y.isFetchingAiContextualInsight&&d.jsxs("div",{className:"p-3 border-t bg-purple-50/30",children:[d.jsxs("h5",{className:"text-xs font-semibold text-purple-800 mb-1 flex items-center",children:[d.jsx(Vi,{className:"w-3.5 h-3.5 mr-1 text-yellow-500"}),"AI Contextual Analysis:"]}),d.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 bg-white p-2 rounded-md shadow-sm overflow-x-auto font-sans",children:y.aiContextualInsight})]})]},D)}),zi.length===0&&d.jsx("p",{className:"text-sm text-gray-500 italic text-center py-3",children:"No exposed listening port activity with inbound connections to display."})]})]}),It&&d.jsxs(Ge,{className:"border-teal-200 bg-teal-50/30 shadow-md",children:[d.jsx(it,{children:d.jsxs(ot,{className:"flex items-center text-teal-700",children:[d.jsx(mp,{className:"w-6 h-6 mr-2"}),"Key Port Observations (Exposed Listeners) (Current View)"]})}),d.jsxs(je,{className:"space-y-3 text-sm",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-teal-800",children:["Potentially Risky Exposed Ports Open (",It.riskyOpenPorts.length,"):"]}),It.riskyOpenPorts.length>0?d.jsxs("ul",{className:"list-disc list-inside pl-4 text-gray-700 space-y-1",children:[It.riskyOpenPorts.slice(0,5).map(y=>d.jsxs("li",{children:["Port ",y.port||"N/A"," (",y.protocol,", ",y.service,") on ",y.address," - ",Yt(y.risk),y.port&&Se[y.port]&&d.jsxs("span",{className:"block text-xs italic ml-4 text-gray-600",children:["- ",Se[y.port].description]})]},`${y.protocol}-${y.address}-${y.port}`)),It.riskyOpenPorts.length>5&&d.jsxs("li",{children:["And ",It.riskyOpenPorts.length-5," more..."]})]}):d.jsx("p",{className:"text-gray-600 italic",children:"No critical or suspicious exposed listening ports found."})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-teal-800",children:["Unencrypted Exposed Services Detected (",It.unencryptedServices.length,"):"]}),It.unencryptedServices.length>0?d.jsx("ul",{className:"list-disc list-inside pl-4 text-gray-700 space-y-1",children:It.unencryptedServices.map(y=>d.jsxs("li",{children:["Port ",y.port||"N/A"," (",y.service,", ",y.protocol,") on ",y.address,y.port&&Se[y.port]&&d.jsxs("span",{className:"block text-xs italic ml-4 text-gray-600",children:["- ",Se[y.port].description]})]},`unenc-${y.protocol}-${y.address}-${y.port}`))}):d.jsx("p",{className:"text-gray-600 italic",children:"No common unencrypted services (FTP, Telnet, HTTP) detected among exposed listening ports."})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-teal-800",children:["Services Exposed on All Interfaces (",It.servicesOnAllInterfaces.length,"):"]}),It.servicesOnAllInterfaces.length>0?d.jsxs("p",{className:"text-gray-700",children:[It.servicesOnAllInterfaces.length," service(s) are open to all network interfaces (e.g., 0.0.0.0). Review these for necessity and ensure they are firewalled."]}):d.jsx("p",{className:"text-gray-600 italic",children:"No services found listening on all interfaces."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-teal-200 mt-2",children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:It.totalListening})," Total Exposed Listeners"]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:It.uniqueTcpPorts})," Unique Exposed TCP"]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:It.uniqueUdpPorts})," Unique Exposed UDP"]})]}),pt&&d.jsxs("div",{className:"pt-4 border-t border-teal-200 mt-4",children:[d.jsxs("h4",{className:"flex items-center font-semibold text-teal-800 mb-2",children:[d.jsx(Vi,{className:"w-5 h-5 mr-2 text-yellow-500"}),"AI-Powered General Exposed Port Analysis (Current View)"]}),!Qe&&!ui&&d.jsxs(Oe,{onClick:Ml,disabled:!o||ui||!lt||o.listeningPorts.length===0,className:"bg-teal-600 hover:bg-teal-700 text-white disabled:bg-teal-300",children:[d.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Get AI General Exposed Port Insights"]}),ui&&d.jsxs("div",{className:"flex items-center text-teal-700",children:[d.jsx(nc,{className:"w-5 h-5 mr-2 animate-spin"}),"Analyzing exposed ports..."]}),Qe&&!ui&&d.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 whitespace-pre-wrap p-2 bg-teal-50 rounded",children:Qe}),d.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"AI insights analyze *externally exposed* listening ports. For 127.0.0.1 services, see 'Local Services' tab."})]})]})]}),o.recommendations.length>0&&d.jsxs(Ge,{className:"border-blue-200 bg-blue-50/30 shadow-md",children:[d.jsx(it,{children:d.jsxs(ot,{className:"flex items-center text-blue-700",children:[d.jsx(is,{className:"w-6 h-6 mr-2"}),"Key Security Recommendations (Current View)"]})}),d.jsx(je,{children:d.jsx("div",{className:"space-y-4",children:o.recommendations.map((y,_)=>d.jsxs(Ga,{className:`${y.type==="critical"?"border-red-300 bg-red-50 shadow-sm":"border-yellow-300 bg-yellow-50 shadow-sm"}`,children:[d.jsx(Ba,{className:`${y.type==="critical"?"text-red-800":"text-yellow-800"} font-semibold`,children:y.title}),d.jsxs(za,{className:`${y.type==="critical"?"text-red-700":"text-yellow-700"}`,children:[y.description,y.services&&d.jsxs("div",{className:"mt-2 text-xs",children:[d.jsx("span",{className:"font-semibold",children:"Potentially Affected:"})," ",y.services]})]})]},_))})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Ge,{className:"shadow-md",children:[d.jsx(it,{children:d.jsx(ot,{className:"text-lg",children:"Scan Information (Current View)"})}),d.jsxs(je,{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Source File:"})," ",d.jsx(qi,{variant:"secondary",children:((Pl=c.find(y=>y.results===o))==null?void 0:Pl.name)||"N/A"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Detected Format:"})," ",d.jsx(qi,{variant:"secondary",children:o.format.toUpperCase()})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total Connections Analyzed:"})," ",d.jsx("span",{className:"font-medium",children:o.totalConnections})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Exposed Listening Ports:"})," ",d.jsx("span",{className:"font-medium",children:o.listeningPorts.length})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Local Services (127.0.0.1):"})," ",d.jsx("span",{className:"font-medium",children:o.localServicesOnLoopback.length})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Established Connections:"})," ",d.jsx("span",{className:"font-medium",children:o.establishedConnections.length})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Unique External IPs:"})," ",d.jsx("span",{className:"font-medium",children:Object.values(o.ipAnalysis).filter(y=>y.isPublic).length})]})]})]}),d.jsxs(Ge,{className:"shadow-md",children:[d.jsx(it,{children:d.jsx(ot,{className:"text-lg",children:"Risk Distribution Summary (Current View)"})}),d.jsx(je,{className:"space-y-2",children:Object.entries(o.summary).sort(([y,_],[E,D])=>_!==D?D-_:fe.indexOf(y)-fe.indexOf(E)).map(([y,_])=>d.jsxs("div",{className:"flex items-center justify-between py-1",children:[Yt(y),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:_}),d.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",o.totalConnections>0?(_/o.totalConnections*100).toFixed(1):0,"%)"]})]})]},y))})]})]})]}),q==="overview"&&!o&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(rp,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No analysis loaded for overview."}),d.jsx("p",{className:"text-sm text-gray-400",children:"Upload a file or load a snapshot from the Timeline tab."})]}),q==="localServices"&&o&&!o.error&&d.jsxs(Ge,{className:"shadow-inner",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(lc,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Local Services (on 127.0.0.1) Analysis (",o.localServicesOnLoopback.length,") (Current View)"]}),d.jsx(Tn,{children:"Services operating on the loopback interface (127.0.0.1). Sorted by risk. Use AI to help identify them."})]}),d.jsxs(je,{children:[o.localServicesOnLoopback.length>0?d.jsx("div",{className:"space-y-4",children:o.localServicesOnLoopback.map(y=>{const _=`${y.port}-${y.protocol}`;return d.jsxs(Ge,{className:"border rounded-lg overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2 sm:mb-0 flex-grow min-w-0",children:[d.jsx("div",{className:`w-3 h-3 rounded-full mr-1 ${Yi(y.risk)} flex-shrink-0`}),d.jsx("div",{className:"flex items-center justify-center w-12 h-10 rounded-md bg-indigo-100 text-indigo-700 font-bold text-sm flex-shrink-0",children:y.port||"?"}),d.jsxs("div",{className:"flex-grow min-w-0",children:[d.jsxs("div",{className:"font-semibold text-gray-800 truncate",title:y.serviceName,children:[y.serviceName," ",d.jsxs("span",{className:"text-xs text-gray-500",children:["(",y.protocol,")"]})]}),d.jsx("div",{className:"text-xs text-gray-600",children:"On: 127.0.0.1"}),d.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",title:y.description,children:y.description})]})]}),d.jsxs("div",{className:"flex flex-col items-start sm:items-end space-y-1",children:[Yt(y.risk),d.jsxs("span",{className:"text-xs text-gray-500",children:["Connections: ",y.connectionCount]})]})]}),y.associatedPids&&y.associatedPids.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Associated PIDs: ",d.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:y.associatedPids.join(", ")})]}),pt&&lt&&d.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>_l(y),disabled:go[_]||!lt,className:"border-indigo-500 text-indigo-600 hover:bg-indigo-50 hover:text-indigo-700 whitespace-nowrap text-xs",children:[go[_]?d.jsx(li,{className:"w-3 h-3 mr-1.5 animate-spin"}):d.jsx(fo,{className:"w-3 h-3 mr-1.5"}),"Identify Service with AI"]})]}),go[_]&&d.jsxs("div",{className:"p-3 border-t border-gray-200 text-sm text-indigo-700 flex items-center bg-indigo-50/30",children:[d.jsx(li,{className:"w-4 h-4 mr-2 animate-spin"})," Fetching AI insights for ",y.port,"/",y.protocol,"..."]}),Tl[_]&&!go[_]&&d.jsxs("div",{className:"p-4 border-t border-gray-200 bg-indigo-50/30",children:[d.jsxs("h4",{className:"text-sm font-semibold text-indigo-800 mb-2 flex items-center",children:[d.jsx(Vi,{className:"w-4 h-4 mr-1.5 text-yellow-500"}),"AI Insights for ",y.port,"/",y.protocol,":"]}),d.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 bg-white p-3 rounded-md shadow-sm overflow-x-auto font-sans",children:Tl[_]})]})]},_)})}):d.jsx("p",{className:"text-gray-500 italic py-4 text-center",children:"No local services (on 127.0.0.1) identified in the current analysis."}),d.jsx("p",{className:"text-xs text-gray-500 mt-6 italic",children:"AI-powered local service identification can help understand common software using these ports. Always verify critical findings."})]})]}),q==="localServices"&&!o&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(lc,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No analysis loaded for Local Services."})]}),q==="connections"&&o&&!o.error&&d.jsxs(Ge,{className:"shadow-inner",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(Cn,{className:"w-5 h-5 mr-2 text-orange-500"}),"Connections Requiring Attention (",Ss.length," / ",o.suspiciousConnections.length,") (Current View)"]}),d.jsx(Tn,{children:"Network connections flagged due to potential security risks or noteworthy characteristics."})]}),d.jsxs(je,{children:[d.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border flex flex-col sm:flex-row gap-4 items-center sticky top-0 z-10 bg-opacity-95 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[d.jsx("label",{htmlFor:"filterRisk",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Risk"}),d.jsxs("select",{id:"filterRisk",value:pe,onChange:y=>Ye(y.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500","aria-label":"Filter connections by risk level",children:[d.jsx("option",{value:"all",children:"All Flagged"}),d.jsx("option",{value:"critical",children:"Critical"}),d.jsx("option",{value:"suspicious",children:"Suspicious"}),d.jsx("option",{value:"warning",children:"Warning"})]})]}),d.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[d.jsx("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Connections"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"searchTerm",placeholder:"IP, port, PID, state, issue...",value:w,onChange:y=>K(y.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-10","aria-label":"Search risky connections"}),d.jsx(gl,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})]})]})]}),Ss.length>0?d.jsx("div",{className:"space-y-4",children:Ss.map((y,_)=>{const E=`${y.raw}-${_}`;return d.jsxs(Ge,{className:`border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow ${y.risk==="critical"?"border-red-300 bg-red-50/30":y.risk==="suspicious"?"border-orange-300 bg-orange-50/30":"border-yellow-300 bg-yellow-50/30"}`,children:[d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-x-4 gap-y-2 items-start",children:[d.jsxs("div",{className:"md:col-span-3",children:[d.jsxs("div",{className:"font-mono text-xs sm:text-sm break-all mb-1",children:[d.jsx("span",{className:`font-semibold ${Bt(y.risk).replace("bg-","text-")} `,children:y.protocol}),": ",y.localAddress,"  ",y.foreignAddress]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["State: ",d.jsx("span",{className:"font-medium text-gray-700",children:y.state}),y.pid&&` | PID: <span className="font-medium text-gray-700">${y.pid}</span>`,y.portInfo&&` | Service: <span className="font-medium text-gray-700">${y.portInfo.name}</span>`]})]}),d.jsxs("div",{className:"flex flex-col md:items-end space-y-1 items-start mt-2 md:mt-0",children:[Yt(y.risk),y.issues&&y.issues.length>0&&d.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>wl(E),"aria-expanded":!!ne[E],className:"text-blue-600 hover:bg-blue-100 h-8 px-2 mt-1",children:[ne[E]?d.jsx(oc,{className:"w-4 h-4 mr-1"}):d.jsx(ic,{className:"w-4 h-4 mr-1"}),ne[E]?"Hide Issues":"Show Issues"," (",y.issues.length,")"]})]})]})}),ne[E]&&y.issues&&y.issues.length>0&&d.jsxs("div",{className:`px-4 pb-4 pt-2 border-t bg-opacity-50 ${y.risk==="critical"?"bg-red-50":y.risk==="suspicious"?"bg-orange-50":"bg-yellow-50"}`,children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Identified Issues:"}),d.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-xs text-gray-700",children:y.issues.map((D,H)=>d.jsx("li",{children:D},H))})]})]},E)})}):d.jsxs("div",{className:"text-center py-10",children:[d.jsx(gl,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No connections match your current filters in the current view."}),o.suspiciousConnections.length===0&&d.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No connections were flagged as requiring attention in the initial analysis of the current view."})]})]})]}),q==="connections"&&!o&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(Cn,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No analysis loaded for risky connections."})]}),q==="riskMatrix"&&o&&!o.error&&d.jsxs(Ge,{className:"shadow-inner",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(cc,{className:"w-5 h-5 mr-2 text-blue-500"}),"Interaction Risk Matrix (",Mo.length," / ",zt.length,") (Current View)"]}),d.jsxs(Tn,{children:["Detailed matrix of all unique network interactions (Local  Foreign). Sorted by overall risk, with cell-specific AI insights.",d.jsx("br",{}),d.jsxs("span",{className:"text-xs text-gray-500",children:["Summary: ",On.totalPairs," unique pairs |",On.criticalPairs," critical |",On.suspiciousPairs," suspicious |",On.listenerInteractions," listener interactions."]})]})]}),d.jsxs(je,{children:[d.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border flex flex-col sm:flex-row gap-4 items-center sticky top-0 z-10 bg-opacity-95 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[d.jsx("label",{htmlFor:"riskMatrixFilterRisk",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Risk"}),d.jsxs("select",{id:"riskMatrixFilterRisk",value:vo,onChange:y=>Oi(y.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500","aria-label":"Filter matrix cells by risk level",children:[d.jsx("option",{value:"all",children:"All Interactions"}),d.jsx("option",{value:"critical",children:"Critical"}),d.jsx("option",{value:"suspicious",children:"Suspicious"}),d.jsx("option",{value:"warning",children:"Warning"}),d.jsx("option",{value:"safe",children:"Safe"}),d.jsx("option",{value:"unknown",children:"Unknown"})]})]}),d.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[d.jsx("label",{htmlFor:"riskMatrixSearchTerm",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Matrix"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"riskMatrixSearchTerm",placeholder:"IP, port, PID, state, issue...",value:xo,onChange:y=>bn(y.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-10","aria-label":"Search risk matrix"}),d.jsx(gl,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})]})]})]}),Mo.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[d.jsx("thead",{className:"bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"Risk"}),d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"Local Address"}),d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"Foreign Address"}),d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"Protocol"}),d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"States"}),d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"Count"}),d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"PIDs"}),d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"Issues"}),d.jsx("th",{scope:"col",className:"px-3 py-2.5 text-left font-semibold text-gray-600",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Mo.map(y=>d.jsxs(Vh.Fragment,{children:[d.jsxs("tr",{className:`hover:bg-gray-50/50 ${y.isListenerInteraction?"bg-blue-50/20":""} ${y.risk==="critical"?"bg-red-50/60 even:bg-red-100/40":y.risk==="suspicious"?"bg-orange-50/60 even:bg-orange-100/40":y.risk==="warning"?"bg-yellow-50/60 even:bg-yellow-100/40":"even:bg-gray-50/30"}`,children:[d.jsx("td",{className:"px-3 py-2.5 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[Yt(y.risk),y.isListenerInteraction&&d.jsx(nv,{className:"w-3.5 h-3.5 ml-1 text-blue-500",title:"Represents a Listening Port Interaction"})]})}),d.jsx("td",{className:`px-3 py-2.5 whitespace-nowrap font-mono text-xs ${ss(y.risk)}`,title:y.localAddress,children:y.localAddress}),d.jsx("td",{className:`px-3 py-2.5 whitespace-nowrap font-mono text-xs ${ss(y.risk)}`,title:y.foreignAddress,children:y.foreignAddress}),d.jsx("td",{className:`px-3 py-2.5 whitespace-nowrap ${ss(y.risk)}`,children:y.protocol}),d.jsx("td",{className:"px-3 py-2.5 whitespace-nowrap",children:Array.from(y.states).map(_=>d.jsx(qi,{variant:"secondary",className:"mr-1 mb-1 text-xs",children:_},_))}),d.jsx("td",{className:`px-3 py-2.5 whitespace-nowrap text-center ${ss(y.risk)}`,children:y.connectionCount}),d.jsx("td",{className:"px-3 py-2.5 whitespace-nowrap font-mono text-xs max-w-[100px] truncate",title:Array.from(y.aggregatedPIDs).join(", ")||"N/A",children:Array.from(y.aggregatedPIDs).length>0?d.jsx("span",{className:ss(y.risk),children:Array.from(y.aggregatedPIDs).join(", ")}):d.jsx("span",{className:"text-gray-500",children:"N/A"})}),d.jsx("td",{className:"px-3 py-2.5 max-w-xs truncate",children:y.issues.length>0?d.jsxs("span",{className:ss(y.risk),title:y.issues.join(", "),children:[y.issues[0].substring(0,30),y.issues[0].length>30?"...":""," ",y.issues.length>1?` (+${y.issues.length-1})`:""]}):d.jsx("span",{className:"text-gray-500",children:"None"})}),d.jsx("td",{className:"px-3 py-2.5 whitespace-nowrap",children:pt&&lt&&d.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>Eo(y),disabled:Bn[y.id]||!lt,className:"h-7 w-7 text-purple-600 hover:bg-purple-100",title:"Get AI Insight for this interaction",children:Bn[y.id]?d.jsx(li,{className:"w-3.5 h-3.5 animate-spin"}):d.jsx(fo,{className:"w-3.5 h-3.5"})})})]}),Bn[y.id]&&d.jsx("tr",{children:d.jsx("td",{colSpan:9,className:"p-2 bg-purple-50/30 text-xs text-purple-700",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(li,{className:"w-3.5 h-3.5 mr-2 animate-spin"})," Fetching AI insight for ",y.localAddress,"  ",y.foreignAddress,"..."]})})}),Fi[y.id]&&!Bn[y.id]&&d.jsx("tr",{children:d.jsxs("td",{colSpan:9,className:"p-3 bg-purple-50/50 border-t border-purple-200",children:[d.jsxs("h5",{className:"text-xs font-semibold text-purple-800 mb-1 flex items-center",children:[d.jsx(Vi,{className:"w-3.5 h-3.5 mr-1 text-yellow-500"}),"AI Insight for ",y.localAddress,"  ",y.foreignAddress,":"]}),d.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 bg-white p-2 rounded shadow-sm font-sans",children:Fi[y.id]})]})})]},y.id))})]})}):d.jsxs("div",{className:"text-center py-10",children:[d.jsx(gl,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No interactions match your current filters in the current view."}),zt.length===0&&d.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No interaction data available in the current analysis."})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 italic",children:"AI insights for specific interactions can help contextualize aggregated findings. Listener interactions are highlighted."})]})]}),q==="riskMatrix"&&!o&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(cc,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No analysis loaded for Risk Matrix."})]}),q==="portUsage"&&o&&!o.error&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Ge,{className:"shadow-inner",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(Va,{className:"w-5 h-5 mr-2 text-green-500"}),"Local Port Activity (Current View)"]}),d.jsxs(Tn,{children:["Usage of local ports (",Ht.totalUnique," unique). Includes ",Ht.listeningCount," exposed listeners. Top active: ",Ht.top3Active.join(", ")||"N/A","."]})]}),d.jsx(je,{children:o.allLocalPortsActivity.length>0?d.jsx("div",{className:"max-h-[600px] overflow-y-auto space-y-2 pr-2",children:o.allLocalPortsActivity.map(y=>d.jsxs(Ge,{className:"p-3 border rounded-md text-sm hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("div",{className:"font-semibold text-gray-800",children:[y.port,"/",y.protocol," (",y.service,")"]}),Yt(y.risk)]}),d.jsx("p",{className:"text-xs text-gray-500 mb-1 truncate",title:y.description,children:y.description}),d.jsxs("div",{className:"text-xs text-gray-600",children:["Usage Count: ",y.count]})]},`${y.port}-${y.protocol}-local`))}):d.jsx("p",{className:"text-gray-500 italic",children:"No local port activity data found."})})]}),d.jsxs(Ge,{className:"shadow-inner",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(Va,{className:"w-5 h-5 mr-2 text-red-500"}),"Foreign Port Activity (Current View)"]}),d.jsxs(Tn,{children:["Connections to foreign ports (",Ji.totalUnique," unique).",Ji.riskyCount," involve risky ports. Top connected: ",Ji.top3Active.join(", ")||"N/A","."]})]}),d.jsx(je,{children:o.allForeignPortsActivity.length>0?d.jsx("div",{className:"max-h-[600px] overflow-y-auto space-y-2 pr-2",children:o.allForeignPortsActivity.map(y=>d.jsxs(Ge,{className:"p-3 border rounded-md text-sm hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("div",{className:"font-semibold text-gray-800",children:[y.port,"/",y.protocol," (",y.service,")"]}),Yt(y.risk)]}),d.jsx("p",{className:"text-xs text-gray-500 mb-1 truncate",title:y.description,children:y.description}),d.jsxs("div",{className:"text-xs text-gray-600",children:["Connection Count: ",y.count]})]},`${y.port}-${y.protocol}-foreign`))}):d.jsx("p",{className:"text-gray-500 italic",children:"No foreign port activity data found."})})]})]}),q==="portUsage"&&!o&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(Va,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No analysis loaded for port usage."})]}),q==="ipAnalysis"&&o&&!o.error&&d.jsxs(Ge,{className:"shadow-inner",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(sc,{className:"w-5 h-5 mr-2 text-blue-500"}),"External IP Analysis (",Rn.length," Unique Public IPs) (Current View)"]}),d.jsx(Tn,{children:"Details of unique external IP addresses involved in connections. Enhanced with AI reputation checks."})]}),d.jsxs(je,{children:[Rn.length>0?d.jsx("div",{className:"space-y-4",children:Rn.map(y=>{const _=y.ip;return d.jsxs(Ge,{className:"border rounded-lg overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2 sm:mb-0",children:[d.jsx("div",{className:`w-3 h-3 rounded-full mr-1 ${Yi(y.risk)} flex-shrink-0`}),d.jsx("div",{className:"font-mono text-gray-800 text-lg",children:y.ip}),Nt(y.ip)]}),d.jsxs("div",{className:"flex flex-col items-start sm:items-end space-y-1",children:[Yt(y.risk),d.jsxs("span",{className:"text-xs text-gray-500",children:["Connections: ",y.connections]})]})]}),d.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Ports: ",Array.from(y.ports).slice(0,5).join(", "),y.ports.size>5&&` (+${y.ports.size-5} more)`]}),pt&&lt&&d.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>nr(y.ip,y),disabled:fi[_]||!lt,className:"border-blue-500 text-blue-600 hover:bg-blue-50 hover:text-blue-700 whitespace-nowrap text-xs",children:[fi[_]?d.jsx(li,{className:"w-3 h-3 mr-1.5 animate-spin"}):d.jsx(fo,{className:"w-3 h-3 mr-1.5"}),"Get AI Reputation Analysis (with Search)"]})]}),fi[_]&&d.jsxs("div",{className:"p-3 border-t border-gray-200 text-sm text-blue-700 flex items-center bg-blue-50/30",children:[d.jsx(li,{className:"w-4 h-4 mr-2 animate-spin"})," Fetching AI insights for ",y.ip,"..."]}),ho[_]&&!fi[_]&&d.jsxs("div",{className:"p-4 border-t border-gray-200 bg-blue-50/30",children:[d.jsxs("h4",{className:"text-sm font-semibold text-blue-800 mb-2 flex items-center",children:[d.jsx(Vi,{className:"w-4 h-4 mr-1.5 text-yellow-500"}),"AI Insights for ",y.ip,":"]}),d.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 bg-white p-3 rounded-md shadow-sm overflow-x-auto font-sans",children:ho[_]})]})]},_)})}):d.jsx("p",{className:"text-gray-500 italic text-center py-4",children:"No external IP addresses found in the current analysis."}),d.jsx("p",{className:"text-xs text-gray-500 mt-6 italic",children:"AI-powered IP reputation uses Google Search and may take a moment. Always verify critical findings."})]})]}),q==="ipAnalysis"&&!o&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(sc,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-lg text-gray-500",children:"No analysis loaded for IP analysis."})]}),q==="timeline"&&d.jsx("div",{className:"space-y-6",children:d.jsxs(Ge,{className:"shadow-inner",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center text-gray-700",children:[d.jsx(dp,{className:"w-5 h-5 mr-2 text-purple-500"}),"Analysis History & Timeline"]}),d.jsx(Tn,{children:"Review past analyses or track a specific IP's activity across snapshots."})]}),d.jsxs(je,{children:[c.length>0?d.jsxs("div",{className:"space-y-3 mb-6",children:[d.jsxs("h3",{className:"text-md font-semibold text-gray-700 mb-1",children:["Available Snapshots (",c.length,"):"]}),c.sort((y,_)=>_.timestamp.getTime()-y.timestamp.getTime()).map(y=>d.jsxs("div",{className:"p-3 border rounded-md flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white hover:bg-gray-50/50 transition-colors",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-gray-800",children:y.name}),d.jsxs("span",{className:"text-xs text-gray-500 block sm:inline sm:ml-2",children:[new Date(y.timestamp).toLocaleString(),y.results.error&&d.jsx(qi,{variant:"destructive",className:"ml-2",children:"Error"})]})]}),d.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[d.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>Hn(y.id),className:"text-xs",children:[d.jsx(Ua,{className:"w-3.5 h-3.5 mr-1.5"})," Load Snapshot"]}),d.jsxs(Oe,{size:"sm",variant:"ghost",onClick:()=>mi(y.id),className:"text-red-500 hover:bg-red-100 text-xs",children:[d.jsx(gp,{className:"w-3.5 h-3.5 mr-1.5"})," Remove"]})]})]},y.id))]}):d.jsx("p",{className:"text-gray-500 italic mb-6 text-center py-3",children:"No analysis history yet. Upload and analyze files to build a timeline."}),d.jsx("hr",{className:"my-6"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-2",children:"Track IP Across Snapshots:"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4 items-end",children:[d.jsxs("div",{className:"flex-grow",children:[d.jsx("label",{htmlFor:"timelineIp",className:"block text-xs font-medium text-gray-600 mb-0.5",children:"Enter IP Address:"}),d.jsx("input",{type:"text",id:"timelineIp",placeholder:"e.g., 192.168.1.100 or 127.0.0.1",value:yo,onChange:y=>Bi(y.target.value),className:"p-2 border border-gray-300 rounded-md shadow-sm w-full focus:ring-purple-500 focus:border-purple-500"})]}),d.jsxs(Oe,{onClick:()=>ps(yo),disabled:!yo,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-300",children:[d.jsx(gl,{className:"w-4 h-4 mr-2"})," Track IP"]})]}),An&&Ki.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"text-sm font-semibold text-gray-700 my-3",children:["Timeline for IP: ",d.jsx("span",{className:"font-mono text-purple-700",children:An})," (",Ki.filter(y=>y.ipFound).length," snapshots found)"]}),d.jsx("div",{className:"space-y-4",children:Ki.map(y=>{var _,E;return d.jsxs(Ge,{className:`border rounded-lg ${y.ipFound?"bg-purple-50/30 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[d.jsx(it,{className:"pb-3 pt-4 px-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(ot,{className:"text-sm font-semibold text-purple-800",children:y.snapshotName}),d.jsxs("span",{className:"text-xs text-gray-500",children:[new Date(y.snapshotTimestamp).toLocaleDateString()," ",new Date(y.snapshotTimestamp).toLocaleTimeString()]})]})}),d.jsx(je,{className:"px-4 pb-4 text-xs",children:y.ipFound?d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:"Overall Risk Related to IP:"})," ",Yt(((_=y.summary)==null?void 0:_.risk)||"unknown")]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Total Connections involving IP:"})," ",(E=y.summary)==null?void 0:E.connectionCount]}),y.connectionsFromIp.length>0&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Services Hosted/Listening on IP:"})," ",d.jsx("span",{className:"font-mono",children:y.connectionsFromIp.map(D=>{var H;return`${be(D.localAddress)[1]||"N/A"}/${D.protocol} (${((H=D.portInfo)==null?void 0:H.name)||"Unknown"})`}).join(", ")})]}),y.connectionsToIp.length>0&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Outbound Connections Made by IP:"})," ",y.connectionsToIp.length," (to various remote services)"]}),y.summary&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:[d.jsxs("span",{className:"font-medium",children:["Ports on ",An," involved:"]})," ",y.summary.allPortsInvolvedWithIp.join(", ")||"N/A"]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Connection States:"})," ",y.summary.connectionStates.join(", ")||"N/A"]})]})]}):d.jsxs("p",{className:"italic text-gray-500",children:["IP ",d.jsx("span",{className:"font-mono",children:An})," not found in this snapshot."]})})]},y.snapshotId)})})]}),An&&Ki.length===0&&c.length>0&&d.jsxs("p",{className:"text-gray-500 italic text-center py-3",children:["No activity found for IP ",d.jsx("span",{className:"font-mono",children:An})," in any snapshot."]})]})]})]})}),q==="settings"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ge,{className:"shadow-lg",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center",children:[d.jsx(Q0,{className:"w-6 h-6 mr-2 text-blue-600"}),"API Key Configuration"]}),d.jsx(Tn,{children:"Configure your Google Gemini API key to enable AI-powered analysis features."})]}),d.jsxs(je,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"api-key-input",className:"text-sm font-medium text-gray-700",children:"Gemini API Key"}),d.jsxs("div",{className:"relative",children:[d.jsx(os,{id:"api-key-input",type:$?"text":"password",placeholder:"Enter your Google Gemini API key...",value:M,onChange:y=>V(y.target.value),variant:x===!1?"error":"default",className:"pr-20"}),d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center space-x-1 pr-3",children:d.jsx(Oe,{type:"button",variant:"ghost",size:"icon",onClick:()=>j(!$),className:"h-8 w-8 text-gray-500 hover:text-gray-700",children:$?d.jsx(B0,{className:"w-4 h-4"}):d.jsx(Ua,{className:"w-4 h-4"})})})]}),x===!1&&d.jsx("p",{className:"text-sm text-red-600",children:"Invalid API key. Please check your key and try again."}),x===!0&&d.jsx("p",{className:"text-sm text-green-600",children:"API key is valid and ready to use."})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx(Oe,{onClick:async()=>{await gs(M)&&Sl(M)},disabled:!M.trim()||T,className:"bg-blue-600 hover:bg-blue-700",children:T?d.jsxs(d.Fragment,{children:[d.jsx(li,{className:"w-4 h-4 mr-2 animate-spin"}),"Validating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(rc,{className:"w-4 h-4 mr-2"}),"Save & Validate"]})}),d.jsx(Oe,{variant:"outline",onClick:()=>{V(g),h(null)},children:"Load Current Key"}),d.jsx(Oe,{variant:"outline",onClick:()=>{V(""),h(null)},children:"Clear"})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Current Status:"}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Environment API Key:"}),d.jsx("span",{className:Ja?"text-green-600":"text-gray-500",children:Ja?"  Available":" Not configured"})]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"User API Key:"}),d.jsx("span",{className:g?"text-green-600":"text-gray-500",children:g?"  Configured":" Not configured"})]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Effective API Key:"}),d.jsx("span",{className:lt?"text-green-600":"text-red-600",children:lt?"  Available (AI features enabled)":"  Not available (AI features disabled)"})]})]})]}),d.jsxs(Ga,{children:[d.jsx(ac,{className:"w-4 h-4"}),d.jsx(Ba,{children:"How to get a Gemini API Key"}),d.jsxs(za,{children:[d.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[d.jsxs("li",{children:["Visit ",d.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Google AI Studio"})]}),d.jsx("li",{children:"Sign in with your Google account"}),d.jsx("li",{children:'Click "Create API Key" and select a project'}),d.jsx("li",{children:"Copy the generated API key and paste it above"})]}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your API key is stored locally in your browser and is never sent to our servers."})]})]})]})]}),d.jsxs(Ge,{className:"shadow-lg",children:[d.jsxs(it,{children:[d.jsxs(ot,{className:"flex items-center",children:[d.jsx(is,{className:"w-6 h-6 mr-2 text-red-600"}),"Custom Threat Intelligence Lists"]}),d.jsx(Tn,{children:"Add custom IP threat intelligence lists to enhance security analysis. IPs matching these lists will be flagged during analysis."})]}),d.jsxs(je,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h4",{className:"font-semibold text-gray-700",children:"Threat Intelligence Lists"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs(Oe,{onClick:Gt,size:"sm",variant:"outline",disabled:Q.length===0,className:"text-blue-600 hover:bg-blue-50",children:[d.jsx(cp,{className:"w-4 h-4 mr-2"}),"Export"]}),d.jsxs("label",{className:"cursor-pointer",children:[d.jsx("input",{type:"file",accept:".json",onChange:di,className:"hidden"}),d.jsxs("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background border border-input hover:bg-accent hover:text-accent-foreground h-9 px-3 text-green-600 hover:bg-green-50",children:[d.jsx(vp,{className:"w-4 h-4 mr-2"}),"Import"]})]}),d.jsxs(Oe,{onClick:()=>Z(!0),size:"sm",className:"bg-red-600 hover:bg-red-700",children:[d.jsx(pp,{className:"w-4 h-4 mr-2"}),"Add List"]})]})]}),ce&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"List Name"}),d.jsx(os,{placeholder:"e.g., Known Malicious IPs",value:ze,onChange:y=>de(y.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),d.jsx(os,{placeholder:"Brief description of this threat list",value:Ve,onChange:y=>Me(y.target.value)})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs(Oe,{onClick:Wa,disabled:!ze.trim(),size:"sm",className:"bg-green-600 hover:bg-green-700",children:[d.jsx(rc,{className:"w-4 h-4 mr-2"}),"Create List"]}),d.jsx(Oe,{onClick:()=>{Z(!1),de(""),Me("")},variant:"outline",size:"sm",children:"Cancel"})]})]}),d.jsx("div",{className:"space-y-3",children:Q.length===0?d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(is,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),d.jsx("p",{children:"No threat intelligence lists configured."}),d.jsx("p",{className:"text-sm",children:"Add a list to start building your custom threat intelligence."})]}):d.jsx("div",{children:Q.map(y=>{var _;return d.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h5",{className:"font-semibold text-gray-800",children:y.name}),d.jsx(qi,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"}),d.jsxs(qi,{variant:"outline",children:[y.entries.length," entries"]})]}),y.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.description}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",y.dateCreated.toLocaleDateString()," | Modified: ",y.dateModified.toLocaleDateString()]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Oe,{onClick:()=>El(y.id),variant:"outline",size:"sm",className:y.isActive?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50",children:y.isActive?"Disable":"Enable"}),d.jsxs(Oe,{onClick:()=>ie(se===y.id?null:y.id),variant:"outline",size:"sm",className:"text-blue-600 hover:bg-blue-50",children:[d.jsx(yv,{className:"w-4 h-4 mr-1"}),se===y.id?"Close":"Manage"]}),d.jsx(Oe,{onClick:()=>Al(y.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:d.jsx(yp,{className:"w-4 h-4"})})]})]}),se===y.id&&d.jsxs("div",{className:"border-t pt-3 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h6",{className:"font-medium text-gray-700",children:"Threat Entries"}),d.jsxs(Oe,{onClick:()=>Te(!0),size:"sm",variant:"outline",className:"text-green-600 hover:bg-green-50",children:[d.jsx(pp,{className:"w-4 h-4 mr-1"}),"Add Entry"]})]}),Ne&&d.jsxs("div",{className:"bg-blue-50 p-3 rounded space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IP Address/CIDR"}),d.jsx(os,{placeholder:"e.g., 192.168.1.1 or 10.0.0.0/24",value:Ce.ip||"",onChange:E=>Rt({...Ce,ip:E.target.value}),variant:Ce.ip&&!To(Ce.ip)?"error":"default"}),Ce.ip&&!To(Ce.ip)&&d.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Invalid IP address or CIDR format"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Severity"}),d.jsxs("select",{value:Ce.severity||"medium",onChange:E=>Rt({...Ce,severity:E.target.value}),className:"w-full h-10 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"low",children:"Low"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"high",children:"High"}),d.jsx("option",{value:"critical",children:"Critical"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),d.jsx(os,{placeholder:"Brief description of the threat",value:Ce.description||"",onChange:E=>Rt({...Ce,description:E.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Source"}),d.jsx(os,{placeholder:"e.g., Internal Analysis, VirusTotal",value:Ce.source||"",onChange:E=>Rt({...Ce,source:E.target.value})})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs(Oe,{onClick:ys,disabled:!((_=Ce.ip)!=null&&_.trim())||!To(Ce.ip),size:"sm",className:"bg-green-600 hover:bg-green-700",children:[d.jsx(rc,{className:"w-4 h-4 mr-2"}),"Add Entry"]}),d.jsx(Oe,{onClick:()=>{Te(!1),Rt({ip:"",description:"",severity:"medium",source:"",tags:[]})},variant:"outline",size:"sm",children:"Cancel"})]})]}),d.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:y.entries.length===0?d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No entries in this list."}):y.entries.map(E=>d.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("code",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:E.ip}),d.jsx(qi,{variant:E.severity==="critical"||E.severity==="high"?"destructive":E.severity==="medium"?"default":"secondary",children:E.severity})]}),E.description&&d.jsx("p",{className:"text-xs text-gray-600 mt-1",children:E.description}),d.jsxs("p",{className:"text-xs text-gray-500",children:[E.source,"  Added ",E.dateAdded.toLocaleDateString()]})]}),d.jsx(Oe,{onClick:()=>vs(y.id,E.id),variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50",children:d.jsx(yp,{className:"w-4 h-4"})})]},E.id))})]})]},y.id)})})}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(ac,{className:"w-4 h-4 mr-2 text-blue-600"}),d.jsx("h4",{className:"font-semibold text-blue-900",children:"Threat Intelligence Usage"})]}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-800",children:[d.jsx("li",{children:"IPs matching active threat lists will be highlighted in analysis results"}),d.jsx("li",{children:"Supports both individual IPs (192.168.1.1) and CIDR ranges (10.0.0.0/24)"}),d.jsx("li",{children:"Lists are stored locally in your browser and never sent to external servers"}),d.jsx("li",{children:"Disable lists temporarily without deleting entries"})]})]})]})]})]}),q==="help"&&d.jsxs("div",{className:"space-y-4",children:[Dn("gettingOutput","Getting Your Netstat Output",La,d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"To use this tool, you'll need to provide the output of a netstat command from your system, saved as a plain text file (.txt, .log)."}),d.jsx("h4",{className:"font-semibold mt-3 mb-1",children:"Windows:"}),d.jsxs("ul",{className:"list-disc pl-5",children:[d.jsx("li",{children:'Open Command Prompt (search "cmd"). For more detailed information (like Process IDs and Executables), run it as Administrator.'}),d.jsxs("li",{children:["Command: ",d.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"netstat -ano > netstat_output.txt"})]}),d.jsxs("li",{children:["This saves output with All connections, Numeric addresses/ports, and owning Process IDs to ",d.jsx("code",{children:"netstat_output.txt"})," in your current directory."]}),d.jsxs("li",{children:["If run as Administrator, you can use ",d.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"netstat -anob > netstat_output.txt"})," to include executable names (can make files larger)."]})]}),d.jsx("h4",{className:"font-semibold mt-3 mb-1",children:"Linux:"}),d.jsxs("ul",{className:"list-disc pl-5",children:[d.jsx("li",{children:"Open your terminal."}),d.jsxs("li",{children:["Recommended Command (modern): ",d.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"ss -tulpn > netstat_output.txt"})," (shows TCP, UDP, Listening, Processes, Numeric)."]}),d.jsxs("li",{children:["Alternative (older): ",d.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"netstat -tulnp > netstat_output.txt"})]}),d.jsxs("li",{children:["Tip: Use ",d.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"sudo"})," (e.g., ",d.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"sudo ss -tulpn > netstat_output.txt"}),") for full process information."]})]}),d.jsx("h4",{className:"font-semibold mt-3 mb-1",children:"macOS:"}),d.jsxs("ul",{className:"list-disc pl-5",children:[d.jsx("li",{children:"Open Terminal (Applications > Utilities > Terminal)."}),d.jsxs("li",{children:["Command: ",d.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"netstat -an > netstat_output.txt"})]}),d.jsx("li",{children:"This provides a general overview. The parser is designed for this common format."}),d.jsxs("li",{children:["For more detailed process info (might require sudo): ",d.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"lsof -i -P -n > netstat_output.txt"})," (note: lsof output format is different but this tool might parse some common patterns). For best results with this tool, stick to `netstat -an`."]})]})]})),Dn("aboutTool","About This Tool",ac,d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"This Netstat Security Analyzer helps you understand your system's network connections by parsing the output from netstat (or ss) commands."}),d.jsx("p",{children:d.jsx("strong",{children:"Key Features:"})}),d.jsxs("ul",{className:"list-disc pl-5",children:[d.jsx("li",{children:"Parses netstat logs from Windows, Linux, and macOS."}),d.jsx("li",{children:"Identifies listening ports and active connections."}),d.jsx("li",{children:"Flags potential risks based on port numbers, connection states, and a built-in list of known Threat Intelligence IPs."}),d.jsx("li",{children:"Categorizes local services running on the loopback interface (127.0.0.1)."}),d.jsx("li",{children:"Provides an overview of port usage and IP address interactions."}),d.jsx("li",{children:"Offers AI-powered insights (if API key is available) for deeper understanding of services, IPs, and overall security posture."}),d.jsx("li",{children:"Allows historical analysis by loading multiple snapshots."}),d.jsx("li",{children:"Generates downloadable JSON and HTML reports."})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Goal:"})," To provide a user-friendly way to quickly assess network activity from a netstat log, highlight areas of potential concern, and aid in security awareness and basic troubleshooting."]})]})),Dn("understandingAnalysis","Understanding the Analysis",mp,d.jsxs(d.Fragment,{children:[d.jsx("h4",{className:"font-semibold mt-2 mb-1",children:"Risk Levels:"}),d.jsxs("ul",{className:"list-disc pl-5",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Safe:"})," Generally recognized safe services, standard OS behavior, or purely local traffic not typically associated with threats."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Warning:"})," Services that could be misconfigured (e.g., listening on all interfaces unnecessarily), unencrypted versions of services where secure alternatives exist, or minor deviations from best practices."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Suspicious:"})," Connections or services that warrant closer inspection. This includes connections to/from public IPs (especially non-standard services), services like RDP/SMB if exposed, unusual connection states, or services on non-standard ports that are often abused."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Critical:"})," Connections involving IPs from the built-in Threat Intelligence list, or services that are inherently highly vulnerable if exposed (e.g., Telnet). These require immediate attention."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Unknown:"})," The port or service is not in the tool's known list, or its state is indeterminate from the netstat line."]})]}),d.jsx("h4",{className:"font-semibold mt-3 mb-1",children:"Key Information Points:"}),d.jsxs("ul",{className:"list-disc pl-5",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Local Address / Foreign Address:"})," Your system's IP:Port and the remote system's IP:Port. An asterisk (*) often means any address or an unspecified port."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"PID (Process ID):"})," If available in your netstat output, this number identifies the program on your system responsible for the connection. You can use Task Manager (Windows) or ",d.jsx("code",{children:"ps"}),"/",d.jsx("code",{children:"top"})," (Linux/macOS) to match PIDs to programs."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"State (TCP Connections):"}),d.jsxs("ul",{className:"list-circle pl-5",children:[d.jsxs("li",{children:[d.jsx("code",{children:"LISTEN"})," / ",d.jsx("code",{children:"LISTENING"}),": A service on your machine is waiting for incoming connections on a specific port."]}),d.jsxs("li",{children:[d.jsx("code",{children:"ESTABLISHED"}),": An active, ongoing connection."]}),d.jsxs("li",{children:[d.jsx("code",{children:"SYN_SENT"})," / ",d.jsx("code",{children:"SYN_RCVD"}),": Part of the TCP connection establishment handshake. Many of these could indicate connection attempts (yours or to you) or scanning."]}),d.jsxs("li",{children:[d.jsx("code",{children:"TIME_WAIT"}),": Connection is closed, but the port is kept unavailable for a short period to ensure all lingering packets are handled. Usually normal."]}),d.jsxs("li",{children:[d.jsx("code",{children:"CLOSE_WAIT"})," / ",d.jsx("code",{children:"LAST_ACK"})," / ",d.jsx("code",{children:"FIN_WAIT_1"})," / ",d.jsx("code",{children:"FIN_WAIT_2"}),": Various states of connection termination."]})]})]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Well-Known Ports:"})," Standardized port numbers for common internet services (e.g., port 80 for HTTP, 443 for HTTPS, 22 for SSH). The tool uses a list of these to identify services and assess baseline risk."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Threat Intelligence IPs:"})," The tool includes a static list of IP addresses that have been reported as malicious. Connections to or from these IPs are flagged as 'Critical'. This list is for demonstration and may not be exhaustive or perfectly up-to-date."]})]})]})),Dn("usingAi","Using AI Features",fo,d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:["This tool can use Google Gemini (via the ",d.jsx("code",{children:"@google/genai"})," SDK) to provide AI-powered insights on various aspects of your network analysis."]}),d.jsx("h4",{className:"font-semibold mt-3 mb-1",children:"How it Works:"}),d.jsxs("ul",{className:"list-disc pl-5",children:[d.jsx("li",{children:"AI can help explain what a local service on 127.0.0.1 might be."}),d.jsx("li",{children:"It can provide a reputation analysis for external IP addresses using Google Search grounding."}),d.jsx("li",{children:"It can offer a contextual security assessment for specific exposed listening ports."}),d.jsx("li",{children:"It can generate an overall security briefing based on the current analysis results."})]}),d.jsx("h4",{className:"font-semibold mt-3 mb-1",children:"API Key Configuration:"}),d.jsxs("ul",{className:"list-disc pl-5",children:[d.jsx("li",{children:"To use the AI features, you need a valid Google Gemini API Key. You can configure this in two ways:"}),d.jsxs("li",{children:[d.jsx("strong",{children:"Settings Tab (Recommended):"})," Use the Settings tab to enter and validate your API key directly in the application. The key is stored securely in your browser's local storage."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Environment Variable:"})," Set the API key as an environment variable named ",d.jsx("code",{children:"API_KEY"})," or ",d.jsx("code",{children:"GEMINI_API_KEY"})," in the environment where this application runs."]}),d.jsx("li",{children:"Environment variables take precedence over user-entered keys. If neither is configured, AI features will be disabled."}),d.jsxs("li",{children:["Get your free API key from ",d.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Google AI Studio"}),"."]})]}),d.jsx("h4",{className:"font-semibold mt-3 mb-1",children:"What to Expect:"}),d.jsx("p",{children:"AI insights are generated based on the specific data from your netstat log (like ports, IPs, PIDs) and Google Gemini's general knowledge and search capabilities. The prompts sent to the AI are designed to be specific to the context you're exploring."}),d.jsx("p",{children:d.jsx("em",{children:"Always critically evaluate AI-generated information and cross-reference with other sources if making important security decisions."})})]})),Dn("interpretationTips","Tips for Interpretation",Vi,d.jsx(d.Fragment,{children:d.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[d.jsxs("li",{children:[d.jsxs("strong",{children:[d.jsx("code",{children:"0.0.0.0"})," or ",d.jsx("code",{children:"::"})," (IPv6 equivalent) in Local Address:"]}),` This means a service on your machine is "listening" on all available network interfaces (Ethernet, Wi-Fi, etc.). This is common for web servers or other services designed to be accessible from other machines on your network or the internet. If you don't expect a service to be accessible externally, investigate why it's listening on all interfaces.`]}),d.jsxs("li",{children:[d.jsxs("strong",{children:[d.jsx("code",{children:"127.0.0.1"})," (localhost) or ",d.jsx("code",{children:"::1"})," (IPv6 localhost):"]}),' This is the loopback interface. Connections to/from this IP are typically between processes running on your own machine. While usually safe, malware can also use loopback for local communication or proxying. The "Local Services" tab focuses on these.']}),d.jsxs("li",{children:[d.jsxs("strong",{children:["Many ",d.jsx("code",{children:"TIME_WAIT"})," states:"]})," This is often normal, especially on busy servers or after browsing many websites. It's part of TCP's mechanism to ensure reliable connection closure. However, an extremely high and persistent number could sometimes indicate network issues or resource exhaustion under specific circumstances, but usually it's benign."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Focus Areas:"}),d.jsxs("ul",{className:"list-circle pl-5",children:[d.jsxs("li",{children:["Pay close attention to ",d.jsx("code",{children:"LISTEN"}),"ing ports, especially those on ",d.jsx("code",{children:"0.0.0.0"}),", ",d.jsx("code",{children:"::"}),", or your machine's actual public-facing IP address. Are these services expected to be open? Are they secure?"]}),d.jsxs("li",{children:["Examine ",d.jsx("code",{children:"ESTABLISHED"}),' connections to unfamiliar public IP addresses (see "IP Analysis" tab). What local process (PID) is making these connections?']}),d.jsx("li",{children:'Connections to "Critical" or "Suspicious" well-known ports on foreign IPs could indicate your system is connecting to a risky remote service.'})]})]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Correlate with System Knowledge:"}),` Always try to correlate the netstat findings with the applications you know are running on your system and your expected network behavior. An "unknown" service might be legitimate if it's part of a specific application you use.`]}),d.jsxs("li",{children:[d.jsx("strong",{children:"PID is Key:"})," If PIDs are available in your netstat output, they are very helpful for identifying which program is responsible for a particular connection. Use your OS's tools (Task Manager on Windows, ",d.jsx("code",{children:"ps"})," or Activity Monitor on macOS/Linux) to look up the process name."]})]})})),Dn("disclaimer","Disclaimer",Cn,d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"This Netstat Security Analyzer is provided for informational and educational purposes only. It is intended to help users understand their system's network activity and identify potential areas for further investigation."}),d.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Not a Substitute for Professional Advice:"})," This tool is not a replacement for professional security audits, dedicated security software (like firewalls or antivirus), or expert consultation."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Accuracy Depends on Input:"})," The accuracy and completeness of the analysis heavily depend on the quality and completeness of the netstat data provided by the user."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"AI Insights are Suggestions:"})," AI-generated insights are based on patterns and general knowledge. They should be critically reviewed, verified, and not taken as definitive security advice without further investigation and professional judgment. The AI can make mistakes or provide incomplete information."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"No Liability:"})," The creators and maintainers of this tool are not responsible for any actions taken or decisions made based on the information or analysis provided by this tool. Users are solely responsible for interpreting the results and any subsequent actions."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Use Responsibly:"})," Please use this tool responsibly and ethically. Do not use it to analyze systems or data you do not have permission to access."]})]})]}))]})]})]})]}),d.jsxs("footer",{className:"text-center py-6 mt-8",children:[d.jsxs("p",{className:"text-sm text-gray-500",children:["Netstat Security Analyzer  ",new Date().getFullYear(),". For educational and informational purposes only."]}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"AI features powered by Google Gemini. Use responsibly."})]})]})},hg=document.getElementById("root");if(!hg)throw new Error("Could not find root element to mount to");const PN=E0.createRoot(hg);PN.render(d.jsx(Vh.StrictMode,{children:d.jsx(IN,{})}));
